[
    {
        "tags": [
            "c#",
            ".net-core"
        ],
        "owner": {
            "account_id": 471044,
            "reputation": 777,
            "user_id": 878582,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/39176f6eeaa1837b866928413fc93532?s=256&d=identicon&r=PG",
            "display_name": "DaleStan",
            "link": "https://stackoverflow.com/users/878582/dalestan"
        },
        "is_answered": true,
        "view_count": 852,
        "accepted_answer_id": 79505865,
        "answer_count": 1,
        "score": 16,
        "last_activity_date": 1741876762,
        "creation_date": 1741851356,
        "last_edit_date": 1741876762,
        "question_id": 79505710,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505710/is-this-value-conversion-behavior-change-an-expected-change-between-net-8-and",
        "title": "Is this value conversion behavior change an expected change between .NET 8 and .NET 9?",
        "body": "<p>Compile</p>\n<pre class=\"lang-cs prettyprint-override\"><code>if ((int)MathF.Floor(float.PositiveInfinity) &gt; 0)\n    Console.WriteLine(&quot;This is .NET 9.0&quot;);\nelse\n    Console.WriteLine(&quot;This is .NET 8.0&quot;);\n</code></pre>\n<p>using either of these project files:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;net8.0&lt;/TargetFramework&gt;\n    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;\n  &lt;/PropertyGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n<p>or</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;net9.0&lt;/TargetFramework&gt;\n    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;\n  &lt;/PropertyGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n<p>On my computer, the program will correctly identify which project file you used, regardless of whether you compile it in debug or release mode.</p>\n<p>The Watch window in VS 2022 (17.13.3) reports that <code>(int)MathF.Floor(float.PositiveInfinity)</code> is <code>-2147483648</code> regardless of which runtime was targeted, but despite that, the <code>&gt; 0</code> branch is taken on .NET 9.</p>\n<p>Dumping the two Release DLLs in ildasm shows no meaningful differences.</p>\n<p><code>Environment.Version</code> is 8.0.14 or 9.0.3.</p>\n<p>Edits after the question was answered:<br />\nYes, my computer is x86-64.<br />\nThe VS Watch window does not (<a href=\"https://developercommunity.visualstudio.com/t/Saturating-conversions-are-not-respected/10871099?\" rel=\"noreferrer\">yet?</a>) perform saturating conversions when debugging a .NET 9 application.</p>\n"
    },
    {
        "tags": [
            "c++",
            "language-lawyer",
            "c++23"
        ],
        "owner": {
            "account_id": 26288876,
            "reputation": 163,
            "user_id": 29573597,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5c97dbdcfe5d693a88c4d3f527b36a06?s=256&d=identicon&r=PG",
            "display_name": "BlowingWind",
            "link": "https://stackoverflow.com/users/29573597/blowingwind"
        },
        "is_answered": true,
        "view_count": 149,
        "accepted_answer_id": 79505057,
        "answer_count": 1,
        "score": 6,
        "last_activity_date": 1741820980,
        "creation_date": 1741796543,
        "question_id": 79504233,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504233/example-in-c23-standard-doesnt-work-in-gcc",
        "title": "Example in C++23 standard doesn&#39;t work in gcc?",
        "body": "<p>In the <a href=\"https://eel.is/c++draft/basic.lookup.unqual\" rel=\"noreferrer\">unqualified name lookup</a>, the standard gives the example 1.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>struct T1 { struct U { int i; }; };\nstruct T2 { };\nstruct U1 {};\nstruct U2 {};\n\nstruct B {\n  using T = T1;\n  using U = U1;\n  operator U1 T1::*();\n  operator U1 T2::*();\n  operator U2 T1::*();\n  operator U2 T2::*();\n};\n\ntemplate&lt;class X, class T&gt;\nint g() {\n  using U = U2;\n  X().operator U T::*();                // #1, searches for T in the scope of X first\n  X().operator U decltype(T())::*();    // #2\n  return 0;\n}\nint x = g&lt;B, T2&gt;();                     // #1 calls B​::​operator U1 T1​::​*\n                                        // #2 calls B​::​operator U1 T2​::​*\n</code></pre>\n<blockquote>\n<p>An unqualified name that is a component name ([expr.prim.id.unqual]) of a <em>type-specifier</em> or <em>ptr-operator</em> of a <em>conversion-type-id</em> is looked up in the same fashion as the <em>conversion-function-id</em> in which it appears. If that lookup finds nothing, it undergoes unqualified name lookup; in each case, only names that denote types or templates whose specializations are types are considered.</p>\n</blockquote>\n<p>From the standard, it seems that the unqualified name <code>U</code> and <code>T</code> in <code>operator U T::*</code> shall be looked up in the same way as <code>operator U T::*</code>, i.e. looked up in the class scope <code>B</code>, so that the first call should be <code>operator U1 T1::*</code>. While the expression <code>decltype(T())</code> will be instantiated to be <code>T2</code>, the second call should be <code>operator U1 T2::*()</code>.</p>\n<p>It shocks me so that I made an experiment by adding codes below and compiling it:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n\nB::operator U1 T1::*()\n{\n    std::cout &lt;&lt; __func__ &lt;&lt; std::endl;\n    return nullptr;\n}\nB::operator U1 T2::*()\n{\n    std::cout &lt;&lt; __func__ &lt;&lt; std::endl;\n    return nullptr;\n}\nB::operator U2 T1::*()\n{\n    std::cout &lt;&lt; __func__ &lt;&lt; std::endl;\n    return nullptr;\n}\nB::operator U2 T2::*()\n{\n    std::cout &lt;&lt; __func__ &lt;&lt; std::endl;\n    return nullptr;\n}\nint main() {}\n</code></pre>\n<p>However, the result is</p>\n<pre><code>operator U2 T2::*\noperator U2 T2::*\n</code></pre>\n<p>instead of by the standard</p>\n<pre><code>operator U1 T1::*\noperator U1 T2::*\n</code></pre>\n<p>Why the behavior differs with standard? I find no Defect Report about this.</p>\n<blockquote>\n<p>My g++ version is<br />\ng++.exe (x86_64-win32-seh-rev1, Built by MinGW-Builds project) 14.2.0</p>\n</blockquote>\n"
    },
    {
        "tags": [
            "c",
            "linux",
            "rust",
            "operating-system",
            "shared-memory"
        ],
        "owner": {
            "account_id": 12222107,
            "reputation": 75,
            "user_id": 14294486,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/5d9f40e2b80f2bf283ba82193608d69a?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "sesh",
            "link": "https://stackoverflow.com/users/14294486/sesh"
        },
        "is_answered": true,
        "view_count": 117,
        "accepted_answer_id": 79505238,
        "answer_count": 1,
        "score": 5,
        "last_activity_date": 1741836343,
        "creation_date": 1741818151,
        "last_edit_date": 1741819322,
        "question_id": 79504993,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504993/best-approach-for-managing-shared-memory-cleanup-on-linux",
        "title": "Best Approach for Managing Shared Memory Cleanup on Linux?",
        "body": "<p>I am trying to create a Rust library to simplify working with shared memory on Linux. Processes would only be able to request shared memory through the library, but I cannot guarantee that they won't panic or be killed abruptly. I intend to use the library in <em><strong>runs</strong></em>, during which there is always at least one program using the shared memory, but once the <em><strong>run</strong></em> is concluded the shared memory needs to be cleaned up. There is no guarantee that a program will run for the entirety of the <em><strong>run</strong></em>, nor is it guaranteed that the last exiting program will exit cleanly. What is the best way to preserve the shared memory while the processes are still executing, but remove it immediately after the last attached process exits/is terminated?</p>\n<p>As far as I understand, there are two options for creating shared memory on Linux: the System V-style <code>shmat</code> or the POSIX-style <code>shm_open</code>. I prefer <code>shm_open</code> since it creates shared memory accessible through the file system, but this is not a strict requirement.</p>\n<p>My problem would not exists if I could attach to a System V-style shared memory marked for deletion via a new process:</p>\n<pre><code>unsafe {\n let shmid = shmget(KEY, SHMEM_SIZE, IPC_CREAT | IPC_EXCL | 0o770);\n let shmaddr = shmat(shmid, null_mut(), 0);\n shmctl(shmid, IPC_RMID, null_mut()); // mark it here for deletion\n let ptr = shmaddr as *mut [u8; SHMEM_SIZE as usize];\n *ptr = [12; SHMEM_SIZE as usize];\n}\n</code></pre>\n<p>And from a different process:</p>\n<pre><code>unsafe {\n let shmid = shmget(KEY, SHMEM_SIZE, IPC_EXCL); // this will not work since KEY is already marked for deletion\n let shmaddr = shmat(shmid, null_mut(), 0);\n let ptr = shmaddr as *mut [u8; SHMEM_SIZE as usize];\n *ptr = [13; SHMEM_SIZE as usize];\n}\n</code></pre>\n<p>Thereby delaying the deletion until both the new and the old process exits.</p>\n<p>From what I see, I have two options—neither of which are particularly good:</p>\n<ol>\n<li>I could create a daemon-like background process that new processes must register with by sending their PID. The daemon would store each PID internally and would obtain a file descriptor by calling the <code>pidfd_open</code> syscall. I could then use <code>poll</code> to monitor whether processes are still running and remove the shared memory when the PID list becomes empty (see the footer for my half-baked solution). The problem with this approach is that it feels brittle, and I would like to avoid spawning a separate process just to monitor shared memory usage.</li>\n<li>I could use eBPF to track processes opening my shared memory file. The eBPF program would maintain a PID list similar to the first approach and remove the shared memory when no processes remain. However, I have little experience with eBPF, so I'm unsure whether this is a viable approach. Additionally, eBPF typically requires a privileged environment, which I would prefer to avoid.</li>\n</ol>\n<p>Apologies if this question has been asked before—it seems too obvious to me—but I have searched for an elegant solution and haven't found one.</p>\n<hr />\n<p>The referenced daemon loop:</p>\n<pre><code>    pub fn handle_unix_socket(\n        &amp;self,\n        pollfd: &amp;mut PollFd,\n    ) -&gt; Result&lt;(Option&lt;OwnedFd&gt;, Option&lt;u32&gt;), std::io::Error&gt; {\n        let mut buffer = [0; 4];\n        if pollfd\n            .revents()\n            .unwrap_or(PollFlags::empty())\n            .contains(PollFlags::POLLIN)\n        {\n            if let Ok((mut stream, _)) = self.listener.accept() {\n                let _ = stream.read(&amp;mut buffer)?;\n                let pid = u32::from_be_bytes(buffer);\n                let fd = unsafe { syscall2(syscalls::Sysno::pidfd_open, pid as usize, 0).unwrap() };\n                let fd = unsafe { OwnedFd::from_raw_fd(fd as i32) };\n                stream.write_all(&amp;buffer)?;\n                Ok((Some(fd), Some(pid)))\n            } else {\n                todo!()\n            }\n        } else {\n            Ok((None, None))\n        }\n    }\n\n    pub fn event_loop(&amp;mut self) -&gt; Result&lt;(), std::io::Error&gt; {\n        loop {\n            let mut pollfds = vec![PollFd::new(self.listener.as_fd(), PollFlags::POLLIN)];\n            for fd in self.fds.iter() {\n                pollfds.push(PollFd::new(fd.as_fd(), PollFlags::POLLIN));\n            }\n            poll(&amp;mut pollfds, PollTimeout::NONE)?;\n            let (new_fd, new_pid) = self.handle_unix_socket(&amp;mut pollfds[0])?;\n            let remove_indicies = (1..pollfds.len())\n                .rev()\n                .filter(|i| {\n                    if let Some(pflag) = pollfds[*i].revents() {\n                        if pflag.contains(PollFlags::POLLIN) {\n                            return true;\n                        }\n                    }\n                    false\n                })\n                .collect::&lt;Vec&lt;_&gt;&gt;();\n            for i in remove_indicies {\n                self.pids.remove(i - 1);\n                self.fds.remove(i - 1);\n            }\n            match (new_fd, new_pid) {\n                (Some(new_fd), Some(new_pid)) =&gt; {\n                    self.fds.push(new_fd);\n                    self.pids.push(new_pid);\n                }\n                _ =&gt; {}\n            }\n            if self.pids.is_empty() {\n                return Ok(());\n            }\n        }\n    }\n</code></pre>\n"
    },
    {
        "tags": [
            "c",
            "testing",
            "pic",
            "xc8"
        ],
        "owner": {
            "account_id": 12444729,
            "reputation": 4340,
            "user_id": 9061264,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/8HDqS.png?s=256",
            "display_name": "Mike",
            "link": "https://stackoverflow.com/users/9061264/mike"
        },
        "is_answered": true,
        "view_count": 110,
        "accepted_answer_id": 79506865,
        "answer_count": 1,
        "score": 5,
        "last_activity_date": 1741932968,
        "creation_date": 1741878126,
        "last_edit_date": 1741932968,
        "question_id": 79506835,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506835/is-a-stack-overflow-on-a-compiled-stack-really-impossible",
        "title": "Is a stack overflow on a compiled stack really impossible?",
        "body": "<p>When I have finished a software, I carry out a stack overflow test at the end. Why don't I have to do this with a compiled stack?<br />\nAre overflows really completely impossible here or only very rare?</p>\n"
    },
    {
        "tags": [
            "python",
            "python-polars",
            "polars"
        ],
        "owner": {
            "account_id": 15333562,
            "reputation": 287,
            "user_id": 11062613,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/0507df65813c88e3bf77f8f02f046dc4?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Olibarer",
            "link": "https://stackoverflow.com/users/11062613/olibarer"
        },
        "is_answered": true,
        "view_count": 80,
        "accepted_answer_id": 79505187,
        "answer_count": 2,
        "score": 4,
        "last_activity_date": 1741882112,
        "creation_date": 1741797993,
        "last_edit_date": 1741882112,
        "question_id": 79504309,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504309/create-a-uniform-dataset-in-polars-with-cross-joins",
        "title": "Create a uniform dataset in Polars with cross joins",
        "body": "<p>I am working with Polars and need to ensure that my dataset contains all possible combinations of unique values in certain index columns. If a combination is missing in the original data, it should be filled with null.</p>\n<p>Currently, I use the following approach with sequential cross joins:</p>\n<pre><code>def ensure_uniform(df: pl.DataFrame, index_cols: Sequence[str]) -&gt; pl.DataFrame:\n    # Quick exit\n    if len(index_cols) == 1:\n        return df\n\n    # Get unique values of the first index column\n    uniform_df = df.select(index_cols[0]).unique(maintain_order=True)\n\n    # Cross join with other unique index columns\n    for i in range(1, len(index_cols)):\n        unique_index_values = df.select(index_cols[i]).unique(maintain_order=True)\n        uniform_df = uniform_df.join(unique_index_values, how=&quot;cross&quot;)\n\n    # Left join with the original DataFrame to preserve existing values\n    return uniform_df.join(df, on=index_cols, how=&quot;left&quot;)\n</code></pre>\n<p>Here is an example:</p>\n<pre><code>df = pl.from_repr('''\n┌─────┬─────┬─────┬───────┐\n│ g1  ┆ g2  ┆ g3  ┆ value │\n│ --- ┆ --- ┆ --- ┆ ---   │\n│ str ┆ i64 ┆ i64 ┆ i64   │\n╞═════╪═════╪═════╪═══════╡\n│ A   ┆ 1   ┆ 1   ┆ 10    │\n│ A   ┆ 1   ┆ 2   ┆ 20    │\n│ B   ┆ 2   ┆ 1   ┆ 30    │\n│ B   ┆ 2   ┆ 2   ┆ 40    │\n└─────┴─────┴─────┴───────┘\n''')\n\nuniform_df = ensure_uniform(df, index_cols=[&quot;g1&quot;, &quot;g2&quot;, &quot;g3&quot;])\nprint(uniform_df)\n# ┌─────┬─────┬─────┬───────┐\n# │ g1  ┆ g2  ┆ g3  ┆ value │\n# │ --- ┆ --- ┆ --- ┆ ---   │\n# │ str ┆ i64 ┆ i64 ┆ i64   │\n# ╞═════╪═════╪═════╪═══════╡\n# │ A   ┆ 1   ┆ 1   ┆ 10    │\n# │ A   ┆ 1   ┆ 2   ┆ 20    │\n# │ A   ┆ 2   ┆ 1   ┆ null  │\n# │ A   ┆ 2   ┆ 2   ┆ null  │\n# │ B   ┆ 1   ┆ 1   ┆ null  │\n# │ B   ┆ 1   ┆ 2   ┆ null  │\n# │ B   ┆ 2   ┆ 1   ┆ 30    │\n# │ B   ┆ 2   ┆ 2   ┆ 40    │\n# └─────┴─────┴─────┴───────┘\n</code></pre>\n<p>Any suggestions for making this more graceful and efficient?</p>\n<p>Edit:\n@Dean MacGregor &amp; @orlp Thank you for your answers.\nAll approaches show comparable performance (+/-10%), with @Dean MacGregor's proposal consistently being slightly faster than the others. After testing on multiple setups, I found that the main bottleneck seems to be the final join process, combining the uniform multiindex with the original dataset, rather than building the Cartesian product beforehand. This suggests that speed and peak memory consumption remain similar regardless of how the Cartesian product is computed, especially as dataset sizes grow.</p>\n<p>Both proposals enable lazy operations, which could be useful depending on the use case.\nSince there is no dedicated method for computing the Cartesian product, all options seem to be valid.</p>\n"
    },
    {
        "tags": [
            "javascript",
            "html",
            "relative-path",
            "dynamic-loading"
        ],
        "owner": {
            "account_id": 2975457,
            "reputation": 1244,
            "user_id": 2526586,
            "user_type": "registered",
            "accept_rate": 33,
            "profile_image": "https://www.gravatar.com/avatar/e9fb1998bd0158d88fd9a95917569599?s=256&d=identicon&r=PG",
            "display_name": "user2526586",
            "link": "https://stackoverflow.com/users/2526586/user2526586"
        },
        "is_answered": true,
        "view_count": 85,
        "accepted_answer_id": 79505866,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1741858695,
        "creation_date": 1741829396,
        "last_edit_date": 1741857915,
        "question_id": 79505209,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505209/how-to-get-a-resources-relative-path-to-html-document",
        "title": "How to get a resource&#39;s relative path to HTML document?",
        "body": "<p>Let's say I have a simple web project structured like this:</p>\n<pre><code>├─ 🗎 index.html\n├─ 📁 collection\n│  ├─ 🗎 item1.html\n│  ├─ 🗎 item2.html\n│  └─ ...\n├─ 📁 css\n│  ├─ 🗎 main_styles.css\n│  └─ 🗎 additional_styles.css\n└─ 📁 js\n   └─ 🗎 script.js\n</code></pre>\n<p>Within script.js, it has the ability to dynamically include a CSS file into the HTML document with something like this:</p>\n<pre><code>const cssPath = 'css/additional_styles.css';\nvar head  = document.getElementsByTagName('head')[0];\nvar link  = document.createElement('link');\nlink.href = cssPath;\n...\nhead.appendChild(link);\n</code></pre>\n<p>My problem of the above code is <code>cssPath = 'css/additional_styles.css'</code></p>\n<p>Suppose <code>script.js</code> knows the path of the CSS file relative to itself (in this case <code>../css/additional_styles.css</code>) . How does JavaScript know what path should it use for loading the CSS file with the HTML document? For example, <code>index.html</code> would have to load the CSS file using the path <code>css/additional_styles.css</code> but <code>collection/item1.html</code> would have to load the CSS file using the path <code>../css/additional_styles.css</code></p>\n<p>Since there is no one reliable way for JavaScript to find out which HTML document <code>script.js</code> is being loaded from, what would be a safe way for <code>script.js</code> to create such resource path relative to the HTML document for dynamic loading?</p>\n<p>I intend to make <code>script.js</code> project-agnostic, meaning that the JS file can be reused for different projects. In another project, for instance, the relative paths between the CSS and JS directories may not change, but the absolute paths of both directories may be different from the above set up. For example:</p>\n<pre><code>├─ 🗎 index.html\n├─ 📁 collection\n│  ├─ 🗎 item1.html\n│  ├─ 🗎 item2.html\n│  └─ ...\n└─ 📁 my_library\n   ├─ 📁 css\n   │  ├─ 🗎 main_styles.css\n   │  └─ 🗎 additional_styles.css\n   └─ 📁 js\n      └─ 🗎 script.js\n</code></pre>\n<hr />\n<p>I know there are some 'dirty' methods, such as forcing each HTML document to have <code>&lt;base&gt;</code> tags or to have some sort global variables to indicate the relative location of the HTML document. But again, I would like the <code>script.js</code> to be project-agnostic and reusable in different projects by different developers. I am aiming to have a pure JS approach so that other developers can just load the script and have it work straight away. I hope I don't need to enforce other developers to apply these 'dirty' methods in their HTML documents.</p>\n"
    },
    {
        "tags": [
            "bash",
            "loops"
        ],
        "owner": {
            "account_id": 15485618,
            "reputation": 505,
            "user_id": 11204240,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/af7cf7af3e4022352703814cfb6c5463?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "pedro",
            "link": "https://stackoverflow.com/users/11204240/pedro"
        },
        "is_answered": true,
        "view_count": 45,
        "accepted_answer_id": 79507867,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1741908451,
        "creation_date": 1741902566,
        "last_edit_date": 1741907693,
        "question_id": 79507705,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507705/loop-over-two-sets-of-files-based-on-a-specific-pattern",
        "title": "Loop over two sets of files based on a specific pattern",
        "body": "<p>I have two sets of files :</p>\n<p>#1</p>\n<pre><code>Axiom_AgDivMS2_apple.r1.annot.csv\nAxiom_AgDivMS2_favabean.r1.annot.csv\nAxiom_AgDivMS2_gardenpea.r1.annot.csv\nAxiom_AgDivMS2_pear.r1.annot.csv\nAxiom_AgDivMS2_white_lupin.r1.annot.csv\n</code></pre>\n<p>#2</p>\n<pre><code>feverole_Axiom_AgDivMS2_apple.tag        lupin_Axiom_AgDivMS2_apple.tag        poire_Axiom_AgDivMS2_apple.tag        pois_Axiom_AgDivMS2_apple.tag        pomme_Axiom_AgDivMS2_apple.tag\nfeverole_Axiom_AgDivMS2_favabean.tag     lupin_Axiom_AgDivMS2_favabean.tag     poire_Axiom_AgDivMS2_favabean.tag     pois_Axiom_AgDivMS2_favabean.tag     pomme_Axiom_AgDivMS2_favabean.tag\nfeverole_Axiom_AgDivMS2_gardenpea.tag    lupin_Axiom_AgDivMS2_gardenpea.tag    poire_Axiom_AgDivMS2_gardenpea.tag    pois_Axiom_AgDivMS2_gardenpea.tag    pomme_Axiom_AgDivMS2_gardenpea.tag\nfeverole_Axiom_AgDivMS2_pear.tag         lupin_Axiom_AgDivMS2_pear.tag         poire_Axiom_AgDivMS2_pear.tag         pois_Axiom_AgDivMS2_pear.tag         pomme_Axiom_AgDivMS2_pear.tag\nfeverole_Axiom_AgDivMS2_white_lupin.tag  lupin_Axiom_AgDivMS2_white_lupin.tag  poire_Axiom_AgDivMS2_white_lupin.tag  pois_Axiom_AgDivMS2_white_lupin.tag  pomme_Axiom_AgDivMS2_white_lupin.tag\n</code></pre>\n<p>I need to match the #2 files with the <code>*_apple.tag , *_favabean.tag , *_gardenpea.tag , *_pear.tag and *_white_lupin.tag</code> to their correspoding file in the #1. I cannot show all the files here but it looks like this :</p>\n<p><a href=\"https://i.sstatic.net/Ma4xQGpB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Ma4xQGpB.png\" alt=\"enter image description here\" /></a></p>\n<p>I mean, the files with the tag <code>&quot;*_apple.tag&quot;</code> should only match the <code>Axiom_AgDivMS2_apple.r1.annot.csv</code> , because they have the common &quot;apple&quot; pattern.</p>\n<p>The tags are delimited between the patterns &quot;Axiom_AgDivMS2_&quot; and &quot;.r1.annot.csv&quot;. :</p>\n<pre><code>for i in *.csv\n do a=${i%.r1.annot.csv}; b=${a#*_*_}\n echo $b\ndone\n\napple\nfavabean\ngardenpea\npear\nwhite_lupin\n</code></pre>\n<p>For example for &quot;apple&quot; , the combinations I should get :</p>\n<pre><code>Axiom_AgDivMS2_apple.r1.annot.csv feverole_Axiom_AgDivMS2_apple.tag\nAxiom_AgDivMS2_apple.r1.annot.csv lupin_Axiom_AgDivMS2_apple.tag\nAxiom_AgDivMS2_apple.r1.annot.csv poire_Axiom_AgDivMS2_apple.tag\nAxiom_AgDivMS2_apple.r1.annot.csv pois_Axiom_AgDivMS2_apple.tag\nAxiom_AgDivMS2_apple.r1.annot.csv pomme_Axiom_AgDivMS2_apple.tag\n</code></pre>\n<p>I do all the combinations at this step, but not only the necessary ones :</p>\n<pre><code>for N in *.csv; do   \n   for S in *.tag; do     \n    echo ${N} ${S};   \n   done; \ndone\n</code></pre>\n<p>EDIT :</p>\n<p>In this ticket, all the <code>*.csv</code>  files have the same structure <code>Axiom_AgDivMS2_*.r1.annot.csv</code> . It is the same for the tag files with <code>*_Axiom_AgDivMS2_*.tag</code> . That structure could change for another project, but the main thing is the pattern which makes the link between the <code>*.csv</code> and <code>*.tag</code> files.\nA <code>*.tag</code> file will necessary match a <code>*.csv</code> file, and vice versa. And all the *.tag files will have the same number of combinations (which is the number of <code>*.csv</code> files).</p>\n<p>Any help?</p>\n"
    },
    {
        "tags": [
            "java",
            "javafx"
        ],
        "owner": {
            "account_id": 34599290,
            "reputation": 666,
            "user_id": 26656564,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/882f996623517814360ba4bb403102e7?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "SilverCube",
            "link": "https://stackoverflow.com/users/26656564/silvercube"
        },
        "is_answered": true,
        "view_count": 65,
        "accepted_answer_id": 79509789,
        "answer_count": 3,
        "score": 4,
        "last_activity_date": 1741988769,
        "creation_date": 1741970756,
        "last_edit_date": 1741971221,
        "question_id": 79509734,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509734/how-to-set-items-to-javafx-virtualflow",
        "title": "How to set items to JavaFX VirtualFlow?",
        "body": "<p>I know two <code>VirtualFlow</code> implementations—one native to <code>JavaFX</code> and another from the Flowless library. I know how to use Flowless <code>VirtuaFlow</code>, but now, I would like to try using the JavaFX <code>VirtualFlow</code>. However, I don't understand how to pass an <code>ObservableList&lt;T&gt;</code> items to this <code>VirtualFlow</code>. Here is my code:</p>\n<pre><code>public class NewMain extends Application {\n\n    public class VirtualCell&lt;T&gt; extends IndexedCell&lt;T&gt; {\n\n    }\n\n    private final VirtualFlow&lt;VirtualCell&lt;String&gt;&gt;  virtualFlow = new VirtualFlow&lt;&gt;();\n\n    @Override\n    public void start(Stage primaryStage) {\n        this.virtualFlow.setCellFactory(v -&gt; new VirtualCell&lt;&gt;());\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        for (var i = 0; i &lt; 100; i++) {\n            list.add(&quot;Item &quot; + i);\n        }\n        ObservableList&lt;String&gt; items = FXCollections.observableArrayList(list);\n        //this.virtualFlow.set items  ????\n\n        var root = new VBox(this.virtualFlow);\n        Scene scene = new Scene(root, 600, 200);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Could anyone say how to do it?</p>\n"
    },
    {
        "tags": [
            "c#",
            "ios",
            "iphone",
            "xaml",
            "maui"
        ],
        "owner": {
            "account_id": 11500768,
            "reputation": 435,
            "user_id": 8428634,
            "user_type": "registered",
            "profile_image": "https://lh4.googleusercontent.com/-MvP9Rwv4prY/AAAAAAAAAAI/AAAAAAAAABM/dmUg2T8WoHE/photo.jpg?sz=256",
            "display_name": "CrazyEight",
            "link": "https://stackoverflow.com/users/8428634/crazyeight"
        },
        "is_answered": false,
        "view_count": 96,
        "answer_count": 3,
        "score": 3,
        "last_activity_date": 1741877588,
        "creation_date": 1741789235,
        "last_edit_date": 1741789547,
        "question_id": 79503887,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79503887/net-maui-gap-between-status-bar-and-content",
        "title": ".NET MAUI gap between status bar and content",
        "body": "<p>I have the following issue that appears when using an iPhone 16.</p>\n<p>The MAUI App is <strong>NOT</strong> using shell if that might be useful in any way...</p>\n<p>There is a full MAUI example project <a href=\"https://github.com/Cr4zyEight/MAUI_Spacing_Problem\" rel=\"nofollow noreferrer\">here</a></p>\n<p><a href=\"https://i.sstatic.net/wiQyvf1Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/wiQyvf1Y.png\" alt=\"spacing_problem\" /></a></p>\n<h1>Explanation</h1>\n<p>The problem seems not to appear on iPad or any Android devices, but on all iPhones that have the bigger status bar at the top.</p>\n<p>I am using the <code>CommunityToolkit.Maui Version 9.0.3</code> to colorize the StatusBar.</p>\n<p>Here is a snippet from my csproj to see what Nuget Packages I am using:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ItemGroup&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Maui.Controls&quot; Version=&quot;$(MauiVersion)&quot; /&gt;\n    &lt;PackageReference Include=&quot;CommunityToolkit.Maui&quot; Version=&quot;9.0.3&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.Extensions.Logging.Debug&quot; Version=&quot;9.0.0&quot; /&gt;\n&lt;/ItemGroup&gt;\n</code></pre>\n<p>And this is my <code>MainPage.xaml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;ContentPage xmlns=&quot;http://schemas.microsoft.com/dotnet/2021/maui&quot;\n             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;\n             xmlns:toolkit=&quot;http://schemas.microsoft.com/dotnet/2022/maui/toolkit&quot;\n             NavigationPage.HasBackButton=&quot;False&quot;\n             NavigationPage.HasNavigationBar=&quot;False&quot;\n             x:Class=&quot;MauiApp1.MainPage&quot;&gt;\n    &lt;ContentPage.Behaviors&gt;\n        &lt;toolkit:StatusBarBehavior\n            StatusBarColor=&quot;#BE0C24&quot;\n            StatusBarStyle=&quot;LightContent&quot;/&gt;\n    &lt;/ContentPage.Behaviors&gt;\n    &lt;Grid BackgroundColor=&quot;Yellow&quot;&gt;\n        &lt;Label VerticalOptions=&quot;Start&quot; BackgroundColor=&quot;Green&quot; Text=&quot;^^^ I want to get rid of that yellow space ^^^&quot;/&gt;\n    &lt;/Grid&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n<h1>What I tried so far</h1>\n<p>On googling I found several entries that seem to have a similar issue and all providing a similar workaround on overriding the <code>OnAppearing</code> like this:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>protected override void OnAppearing()\n        {\n            base.OnAppearing();\n\n#if IOS\n            // Workaround for iPhone 14: https://developer.apple.com/forums/thread/715417\n\n            if (UIDevice.CurrentDevice.CheckSystemVersion(13, 0))\n            {\n                var window = UIKit.UIApplication.SharedApplication.Windows.FirstOrDefault();\n                var topPadding = window?.SafeAreaInsets.Top ?? 0;\n\n                var statusBar = new UIView(new CoreGraphics.CGRect(0, 0, UIScreen.MainScreen.Bounds.Size.Width, topPadding))\n                {\n                    BackgroundColor = Colors.Green.ToPlatform()\n                };\n\n                var view = UIApplication.SharedApplication.Windows.FirstOrDefault(x =&gt; x.IsKeyWindow);\n                view?.AddSubview(statusBar);\n            }\n\n#endif\n        }\n</code></pre>\n<p>Sadly adding this to my code changes NOTHING.</p>\n<p>I also tried disabling the safe space like in this post</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/74724489/net-maui-ios-usesafearea-not-working-stacklayout-verticalstacklayout-and-grid\">.NET MAUI, ios UseSafeArea not working StackLayout, VerticalStackLayout and Grid</a></li>\n</ul>\n<p>But adding <code>IgnoreSafeArea=&quot;True&quot;</code> to the grid ignores (big surprise) the status bar safe space completely and it looks like this:</p>\n<p><a href=\"https://i.sstatic.net/cw4IFTog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/cw4IFTog.png\" alt=\"IgnoreSafeArea\" /></a></p>\n<p>I think the solution must be either shifting the label to the top of the grid somehow OR enlarge the red area...</p>\n<p>I am still wondering why a grid even adds that kind of padding, but even setting padding to 0 has no effect.</p>\n<p>I now don't know what else to try...</p>\n"
    },
    {
        "tags": [
            "c",
            "safety-critical",
            "mc-dc"
        ],
        "owner": {
            "account_id": 9618459,
            "reputation": 522,
            "user_id": 7140427,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-Aj9W48QeFv4/AAAAAAAAAAI/AAAAAAAAABw/OTmGyKL6UQ4/photo.jpg?sz=256",
            "display_name": "Gregory Fenn",
            "link": "https://stackoverflow.com/users/7140427/gregory-fenn"
        },
        "is_answered": true,
        "view_count": 50,
        "accepted_answer_id": 79504678,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1741811828,
        "creation_date": 1741791861,
        "last_edit_date": 1741792769,
        "question_id": 79503988,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79503988/how-to-convert-a-function-which-failed-mcdc-to-one-that-does",
        "title": "How to convert a function which failed MCDC to one that does?",
        "body": "<p>According to Wiki (<a href=\"https://en.wikipedia.org/wiki/Modified_condition/decision_coverage\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Modified_condition/decision_coverage</a>) one of the main rules about MCDC is that each condition (or boolean variable) should be controllable independently of the others, to ensure that decision paths through code are independently testable. In the below I have a failing example:</p>\n<pre><code>int FooBar(int n, bool p, bool q)\n{\n    int out = 34;\n\n    if (n == 123)\n    {\n       if (p || q)  out = 4;\n       if (p &amp;&amp; q)  out = 9;\n    }\n\n    return out;\n}\n</code></pre>\n<p>The problem here is that <code>p || q</code> and <code>p &amp;&amp; q</code> are <em>not</em> independent conditions, e.g. if the first is false then so is the second, and if the second is true then the first is true too.</p>\n<p>How could I rewrite this function to give identical behaviour but be MCDC-compliant? My best guess is the following:</p>\n<pre><code>int FooBar(int n, bool p, bool q)\n{\n    int out;\n\n    if (n == 123)\n    {\n       if (p)\n       {\n           if (q) out = 9;\n           else   out = 4;\n       }\n       else\n       {\n           if (q) out = 4;\n           else   out = 34;\n       }\n    }\n    else\n    {\n        out = 34;\n    }\n\n    return out;\n}\n</code></pre>\n<p>but would this be valid? The only obvious conditions here are three conditions <code>p</code>, <code>q</code>, and <code>n==123</code>, which are indeed independent, right? Have I understood MCDC right? I'm also nervous about the fact that we have two branches that both lead to <code>out = 4;</code>, <em>i.e.</em> two branches that lead to the identical outcomes, is this valid?</p>\n"
    },
    {
        "tags": [
            "chapel"
        ],
        "owner": {
            "account_id": 12290033,
            "reputation": 179,
            "user_id": 8967790,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/dJ0FK.jpg?s=256",
            "display_name": "justapony",
            "link": "https://stackoverflow.com/users/8967790/justapony"
        },
        "is_answered": true,
        "view_count": 39,
        "accepted_answer_id": 79504392,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1741799781,
        "creation_date": 1741794884,
        "question_id": 79504147,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504147/error-field-val-used-before-it-is-initialized",
        "title": "error: field &quot;val&quot; used before it is initialized",
        "body": "<p>I was trying to start doing a record for a composite type (vector of ints) but keep getting hung up back on something that must be basic that I'm missing.  I've boiled it down to the following which seems like it should be valid.</p>\n<p>Thinking like C++ programmer I'm not sure I appreciate the significance of &quot;init&quot;s vs. constructors and assignments.  If I do chapel with those, it eventually complains about missing &quot;init=&quot; which takes me down the whole &quot;init&quot; path.</p>\n<pre><code>[u2:Chapel] chpl --version\nwarning: The prototype GPU support implies --no-checks. This may impact debuggability. To suppress this warning, compile with --no-checks explicitly\nchpl version 2.3.0\n  built with LLVM version 19.1.3\n  available LLVM targets: x86-64, x86, nvptx64, nvptx\nCopyright 2020-2024 Hewlett Packard Enterprise Development LP\nCopyright 2004-2019 Cray Inc.\n(See LICENSE file for more details)\n\n[ugpu2:Chapel] cat bug.init.chpl\nconfig const N : int = 4;\ntype T = uint(32);\n\nrecord MP {\n\n  var val : [0..#N] T;\n\n  proc init() {\n    for i in 0..#N do this.val[i] = 0;\n    //this.val = 0;      // does work instead\n  }\n};\n\nvar A : MP;\n\n[u2:Chapel] chpl bug.init.chpl\nwarning: The prototype GPU support implies --no-checks. This may impact debuggability. To suppress this warning, compile with --no-checks explicitly\nbug.init.chpl:9: In initializer:\nbug.init.chpl:10: error: field &quot;val&quot; used before it is initialized\n</code></pre>\n"
    },
    {
        "tags": [
            "multithreading",
            "rust"
        ],
        "owner": {
            "account_id": 4885942,
            "reputation": 3160,
            "user_id": 3938402,
            "user_type": "registered",
            "accept_rate": 62,
            "profile_image": "https://i.sstatic.net/AfOame8J.jpg?s=256",
            "display_name": "Harry",
            "link": "https://stackoverflow.com/users/3938402/harry"
        },
        "is_answered": true,
        "view_count": 89,
        "accepted_answer_id": 79504445,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1741801563,
        "creation_date": 1741800363,
        "last_edit_date": 1741801563,
        "question_id": 79504414,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504414/are-all-built-in-functions-thread-safe",
        "title": "Are all built-in functions thread safe?",
        "body": "<p>In <code>C</code> some inbuilt functions are not thread safe and there exists a thread safe alternative for such not thread safe functions.</p>\n<p>For example: <code>locatime</code> is not thread safe, the thread safe alternative is <code>localtime_r</code>.</p>\n<p>So, similarly in <code>Rust</code>, do we have such kind of thing (thread safe version and not thread safe versions). Or, is it guaranteed that all built-in functions are thread safe?</p>\n"
    },
    {
        "tags": [
            "c++",
            "floating-point",
            "sse",
            "ieee-754",
            "floating-point-exceptions"
        ],
        "owner": {
            "account_id": 8778120,
            "reputation": 691,
            "user_id": 20545996,
            "user_type": "registered",
            "profile_image": "https://graph.facebook.com/1217384428272212/picture?type=large",
            "display_name": "Edison von Myosotis",
            "link": "https://stackoverflow.com/users/20545996/edison-von-myosotis"
        },
        "is_answered": true,
        "view_count": 70,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1741807900,
        "creation_date": 1741803869,
        "last_edit_date": 1741805592,
        "question_id": 79504557,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504557/how-to-trigger-exactly-only-one-sse-exception",
        "title": "How to trigger exactly only *one* SSE-exception",
        "body": "<p>I've written a little test program that tiggers FPU-exceptions through <code>feraiseexcept()</code>:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cfenv&gt;\n\nusing namespace std;\n\nint main()\n{\n    auto test = []( int exc, char const *what )\n    {\n        feclearexcept( FE_ALL_EXCEPT );\n        feraiseexcept( exc );\n        exc = fetestexcept( FE_ALL_EXCEPT );\n        int n = 0;\n        auto print = [&amp;]( int mask, char const *what )\n        {\n            if( !(exc &amp;mask) )\n                return;\n            cout &lt;&lt; (n++ ? &quot;, &quot; : &quot;&quot;) &lt;&lt; what;\n        };\n        cout &lt;&lt; what &lt;&lt; &quot;: &quot;;\n        print( FE_DIVBYZERO, &quot;div by zero&quot; );\n        print( FE_INEXACT, &quot;inexact&quot; );\n        print( FE_INVALID, &quot;invalid&quot; );\n        print( FE_OVERFLOW, &quot;overflow&quot; );\n        print( FE_UNDERFLOW, &quot;underflow&quot; );\n        cout &lt;&lt; endl;\n    };\n    test( FE_DIVBYZERO, &quot;div by zero&quot; );\n    test( FE_INEXACT, &quot;inexact&quot; );\n    test( FE_INVALID, &quot;invalid&quot; );\n    test( FE_OVERFLOW, &quot;overflow&quot; );\n    test( FE_UNDERFLOW, &quot;underflow&quot; );\n}\n</code></pre>\n<p>The results under Linux with glibc are as expected, i.e. there's only one exception triggered per test call. Windows triggers FE_INEXACT in addition when FE_OVERFLOW or FE_UNDERFLOW are <code>test()</code>ed. As this isn't clean I'd like to impement my own <code>feraisexcept()</code> function. A pair of <code>_mm_getcsr()</code> and <code>_mm_setcsr()</code> doesn't work since setting the exception flag doesn't trigger an appropriate trap, which can be caught with SEH under Windows and signal-handling under Unix.<br />\nSo with which arithmetic operations can I trigger the SSE-exceptions indivdually with only one flag per operation ?</p>\n"
    },
    {
        "tags": [
            "c",
            "embedded",
            "esp32",
            "bare-metal"
        ],
        "owner": {
            "account_id": 40814483,
            "reputation": 31,
            "user_id": 29969493,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c14312e6f38a74c39e86d79a97093c3c?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Michele Del Grosso",
            "link": "https://stackoverflow.com/users/29969493/michele-del-grosso"
        },
        "is_answered": false,
        "view_count": 46,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1741857101,
        "creation_date": 1741815061,
        "last_edit_date": 1741857101,
        "question_id": 79504894,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504894/c-bare-metal-ledc-module-timer-on-esp32-emulated-on-wokwi",
        "title": "C Bare Metal LEDC module timer on ESP32 (emulated on wokwi)",
        "body": "<p>I'm trying to code on the emulated ESP32 using C and memory registers directly. I know there are great SDKs but I'd like to learn first what is going on under the hood, so i decided to try simple tasks with this approach.</p>\n<p>This is what I'm using as base: <a href=\"https://www.espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf\" rel=\"nofollow noreferrer\">Tech ref</a>.</p>\n<p>This is the first time I'm trying C, my goal is not to have the perfect code, I want to understand how things work.</p>\n<p>What I was able to do:\nI was able to use simple output to turn on and off the led, and I was also able to control them using a button. To do this I used the simple LEDs in wokwi emulator without any resistor, I tried with the LEDC module with the same setup.</p>\n<p>Where I had problems:\nI got stuck trying to use the LEDC module to turn (half) on and off an led. I configured the timer, the channel and  gpio to use the specific channel but nothing happened (GPIO pin 26 with peripheral 71 selected; hPoint of the duty cicle at 0 and duty 'length' of 120; the timer used the same config of the code below).</p>\n<p>Since it was not working:\nI tried a different strategy trying to print the timer (aka counter) value but it is always 0, i expected to see it increasing and when reached the overflow reset and start again its cycle.</p>\n<p><strong>So I'm seeking to understand why the timer always returns 0.</strong></p>\n<p>I leave here the code of my last attempt.</p>\n<p>To help those who want to try:</p>\n<ul>\n<li>GPIO registers: pag. 69</li>\n<li>LEDC registers: pag. 399</li>\n<li>Peripheral signals list: pag. 58</li>\n<li>GPIO output: pag. 52</li>\n</ul>\n<p>The timer is set with resolution of 8 bit (range 0-256 if i am not wrong); divisor of 1 (it starts on bit 5 but has 8 fractional bits). I tried also higher divisor to change the frequency but was not able to print the timer value (or to make the LED turning half on in previous attempts). I enabled the REF_TICK but this was just a test since with 0 in that bit it did not worked.</p>\n<p>My goal is to understand what I'm missing (or messing) and be able to get the timer value; after that I'll go further and set the channel and the GPIO pin.</p>\n<pre><code>#include &lt;stdio.h&gt;\n#include &quot;freertos/FreeRTOS.h&quot;\n#include &quot;freertos/task.h&quot;\n\n#define GPIO_CFG_BASE 0x3FF44530;\n#define LEDC_CONF_REG 0x3FF59190; //bit 1 to choose clk\n#define LEDC_HSCH0_CONF0_REG 0x3FF59000;\n#define LEDC_HSCH0_HPOINT_REG 0x3FF59004;\n#define GPIO_ENABLE_W1TS 0x3FF44024;\n#define LEDC_HSCH0_DUTY_REG 0x3FF59008;\n#define LEDC_HSCH0_CONF1_REG 0x3FF5900C;\n#define LEDC_HSTIMER0_CONF_REG 0x3FF59140;\n#define LEDC_HSTIMER0_VALUE_REG 0x3FF59144;\n#define LEDC_HSCH0_DUTY_R_REG 0x3FF59010;\n#define LEDC_INT_RAW_REG 0x3FF59180;\n#define LEDC_INT_ENA_REG 0x3FF59188;\nvoid app_main() {\n\n  volatile uint32_t* interrupts_enable = LEDC_INT_ENA_REG;\n  *interrupts_enable |= (0b10001);\n\n  volatile uint32_t* timer_cfg = LEDC_HSTIMER0_CONF_REG;\n  *timer_cfg |= 8;\n  *timer_cfg |= 1&lt;&lt;13;\n  *timer_cfg |= 1&lt;&lt;25;\n  volatile uint32_t* reader_timer = LEDC_HSTIMER0_VALUE_REG;\n  volatile uint32_t* interrupt_reader = LEDC_INT_RAW_REG;\n  //printf(&quot;%&quot; PRIX32 &quot;\\n&quot;, *timer_cfg);\n  volatile uint32_t* ls_cfg = 0x3FF59160;\n  *ls_cfg |= 8;\n  *ls_cfg |= 1&lt;&lt;13;\n  *ls_cfg |= 3&lt;&lt;25;\n\n  volatile uint32_t* reader_slow = 0x3FF59164;\n  \n  while (true) {\n    printf(&quot;%&quot; PRIu32 &quot;timer\\n&quot;,*reader_timer);\n    printf(&quot;%&quot; PRIu32 &quot;timer SLOW\\n&quot;,*reader_slow);\n    printf(&quot;%&quot; PRIu32 &quot;interrupt\\n&quot;,*interrupt_reader);\n    vTaskDelay(20 / portTICK_PERIOD_MS);\n  } \n}\n</code></pre>\n<p>I've tried reading the documentation to understand what I'm missing but I was not able to get it since there are not practical examples online.</p>\n<p>I expected that after configured the timer, the channel and the gpio the LED followed the duty cycle. When I saw nothing was happening I decided to focus on single spot and tried to print the timer value (it controls the duty cycle) but seems like the timer does not start.</p>\n"
    },
    {
        "tags": [
            "typescript"
        ],
        "owner": {
            "account_id": 48791,
            "reputation": 107,
            "user_id": 29889977,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/956c54ca3efdb57f6c55f3a121af7e24?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user29889977",
            "link": "https://stackoverflow.com/users/29889977/user29889977"
        },
        "is_answered": false,
        "view_count": 29,
        "closed_date": 1741833131,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1741899670,
        "creation_date": 1741824403,
        "last_edit_date": 1741899670,
        "question_id": 79505124,
        "link": "https://stackoverflow.com/questions/79505124/can-you-turn-a-parameters-tuple-type-into-a-record-type",
        "closed_reason": "Duplicate",
        "title": "Can you turn a Parameters&lt;&gt; tuple type into a record type?",
        "body": "<p>Given</p>\n<pre class=\"lang-js prettyprint-override\"><code>function foo(x:number, y:number) {}\n</code></pre>\n<p>TypeScript inherently has the names of Parameters, and they inherently can't have dups, which matches the requirements of a Record. So is it possible to derive a Record type from a Parameters type? Such that:</p>\n<pre class=\"lang-js prettyprint-override\"><code>RecordFromTuple&lt;Parameters&lt;typeof foo&gt;&gt; === { x:number, y:number }\n</code></pre>\n"
    },
    {
        "tags": [
            "css",
            "google-chrome",
            "svg",
            "firefox",
            "svg-filters"
        ],
        "owner": {
            "account_id": 5873526,
            "reputation": 192,
            "user_id": 4625145,
            "user_type": "registered",
            "profile_image": "https://lh4.googleusercontent.com/-Aivxc1BedmA/AAAAAAAAAAI/AAAAAAAAAGE/hF3riWSQ-T0/photo.jpg?sz=256",
            "display_name": "fish",
            "link": "https://stackoverflow.com/users/4625145/fish"
        },
        "is_answered": true,
        "view_count": 77,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1741881693,
        "creation_date": 1741825959,
        "last_edit_date": 1741879619,
        "question_id": 79505159,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505159/why-is-the-css-drop-shadow-filter-offset-on-chrome-but-not-firefox",
        "title": "Why is the CSS drop-shadow filter offset on Chrome but not Firefox?",
        "body": "<p>I have been trying to use the CSS <code>drop-shadow()</code> filter to apply an outline on transparent images and text, like so:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>img {\n  filter: drop-shadow(1px 1px 0 black)\n    drop-shadow(-1px 1px 0 black)\n    drop-shadow(1px -1px 0 black)\n    drop-shadow(-1px -1px 0 black);\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img src=\"https://sen.fish/images/navigation/statue2/frame_00_delay-0.1s.gif\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This works as I expected on Firefox/Gecko:</p>\n<p><a href=\"https://i.sstatic.net/BOSR0Kcz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/BOSR0Kcz.png\" alt=\"A statue with a transparent background and a thin black border\" /></a></p>\n<p>But on Chromium browsers, this is the result that I get:</p>\n<p><a href=\"https://i.sstatic.net/xVpzDAui.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/xVpzDAui.png\" alt=\"A statue with a transparent background and an offset thin black border\" /></a></p>\n<p>Is there a way to prevent the filter from becoming offset on Chromium browsers? And is there a reason why they render differently? (i.e., this is a bug right?)</p>\n"
    },
    {
        "tags": [
            "powershell",
            "sharepoint",
            "mfc",
            "onedrive",
            "shell32"
        ],
        "owner": {
            "account_id": 10373914,
            "reputation": 31,
            "user_id": 7650714,
            "user_type": "registered",
            "profile_image": "https://graph.facebook.com/1658780247470511/picture?type=large",
            "display_name": "Woo-Hyun Song",
            "link": "https://stackoverflow.com/users/7650714/woo-hyun-song"
        },
        "is_answered": false,
        "view_count": 38,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1741828760,
        "creation_date": 1741828720,
        "last_edit_date": 1741828760,
        "question_id": 79505199,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505199/how-to-determine-onedrive-or-sharepoint-directory-using-shgetpropertystorefrompa",
        "title": "How to Determine OneDrive or SharePoint Directory Using SHGetPropertyStoreFromParsingName",
        "body": "<p>Question:\nI have been using PowerShell to check the Available Status of a file in OneDrive or SharePoint directories using Shell32.dll. Previously, the GetDetailsOf function returned Available Status at index 303. However, after updating to Windows 24H2, I noticed that the index for Available Status changed to 304, making 303 unreliable.</p>\n<pre><code>[powershell]\n$folderPath = 'D:\\aaa\\test\\OneDrive\\TEST_FILES'\n$fileName = 'test.txt'\n\n$shell = New-Object -ComObject Shell.Application\n$folder = $shell.Namespace($folderPath)\n\nif ($folder -eq $null) {\n    Write-Output &quot;Folder not found: $folderPath&quot;\n    exit\n}\n\n$item = $folder.ParseName($fileName)\n\nif ($item -eq $null) {\n    Write-Output &quot;File not found: $folderPath\\$fileName&quot;\n    exit\n}\n\nfor ($i = 0; $i -lt 400; $i++) {\n    $name = $folder.GetDetailsOf($null, $i)\n    $value = $folder.GetDetailsOf($item, $i)\n    Write-Output &quot;$i : $name → $value&quot;\n}\n</code></pre>\n<p>Since the index may change in future updates, I am looking for a more reliable method to determine whether a given directory belongs to OneDrive or SharePoint.</p>\n<p>MFC/C++ Alternative Using SHGetPropertyStoreFromParsingName\nTo find a more stable way, I examined properties retrieved from SHGetPropertyStoreFromParsingName.\nI discovered that OneDrive and SharePoint directories consistently return 14 for PKEY_FilePlaceholderStatus, while local directories return 6.</p>\n<pre><code>[MFC Code for Checking OneDrive/SharePoint Directories]\nCString filePath;\nm_edit.GetWindowText(filePath);\n\nHRESULT hr = CoInitialize(nullptr);\nif (FAILED(hr)) {\n    std::wcerr &lt;&lt; L&quot;CoInitialize failed: &quot; &lt;&lt; std::hex &lt;&lt; hr &lt;&lt; std::endl;\n    return;\n}\n\nIPropertyStore* pPropertyStore = nullptr;\n\nhr = SHGetPropertyStoreFromParsingName(filePath, nullptr, GPS_DEFAULT,             IID_PPV_ARGS(&amp;pPropertyStore));\n\nif (SUCCEEDED(hr)) {\n    PROPVARIANT propvar;\n    PropVariantInit(&amp;propvar);\n\n    hr = pPropertyStore-&gt;GetValue(PKEY_FileOfflineAvailabilityStatus, &amp;propvar);\n    if (SUCCEEDED(hr) &amp;&amp; propvar.vt == VT_UI4) {\n        CString str;\n        str.Format(L&quot;OfflineAvailabilityStatus: %d&quot;, propvar.uintVal);\n        AfxMessageBox(str);\n    } else {\n        std::wcerr &lt;&lt; L&quot;Failed to retrieve PKEY_FileOfflineAvailabilityStatus.&quot; &lt;&lt;     std::endl;\n    }\n    PropVariantClear(&amp;propvar);\n\n    hr = pPropertyStore-&gt;GetValue(PKEY_FilePlaceholderStatus, &amp;propvar);\n    if (SUCCEEDED(hr) &amp;&amp; propvar.vt == VT_UI4) {\n        CString str;\n        str.Format(L&quot;FilePlaceholderStatus: %d&quot;, propvar.uintVal);\n        AfxMessageBox(str);\n    } else {\n        std::wcerr &lt;&lt; L&quot;Failed to retrieve PKEY_FilePlaceholderStatus.&quot; &lt;&lt; std::endl;\n    }\n    PropVariantClear(&amp;propvar);\n\n    pPropertyStore-&gt;Release();\n} else {\nstd::wcerr &lt;&lt; L&quot;SHGetPropertyStoreFromParsingName failed: &quot; &lt;&lt; std::hex &lt;&lt; hr &lt;&lt;     std::endl;\n}\n\nCoUninitialize();\n</code></pre>\n<p>Questions:\nIs there any official documentation confirming that PKEY_FilePlaceholderStatus returns 14 for OneDrive/SharePoint directories and 6 for local directories?\nIs this a reliable approach that will remain consistent across future Windows updates?\nAre there alternative methods to identify OneDrive/SharePoint directories without depending on volatile PowerShell property indices (303, 304, etc.)?\nAny insights or suggestions would be greatly appreciated!</p>\n<p>I initially used PowerShell to check the Available Status (GetDetailsOf with index 303). However, after updating to Windows 24H2, I noticed that the Available Status index changed to 304. Since this index might change again in future updates, I looked for a more stable alternative.</p>\n<p>To solve this, I tested MFC/C++ with SHGetPropertyStoreFromParsingName. I found that:</p>\n<p>OneDrive/SharePoint directories consistently return 14 for PKEY_FileOfflineAvailabilityStatus.\nLocal directories return 6.\nI was expecting to find official documentation confirming that this behavior is stable across Windows versions. However, I couldn’t find any concrete references to support this observation.</p>\n<p>I’m looking for confirmation that this approach is reliable, or if there’s a better way to detect OneDrive/SharePoint directories programmatically.</p>\n"
    },
    {
        "tags": [
            "c++",
            "inheritance",
            "static"
        ],
        "owner": {
            "account_id": 29216446,
            "reputation": 41,
            "user_id": 29970533,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtetcMQzDBK6-orzmyx8HusX9yXA79xPvrC7mbHaVY6lWw=k-s256",
            "display_name": "Red Needle",
            "link": "https://stackoverflow.com/users/29970533/red-needle"
        },
        "is_answered": true,
        "view_count": 109,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1741849621,
        "creation_date": 1741848297,
        "question_id": 79505613,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505613/access-derived-class-static-members-from-inherited-base-class-function-in-c",
        "title": "Access derived class static members from inherited base class function in c++",
        "body": "<p>I have a base class with a static member and a non static function that returns the value of said static member. I also have a derived class that inherits the base class, but assigns an alternate value to the inherited static member.</p>\n<pre><code>class Parent\n{\nprotected:\n    static const int foo = 0;\npublic:\n    int GetFoo()\n    {\n        return foo;\n    }\n};\n\nclass Child : Parent\n{\nprotected:\n    static const int foo = 1;\n};\n</code></pre>\n<p>If I call the inherited getter function on an instance of the derived class, I would expect it to return the value of the static member of the derived class (1). However, it actually returns the value of the static member on the base class instead (0).</p>\n<pre><code>int main(int argc, char* argv[])\n{\n    Child child();\n    std::cout &lt;&lt; child.GetFoo();\n}\n</code></pre>\n<p>The output is <code>0</code></p>\n<p>Why was my initial understanding of this interaction incorrect, and how would I attain my expected behavior wherein calling the getter on an instance of the derived class would return the static member of the derived class?</p>\n"
    },
    {
        "tags": [
            "java",
            "android",
            "kotlin",
            "rust",
            "java-native-interface"
        ],
        "owner": {
            "account_id": 4145068,
            "reputation": 6372,
            "user_id": 3399066,
            "user_type": "registered",
            "accept_rate": 84,
            "profile_image": "https://www.gravatar.com/avatar/d172044b860e517fd6dba7df2d1841aa?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "NumesSanguis",
            "link": "https://stackoverflow.com/users/3399066/numessanguis"
        },
        "is_answered": true,
        "view_count": 53,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1741859980,
        "creation_date": 1741850275,
        "question_id": 79505671,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505671/returning-multiple-values-pair-from-rust-to-android-through-jni",
        "title": "Returning multiple values (Pair) from Rust to Android through JNI",
        "body": "<p>I have an Android app (written in Kotlin), with the processing code running in Rust. I'm using JNI (Java Native Interface) as communication layer.</p>\n<h2>Goal</h2>\n<p>I can successfully return a <code>bool</code>, but I want to extend the Rust function so it returns both a <code>bool</code> and <code>string</code>.</p>\n<h2>Working code (returns Boolean only)</h2>\n<h3>Android (Kotlin)</h3>\n<p>On the Kotlin side I have the following function signature:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package eu.mypackage.rust\n\nclass SomeName {\n    @Throws(IllegalArgumentException::class)\n    external fun checkAnswer(answerInput: String, answerList: Array&lt;String&gt;): Boolean\n}\n</code></pre>\n<p>Which I call with:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun processAnswer(answerInput: String, answerList: List&lt;String&gt;): Int {\n    val isCorrect = sn.checkAnswer(answerInput, answerList.toTypedArray())\n    ...\n</code></pre>\n<h3>Rust</h3>\n<p>On the Rust side I have the followingcode that is successfully :</p>\n<pre class=\"lang-rust prettyprint-override\"><code>#[cfg(target_os = &quot;android&quot;)]\n#[allow(non_snake_case)]\npub mod android {\n    extern crate jni;\n\n    // This is the interface to the JVM  that we'll call the majority of our methods on.\n    // @See https://docs.rs/jni/latest/jni/\n    use self::jni::JNIEnv;\n    use self::jni::objects::{JClass, JString, JObjectArray};\n    use self::jni::sys::{jstring, jboolean, jint};\n\n    #[no_mangle] // This keeps Rust from &quot;mangling&quot; the name so it is unique (crate).\n    pub extern &quot;system&quot; fn Java_eu_mycompany_rust_MyPackage_checkAnswer&lt;'local&gt;(\n        mut env: JNIEnv&lt;'local&gt;,\n         _class: JClass&lt;'local&gt;,\n        answerInput: JString&lt;'local&gt;,\n        answerList: JObjectArray&lt;'local&gt;,\n    ) -&gt; jboolean\n    // Keep in mind that arrays of jboolean values should only ever hold values of 0 or 1 because any other value could lead to undefined behaviour within the JVM.\n    // https://docs.rs/jni/latest/jni/struct.JNIEnv.html#jboolean-elements\n    {\n        let answer_input: String = env.get_string(&amp;answerInput).expect(&quot;Couldn't get java string!&quot;).into();\n        let answer_list = kotlin_list_to_rust_vec_string(&amp;mut env, &amp;answerList);\n\n        // pub fn answer_in_answer_list&lt;'a&gt;(answer_input: &amp;String, answer_list: &amp;'a Vec&lt;String&gt;) -&gt; (bool, Option&lt;&amp;'a String&gt;)\n        let (is_correct, corrected_answer) = answer_in_answer_list(&amp;answer_input, &amp;answer_list);\n\n        // TODO return both `is_correct` as bool and `corrected_answer` as string\n        return if is_correct {\n            1  // true\n        } else {\n            0  // false\n        }\n    }\n}\n</code></pre>\n<h2>Attempt</h2>\n<h3>Kotlin</h3>\n<p>I changed the expected output type to: <code>Pair&lt;Boolean, String&gt;</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package eu.mypackage.rust\n\nclass SomeName {\n    @Throws(IllegalArgumentException::class)\n    external fun checkAnswer(answerInput: String, answerList: Array&lt;String&gt;): Pair&lt;Boolean, String&gt;\n}\n</code></pre>\n<p>and the update calling code in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun processAnswer(answerInput: String, answerList: List&lt;String&gt;): Int {\n    val (isCorrect, corrected_answer) = sn.checkAnswer(answerInput, answerList.toTypedArray())\n    ...\n</code></pre>\n<h3>Rust</h3>\n<p>However, on the Rust side I'm lost. I tried returning a tuple as <code>jobject</code> with the following code, but it crashes my Android app with a <code>panic_abort</code> and <code>(core::result::unwrap_failed::h5cd03753bd6180f5+88)</code>:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>        let (is_correct, corrected_answer) = answer_in_answer_list(&amp;answer_input, &amp;answer_list);\n\n        // Create a Java boolean (1 for true, 0 for false)\n        let j_is_correct: jboolean = if is_correct { 1 } else { 0 };\n\n        // Convert the Rust string to a JNI string if exist, else empty JNI string\n        let j_corrected_answer = match corrected_answer {\n            Some(s) =&gt; env.new_string(&amp;s).expect(&quot;Couldn't create Java string!&quot;),\n            // empty String if no correction\n            None =&gt; env.new_string(&quot;&quot;).expect(&quot;Couldn't create Java string!&quot;)\n        };\n\n        // Create a Java Pair\n        let result_tuple = env\n            .new_object(\n                &quot;android/util/Pair&quot;,\n                &quot;(Ljava/lang/Object;Ljava/lang/Object;)V&quot;,\n                &amp;[j_is_correct.into(), (&amp;j_corrected_answer).into()]\n            )\n            .expect(&quot;Couldn't create Pair object&quot;);\n        \n        result_tuple.into_raw()\n</code></pre>\n"
    },
    {
        "tags": [
            "tensorflow",
            "google-colaboratory",
            "tpu",
            "keras-tuner"
        ],
        "owner": {
            "account_id": 40817430,
            "reputation": 31,
            "user_id": 29971545,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/7008e6d86b7e11b0a9a93b6f972a44dc?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Albert Blarer",
            "link": "https://stackoverflow.com/users/29971545/albert-blarer"
        },
        "is_answered": false,
        "view_count": 38,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1742036350,
        "creation_date": 1741867198,
        "last_edit_date": 1741868599,
        "question_id": 79506392,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506392/google-colab-tpu-suddenly-not-found-anymore",
        "title": "Google Colab TPU suddenly not found anymore",
        "body": "<p><strong>Issue</strong></p>\n<p>Since Monday or Thuesday this week (10.03.2025)  the Google Colab TPUs are not found anymore.</p>\n<p>Can someone help me please?</p>\n<p><strong>I am using</strong></p>\n<ul>\n<li>TensorFlow Version: 2.18.1</li>\n<li>Keras-Tuner Version: 1.4.7</li>\n</ul>\n<p><strong>These are my resources</strong></p>\n<pre><code>Sie haben Colab Pro abonniert. Weitere Informationen\nVerfügbar: 55.47 Recheneinheiten\nNutzungsrate: ca. 3.66 pro Stunde\nSie haben 4 aktive Sitzungen.\n</code></pre>\n<p><strong>This is my code</strong></p>\n<pre><code># TPU Strategy Setup\ntry:\n    print(&quot;Connecting to TPU...&quot;)\n    tpu = tf.distribute.cluster_resolver.TPUClusterResolver()  # Resolving TPU cluster\n    tf.config.experimental_connect_to_cluster(tpu)\n    tf.tpu.experimental.initialize_tpu_system(tpu)\n    print(&quot;TPU initialized successfully!&quot;)\n    strategy = tf.distribute.TPUStrategy(tpu)  # TPU strategy definition\nexcept ValueError:\n    print(&quot;TPU not found. Falling back to CPU/GPU strategy.&quot;)\n    strategy = tf.distribute.get_strategy()  # Default CPU/GPU strategy\n\n# Confirm strategy definition\nif 'strategy' not in locals():\n    raise RuntimeError(&quot;TPU strategy setup failed. Please check TPU initialization.&quot;)\n\n# Log TPU Configuration\nprint(f&quot;Using distribution strategy: {strategy.__class__.__name__}&quot;)\nprint(f&quot;Number of replicas: {strategy.num_replicas_in_sync}&quot;)\n\ntf.debugging.set_log_device_placement(True)\n\n# Enable Mixed Precision for TPU optimization\npolicy = mixed_precision.Policy('mixed_bfloat16')\nmixed_precision.set_global_policy(policy)\nprint(&quot;Mixed Precision enabled: &quot;, policy)\n</code></pre>\n<p><strong>Output:</strong>\nConnecting to TPU...\nTPU not found. Falling back to CPU/GPU strategy.\nUsing distribution strategy: _DefaultDistributionStrategy\nNumber of replicas: 1\nMixed Precision enabled:  &lt;DTypePolicy &quot;mixed_bfloat16&quot;&gt;</p>\n<p>I tried dto switch the run time types back- and forward including saving them, restarting the sessions, logging in and out of the Google colab account.</p>\n<p>I except to get the TPU found and up and running like last week.</p>\n"
    },
    {
        "tags": [
            "c++",
            "c++11",
            "language-lawyer",
            "incomplete-type"
        ],
        "owner": {
            "account_id": 3408190,
            "reputation": 9243,
            "user_id": 2858773,
            "user_type": "registered",
            "accept_rate": 91,
            "profile_image": "https://i.sstatic.net/5iGps.jpg?s=256",
            "display_name": "Ajay Brahmakshatriya",
            "link": "https://stackoverflow.com/users/2858773/ajay-brahmakshatriya"
        },
        "is_answered": false,
        "view_count": 187,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1741893305,
        "creation_date": 1741892389,
        "last_edit_date": 1741893305,
        "question_id": 79507383,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507383/accessing-static-members-of-incomplete-type",
        "title": "Accessing static members of incomplete type",
        "body": "<p>I have the following implementation where I am trying to access a static member of an incomplete type which will be complete later. But under very specific scenarios I am still able to access it. Here is the code snippet -</p>\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\n\ntemplate &lt;typename T&gt;\nstruct check_valid_type {\n        typedef void type;\n};\n\nstruct foo;\n\ntemplate &lt;typename T, typename I=void&gt;\nstruct bar {\n    static std::string get_x() {\n        std::cout &lt;&lt; &quot;Invoking 1&quot; &lt;&lt; std::endl;\n        return &quot;--&quot;;\n    }\n};\n\ntemplate &lt;typename T&gt;\nstruct bar&lt;T, typename check_valid_type&lt;decltype(T::x)&gt;::type&gt; {\n    static std::string get_x() {\n        std::cout &lt;&lt; &quot;Invoking 2&quot; &lt;&lt; std::endl;\n        return T::x;\n    }\n};\n\ntemplate &lt;typename T&gt;\nstruct bar&lt;T*, void&gt; {\n    static std::string get_x() {\n        return bar&lt;T&gt;::get_x();\n    }\n};\n\nint main() {\n    // your code goes here\n    bar&lt;foo&gt; y;\n    bar&lt;foo*&gt; z;\n    std::cout &lt;&lt; z.get_x() &lt;&lt; std::endl;\n    return 0;\n}\n\nstruct foo {\n    static constexpr const char* x = &quot;hello&quot;;   \n};\n</code></pre>\n<p>When this is compiled as it is, I get <code>&quot;Invoking 1&quot;</code> and <code>&quot;--&quot;</code> as the output as expected. However if I comment the declaration of <code>y</code> in main, I magically get <code>&quot;Invoking 2&quot;</code> and <code>&quot;hello&quot;</code> as output.</p>\n<p>Here are working links to both versions - <a href=\"https://godbolt.org/z/GY4K3z1d8\" rel=\"nofollow noreferrer\">https://godbolt.org/z/GY4K3z1d8</a> and <a href=\"https://godbolt.org/z/8qWj8cq71\" rel=\"nofollow noreferrer\">https://godbolt.org/z/8qWj8cq71</a></p>\n<p>Am I invoking undefined behavior here by somehow matching different template specializations? However for both scenarios the type is incomplete at the time of instantiation and it should return &quot;Invoking 1&quot;. Is this a quirk of my compiler or can I rely on this behavior to be portable?</p>\n"
    },
    {
        "tags": [
            "typescript"
        ],
        "owner": {
            "account_id": 48791,
            "reputation": 107,
            "user_id": 29889977,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/956c54ca3efdb57f6c55f3a121af7e24?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user29889977",
            "link": "https://stackoverflow.com/users/29889977/user29889977"
        },
        "is_answered": true,
        "view_count": 43,
        "accepted_answer_id": 79507692,
        "answer_count": 3,
        "score": 3,
        "last_activity_date": 1741905241,
        "creation_date": 1741899363,
        "last_edit_date": 1741899439,
        "question_id": 79507615,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507615/how-do-you-cast-a-potentially-readonly-key-to-readwrite-key-in-typescript",
        "title": "How do you cast a potentially readonly key to readwrite key in TypeScript?",
        "body": "<p><a href=\"https://www.typescriptlang.org/play/?#code/FAYwNghgzlAEBiB7RsDexawB6wLywEYNYAnAUwgBNEA7MAT1kfwCZgBfYUWqAF1gBmyPLBpkA7gmQAKAJRcQPfgGsRAcixrY0WMrL1EAqYi5DEAbWUBdEQGZgQA\" rel=\"nofollow noreferrer\">Playground</a></p>\n<p>In TypeScript, how do you &quot;assert&quot; that a keyof type is not readonly, when technically it possibly is?</p>\n<pre class=\"lang-js prettyprint-override\"><code>class Foo {\n  x = 1\n  readonly y = 2\n}\n\nconst foo = new Foo()\n\nconst k = 'x' as keyof Foo\n\nfoo[k] = 3\n</code></pre>\n<p>In this case, I know for a fact the key is not readonly, but casting to &quot;any&quot; doesn't solve it. My only solution so far is casting <code>(foo as any)[k] = 3</code> but surely there's a better way?</p>\n"
    },
    {
        "tags": [
            "python",
            "python-polars"
        ],
        "owner": {
            "account_id": 5599967,
            "reputation": 1129,
            "user_id": 4436517,
            "user_type": "registered",
            "accept_rate": 64,
            "profile_image": "https://i.sstatic.net/o85ro.png?s=256",
            "display_name": "rindis",
            "link": "https://stackoverflow.com/users/4436517/rindis"
        },
        "is_answered": true,
        "view_count": 46,
        "accepted_answer_id": 79508423,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1741939063,
        "creation_date": 1741938787,
        "question_id": 79508420,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508420/expanding-polars-dataframe-with-cartesian-product-of-two-columns",
        "title": "Expanding polars dataframe with cartesian product of two columns",
        "body": "<p>The code below shows a solution I have found in order to expand a dataframe to include the cartesian product of columns <code>A</code> and <code>B</code>, filling in the other columns with <code>null</code> values. I'm wondering if there is a better and more efficient way of solving this?</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; df = pl.DataFrame({'A': [0, 1, 1],\n...                    'B': [1, 1, 2],\n...                    'C': [6, 7, 8]})\n&gt;&gt;&gt; df\nshape: (3, 3)\n┌─────┬─────┬─────┐\n│ A   ┆ B   ┆ C   │\n│ --- ┆ --- ┆ --- │\n│ i64 ┆ i64 ┆ i64 │\n╞═════╪═════╪═════╡\n│ 0   ┆ 1   ┆ 6   │\n│ 1   ┆ 1   ┆ 7   │\n│ 1   ┆ 2   ┆ 8   │\n└─────┴─────┴─────┘\n\n&gt;&gt;&gt; df.join(df.select('A').unique().join(df.select('B').unique(), how='cross'), on=['A','B'], how='right')\nshape: (4, 3)\n┌──────┬─────┬─────┐\n│ C    ┆ A   ┆ B   │\n│ ---  ┆ --- ┆ --- │\n│ i64  ┆ i64 ┆ i64 │\n╞══════╪═════╪═════╡\n│ 6    ┆ 0   ┆ 1   │\n│ null ┆ 0   ┆ 2   │\n│ 7    ┆ 1   ┆ 1   │\n│ 8    ┆ 1   ┆ 2   │\n└──────┴─────┴─────┘\n</code></pre>\n"
    },
    {
        "tags": [
            "c++",
            "arrays"
        ],
        "owner": {
            "account_id": 21765428,
            "reputation": 85,
            "user_id": 16069389,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/e9c676fe6cea39e762f5cb352d617300?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "FOXDeveloper",
            "link": "https://stackoverflow.com/users/16069389/foxdeveloper"
        },
        "is_answered": true,
        "view_count": 124,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1741994081,
        "creation_date": 1741963293,
        "last_edit_date": 1741994081,
        "question_id": 79509388,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509388/why-cant-i-dynamically-initialize-a-2d-array-like-initializing-a-1d-array",
        "title": "Why can&#39;t I dynamically initialize a 2d array like initializing a 1d array?",
        "body": "<p>Why can't I dynamically initialize a 2d array like initializing a 1d array? For example:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>class ClassName\n{\n    int* array1d;\n    int** array2d;\n\n    ClassName(int size1, int size2)\n    {\n        array1d = new int[size1];        // work.\n        array2d = new int[size1][size2]; // doesn't work.\n    }\n}\n</code></pre>\n<p>I searched on the Internet and found <a href=\"https://stackoverflow.com/questions/936687/how-do-i-declare-a-2d-array-in-c-using-new/8837664#8837664\">this question</a>, and I found out that you can only do this if you specify the row length to be a constant, like <code>array2d = new[size1][5]</code>.</p>\n<p>I want to understand why.</p>\n<p>My assumptions is that this is because compilers treat a 2d array as an 'array' that holds 'arrays', so they need to know the size of the data type 'the inner array'. So they will allocate the memory for it, based on the length of the outer array and the memory size of the inner array <code>length of outer * sizeof(inner array)</code>, so the inner array size should be constant.</p>\n<p>Are my assumptions true?</p>\n"
    },
    {
        "tags": [
            "r"
        ],
        "owner": {
            "account_id": 4794870,
            "reputation": 601,
            "user_id": 7806228,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/317e51936294c4d3281af232ae0632d4?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Laura",
            "link": "https://stackoverflow.com/users/7806228/laura"
        },
        "is_answered": true,
        "view_count": 52,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1742039023,
        "creation_date": 1741992537,
        "last_edit_date": 1741992636,
        "question_id": 79510360,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79510360/how-to-extract-data-from-a-regression-model-plot-in-r",
        "title": "How to extract data from a regression model plot in R?",
        "body": "<p>this is my code:</p>\n<pre><code>library(tidyverse)\nlibrary(performance)\n\n# defining a model\nmodel &lt;- lm(mpg ~ wt + am + gear + vs * cyl, data = mtcars)\n\ncheck_model(model)\n</code></pre>\n<p>How can I obtain the dataframe related to the Normality of Residuals Chart?</p>\n<p><a href=\"https://i.sstatic.net/Umv83nxE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Umv83nxE.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to replicate this chart and I dont know how to extract the data.</p>\n<p>Any help?</p>\n"
    },
    {
        "tags": [
            "performance",
            "assembly",
            "x86-64",
            "cpu-architecture",
            "micro-optimization"
        ],
        "owner": {
            "account_id": 2518722,
            "reputation": 7558,
            "user_id": 2189500,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/109f747845a9ce762a1fff72eb8cf6f3?s=256&d=identicon&r=PG",
            "display_name": "David Wohlferd",
            "link": "https://stackoverflow.com/users/2189500/david-wohlferd"
        },
        "is_answered": true,
        "view_count": 37,
        "closed_date": 1741995098,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1741994753,
        "creation_date": 1741992845,
        "last_edit_date": 1741994753,
        "question_id": 79510369,
        "link": "https://stackoverflow.com/questions/79510369/how-to-efficiently-set-a-64bit-register-to-1-on-x64",
        "closed_reason": "Duplicate",
        "title": "How to efficiently set a 64bit register to -1 on x64?",
        "body": "<p>If the question were &quot;How to efficiently set a 64bit register to zero on x64?&quot; that would be easy.  You just can't beat <code>xor eax, eax</code>.  While it's not exactly correct to say it takes zero time, it's not exactly wrong either.</p>\n<p>But what about -1?</p>\n<p>Looking at godbolt, both gcc and msvc (who presumably understand this stuff pretty well) do the same thing:</p>\n<pre><code>0000000000431004 48 C7 C1 FF FF FF FF mov         rcx,0FFFFFFFFFFFFFFFFh  \n</code></pre>\n<p>Sensible, easy to read, guaranteed effective.  But is it optimal?  What's wrong with:</p>\n<pre><code>000000000043100B 31 C9                xor         ecx,ecx  \n000000000043100D 48 F7 D1             not         rcx  \n</code></pre>\n<p>It's 2 instructions instead of 1, so that's not great.  But one of them &quot;doesn't count,&quot; so maybe.  And it's 5 bytes vs 7 so that's a win.  Looking at the <a href=\"https://uica.uops.info/?code=mov%20rcx%2C%20-1%0D%0Axor%20ecx%2C%20ecx%0D%0Anot%20rcx%0D%0A%0D%0A&amp;syntax=asIntel&amp;uArchs=RKL&amp;tools=uiCA&amp;alignment=0\" rel=\"nofollow noreferrer\">timing</a> information (which is a very cool tool, click 'Run' to see the results) doesn't paint either as a definite winner to me, but I'm clearly no expert.</p>\n<p>I guess the standard I'm interested in is: If a gcc developer is looking at a bug suggesting this change, would the response be &quot;Huh!  Cool, we should definitely do this.&quot; or &quot;While it might seem like a clever idea, here in the real world...&quot;</p>\n<p>We already know that compilers generate code to assign specific values (nobody does <code>mov rcx, 0</code>).  While -1 might not be as common as 0, it's not so uncommon that it shouldn't be optimized if there's a better way.</p>\n<p>Is this a better way?</p>\n"
    },
    {
        "tags": [
            "haskell"
        ],
        "owner": {
            "account_id": 3367486,
            "reputation": 12100,
            "user_id": 2827654,
            "user_type": "registered",
            "accept_rate": 57,
            "profile_image": "https://www.gravatar.com/avatar/f4775f0510d63d26724a76cbeba67adf?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "jamshidh",
            "link": "https://stackoverflow.com/users/2827654/jamshidh"
        },
        "is_answered": false,
        "view_count": 33,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1742007360,
        "creation_date": 1742007360,
        "question_id": 79510566,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79510566/does-conduitt-have-a-corresponding-class",
        "title": "Does `ConduitT` have a corresponding class?",
        "body": "<p>Most monad transformers have a corresponding class, for instance, <code>ReaderT</code> has <code>MonadReader</code>, <code>ResourceT</code> has <code>MonadResource</code>, etc.  This allows you to use the monad features without a chain of <code>lift</code> calls.</p>\n<p>I need to run a monad stack inside of a <code>ConduitT</code>....  Is there a corresponding <code>MonadConduit</code> or something where I could just call <code>yield</code> or <code>await</code> without the dreaded <code>lift</code> chain?  I've looked around a bit, haven't found anything...</p>\n<p>(I need to run the monad stack inside of the <code>ConduitT</code>, although I've noticed the problem seems to be the same if the ConduitT is inside the other monads also, <code>lift</code> is required....  A conduit class would solve all of this, if it existed)</p>\n<p>I suppose I could write a class like this myself, but there must be an approach that is commonly used already, if someone could point me to it.</p>\n"
    },
    {
        "tags": [
            "c++",
            "namespaces"
        ],
        "owner": {
            "account_id": 421544,
            "reputation": 3770,
            "user_id": 799849,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/c2a64fda2c076abba0de85a650e7a8e3?s=256&d=identicon&r=PG",
            "display_name": "eyelash",
            "link": "https://stackoverflow.com/users/799849/eyelash"
        },
        "is_answered": false,
        "view_count": 51,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1742035967,
        "creation_date": 1742035967,
        "question_id": 79510995,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79510995/no-matching-function-call-error-when-introducing-a-namespace",
        "title": "no matching function call error when introducing a namespace",
        "body": "<p>The following code works as expected:</p>\n<pre><code>template &lt;int N&gt; struct Int {\n    constexpr auto dec() const -&gt; Int&lt;N - 1&gt; {\n        return {};\n    }\n    constexpr operator int() const {\n        return N;\n    }\n};\n\nconstexpr auto fib(Int&lt;0&gt;) -&gt; Int&lt;0&gt; {\n    return {};\n}\ntemplate &lt;int N&gt; constexpr auto fib(Int&lt;N&gt; n) -&gt; decltype(fib(n.dec())) {\n    return {};\n}\n\nstatic_assert(fib(Int&lt;2&gt;()) == 0);\n</code></pre>\n<p>However, if I introduce a namespace for <code>Int</code>, it suddenly fails on both <a href=\"https://godbolt.org/z/P7EeE4EYT\" rel=\"nofollow noreferrer\">GCC</a> and <a href=\"https://godbolt.org/z/4TYPon399\" rel=\"nofollow noreferrer\">Clang</a>:</p>\n<pre><code>namespace foo {\n    template &lt;int N&gt; struct Int {\n        constexpr auto dec() const -&gt; Int&lt;N - 1&gt; {\n            return {};\n        }\n        constexpr operator int() const {\n            return N;\n        }\n    };\n}\n\ntemplate &lt;int N&gt; using Int = foo::Int&lt;N&gt;;\n\nconstexpr auto fib(Int&lt;0&gt;) -&gt; Int&lt;0&gt; {\n    return {};\n}\ntemplate &lt;int N&gt; constexpr auto fib(Int&lt;N&gt; n) -&gt; decltype(fib(n.dec())) {\n    return {};\n}\n\nstatic_assert(fib(Int&lt;2&gt;()) == 0);\n</code></pre>\n<p>With the following error message:</p>\n<pre><code>&lt;source&gt;:21:15: error: no matching function for call to 'fib'\n   21 | static_assert(fib(Int&lt;2&gt;()) == 0);\n      |               ^~~\n&lt;source&gt;:14:16: note: candidate function not viable: no known conversion from 'Int&lt;2&gt;' to 'Int&lt;0&gt;' for 1st argument\n   14 | constexpr auto fib(Int&lt;0&gt;) -&gt; Int&lt;0&gt; {\n      |                ^   ~~~~~~\n&lt;source&gt;:17:33: note: candidate template ignored: substitution failure [with N = 2]: call to function 'fib' that is neither visible in the template definition nor found by argument-dependent lookup\n   17 | template &lt;int N&gt; constexpr auto fib(Int&lt;N&gt; n) -&gt; decltype(fib(n.dec())) {\n      |                                 ^                         ~~~\n</code></pre>\n<p>Can someone explain what is going on here? Why does introducing a namespace create a compiler error?</p>\n"
    },
    {
        "tags": [
            "rust"
        ],
        "owner": {
            "account_id": 34743063,
            "reputation": 53,
            "user_id": 26747139,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/0b78fd7a18bff2d42b3f7c92092f3553?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Tudor",
            "link": "https://stackoverflow.com/users/26747139/tudor"
        },
        "is_answered": false,
        "view_count": 23,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1742045484,
        "creation_date": 1742043941,
        "last_edit_date": 1742045484,
        "question_id": 79511161,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79511161/my-struct-has-a-field-implementing-a-generic-trait-gt-but-it-has-no-fields-us",
        "title": "My struct has a field implementing a generic trait G&lt;T&gt;, but it has no fields using T directly. Is this a legitimate use of PhantomData?",
        "body": "<p>I have a struct <code>Foo</code> which a field of some type implementing a generic trait G, but I can't refer to this trait unless I also bind a type T, but then this leads to a compiler error:</p>\n<blockquote>\n<p>type parameter <code>T</code> is never used. consider removing <code>T</code>, referring to it in a field, or using a marker such as <code>std::marker::PhantomData</code></p>\n</blockquote>\n<pre><code>trait Trait {}\ntrait GenericTrait&lt;T: Trait&gt; {}\n\nstruct Foo&lt;T, G&gt;\nwhere\n    T: Trait,\n    G: GenericTrait&lt;T&gt;,\n{\n    t: G,\n}\n\n</code></pre>\n<p>This can be solved by adding a PhantomData for T:</p>\n<pre><code>trait Trait {}\ntrait GenericTrait&lt;T: Trait&gt; {}\n\nstruct Foo&lt;T, G&gt;\nwhere\n    T: Trait,\n    G: GenericTrait&lt;T&gt;,\n{\n    t: G,\n    phantom: PhantomData&lt;T&gt;,\n}\n</code></pre>\n<p>But this feels like tricking the compiler, and I'm wondering if there isn't a simpler solution that I'm missing here.</p>\n<p>I've also considered to remove the bounds from the struct, but then I run into an error when trying to write an <code>impl</code> block:</p>\n<pre><code>trait Trait {}\ntrait GenericTrait&lt;T: Trait&gt; {}\n\nstruct Foo&lt;G&gt; {\n    t: G,\n}\nimpl&lt;T: Trait, G: GenericTrait&lt;T&gt;&gt; Foo&lt;G&gt; {}\n</code></pre>\n<p>This doesn't compile because the parameter <code>T</code> is not used in the declaration.</p>\n"
    },
    {
        "tags": [
            "typescript"
        ],
        "owner": {
            "account_id": 40812447,
            "reputation": 23,
            "user_id": 29968003,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/a2064859f6873a20687d51afd84775ed?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Kaboomy",
            "link": "https://stackoverflow.com/users/29968003/kaboomy"
        },
        "is_answered": true,
        "view_count": 53,
        "accepted_answer_id": 79503899,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741859588,
        "creation_date": 1741789454,
        "last_edit_date": 1741789576,
        "question_id": 79503894,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79503894/pick-a-specific-implementation-of-a-type-which-is-anonymous",
        "title": "&quot;Pick&quot; a specific implementation of a type which is anonymous",
        "body": "<p>Here is an example of some types and a function:</p>\n<pre><code>type testM3 = { a: 'gggg', other: 'fggfg' }\ntype totalM = { a: '123', result: { something: '4444' }}| { a: '321' } | testM3 | null\n\n// basically I want something like : totalM['a' === '123']\nfunction funcc2(input: totalM): ? {  &lt;-- this is what I have no idea how to specify return type\n  if(input &amp;&amp; 'result' in input){ // maybe this somehow?\n    return input\n  }\n  if(input &amp;&amp; input.a === '321'){ // or this?\n    return input\n  }\n  return null\n}\n</code></pre>\n<p>I want to specify a specific return type. In this case the type I want to return is &quot;anonymous&quot; the one which contains &quot;result&quot; in it. Since it is not a specifically named type, I cannot just say something like <code>: testM3</code>. I could just say that the return is <code>: { a: '123', result: '4444' }</code>. But that would only work for a small type. If the example return would contain 50 different sub properties, that would be unfeasible. I also have no control over the <code>totalM</code> type, so I can not just change the type itself. Is there an easy way to &quot;pick&quot; the implementation with something like <code>totalM['a' === '123']</code>? This is not about picking a specific return value, but to return the whole return object. So, something like <code>Pick&lt;&gt;</code> I assume will not work.</p>\n<p>I could not find anything that would fit from the TypeScript documentation. I assume this would be called discriminated union, but some suggestions would be, either change the total type itself (which I can not do) or have a custom implementation, which can be used, but most solutions are several years old. So I am interested if there is maybe a easy and fast solution for it or not.</p>\n"
    },
    {
        "tags": [
            "c#",
            ".net"
        ],
        "owner": {
            "account_id": 18624889,
            "reputation": 1373,
            "user_id": 13574233,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/YAWjO.jpg?s=256",
            "display_name": "baltermia",
            "link": "https://stackoverflow.com/users/13574233/baltermia"
        },
        "is_answered": true,
        "view_count": 90,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1741864284,
        "creation_date": 1741790005,
        "question_id": 79503917,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79503917/whats-the-difference-between-stopwatch-and-timeprovider-for-the-gettimestamp-an",
        "title": "What&#39;s the difference between Stopwatch and TimeProvider for the GetTimestamp and GetElapsedTime methods?",
        "body": "<p>.NET 7 introduced a new method to the <code>System.Diagnostics.Stopwatch</code> type called <code>GetElapsedTime</code>. It is used in conjunction with <code>GetTimestamp</code>:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>long start = Stopwatch.GetTimestamp();\n\nawait LongRunningTaskAsync();\n\nTimeSpan elapsed = Stopwatch.GetElapsedTime(start);\n\nConsole.WriteLine($&quot;Duration: {elapsed}&quot;);\n</code></pre>\n<p>Recently I've stumbled upon <code>System.TimeProvider</code> while working on a .NET Framework project. It has pretty much the exact same API as <code>Stopwatch</code>:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>long start = TimeProvider.System.GetTimestamp();\n\nawait LongRunningTaskAsync();\n\nTimeSpan elapsed = TimeProvider.System.GetElapsedTime(start);\n\nConsole.WriteLine($&quot;Duration: {elapsed}&quot;);\n</code></pre>\n<p><code>Stopwatch</code> can simply be substituted by <code>TimeProvider.System</code> and the code looks and functions exactly the same.</p>\n<p>Now is there actually any difference between the two? <code>TimeProvider.GetElapsedTime</code> has been around far longer than the <code>Stopwatch</code> equivalent, so it's the only option in e.g. .NET Framework. If it already existed, I ask myself why they would even add the same method to the <code>Stopwatch</code> type in a newer version. Which of these should be used when the decision is possible?</p>\n"
    },
    {
        "tags": [
            "r",
            "zoo",
            "rolling-computation"
        ],
        "owner": {
            "account_id": 8283797,
            "reputation": 135,
            "user_id": 11213979,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9f9f782702d5fae4a9ad193b3f7db7fb?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Beres",
            "link": "https://stackoverflow.com/users/11213979/beres"
        },
        "is_answered": true,
        "view_count": 84,
        "accepted_answer_id": 79504032,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741880015,
        "creation_date": 1741791930,
        "last_edit_date": 1741844235,
        "question_id": 79503991,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79503991/create-rolling-windows-with-custom-overlap",
        "title": "Create rolling windows with custom overlap",
        "body": "<p>I'd like to analyse time-series data along multiple rolling windows. As a first step, I'd like to extract the start and end-times of said windows. Sadly, using <code>zoo:rollapply</code> seems to be missing a crucial parameter, namely the overlap, which seems to fixed at <code>1</code>?</p>\n<p>Example:</p>\n<pre><code>library(zoo)\na &lt;- c(0:10)\noutput &lt;- rollapply(a, 4, print)\n</code></pre>\n<p>output:</p>\n<pre><code>      [,1] [,2] [,3] [,4]\n[1,]    0    1    2    3\n[2,]    1    2    3    4\n[3,]    2    3    4    5\n[4,]    3    4    5    6\n[5,]    4    5    6    7\n[6,]    5    6    7    8\n[7,]    6    7    8    9\n[8,]    7    8    9   10\n</code></pre>\n<p>desired output (having an overlap of 2, for example):</p>\n<pre><code>     [,1] [,2] [,3] [,4]\n[1,]    0    1    2    3\n[2,]    2    3    4    5\n[3,]    4    5    6    7\n[4,]    6    7    8    9\n[5,]    8    9    10    \n</code></pre>\n<p>any idea of how to get there?</p>\n"
    },
    {
        "tags": [
            "python",
            "python-3.x",
            "coordinates",
            "python-polars",
            "polars"
        ],
        "owner": {
            "account_id": 15840,
            "reputation": 1012,
            "user_id": 33886,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/81542fd51afadeedca224c96c39acd2e?s=256&d=identicon&r=PG",
            "display_name": "Kyle",
            "link": "https://stackoverflow.com/users/33886/kyle"
        },
        "is_answered": true,
        "view_count": 43,
        "accepted_answer_id": 79504049,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741795866,
        "creation_date": 1741792170,
        "last_edit_date": 1741795866,
        "question_id": 79504009,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504009/detect-coordinate-precision-in-polars-floats",
        "title": "Detect coordinate precision in polars floats?",
        "body": "<p>I have some coordinate data; some of it high precision, some of it low precision thanks to multiple data sources and other operational realities. I want to have a column that indicates the relative precision of the coordinates. So far, what I want is to essentially count digits after the decimal; in my case more digits indicates higher precision data. In my case I usually get data like the data in the example; its either coming with five to six digits precision or just one digit. Both are useful; but we can do more analysis on higher precision data as you may imagine.</p>\n<p>This code does what I want, but it seems .... wordy, inelegant; as if I'm being paid by the line of code. Is there a simpler way to do this?</p>\n<pre><code>import polars as pl\n\ndf = pl.DataFrame(\n    {\n            &quot;lat&quot;:  [ 43.6425047,  43.6,  40.688966,  40.6],\n            &quot;lng&quot;:  [-79.3861057, -79.3, -74.044438, -74.0],\n    }\n)\n\ndf = (df.with_columns(\n    pl.col(&quot;lat&quot;).cast(pl.String)\n    .str.split_exact(&quot;.&quot;, 1)\n    .struct.rename_fields([&quot;lat_major&quot;, &quot;lat_minor&quot;])\n    .alias(&quot;lat_temp&quot;))\n .unnest(&quot;lat_temp&quot;)\n .with_columns(\n    pl.col(&quot;lat_minor&quot;)\n    .str.len_chars()\n    .alias(&quot;lat_precision&quot;))\n .drop(&quot;lat_major&quot;, &quot;lat_minor&quot;)\n .with_columns(\n    pl.col(&quot;lng&quot;).cast(pl.String)\n    .str.split_exact(&quot;.&quot;, 1)\n    .struct.rename_fields([&quot;lng_major&quot;, &quot;lng_minor&quot;])\n    .alias(&quot;lng_temp&quot;))\n    .unnest(&quot;lng_temp&quot;)\n .with_columns(\n    pl.col(&quot;lng_minor&quot;)\n    .str.len_chars()\n    .alias(&quot;lng_precision&quot;))\n .drop(&quot;lng_major&quot;, &quot;lng_minor&quot;)\n .with_columns(\n    pl.col(&quot;lat_precision&quot;)\n    .add(pl.col(&quot;lng_precision&quot;))\n    .alias(&quot;precision&quot;))\n .drop(&quot;lat_precision&quot;, &quot;lng_precision&quot;)\n )\ndf.head()\n</code></pre>\n<p>results in</p>\n<pre><code>shape: (4, 3)\n┌───────────┬────────────┬───────────┐\n│ lat       ┆ lng        ┆ precision │\n│ ---       ┆ ---        ┆ ---       │\n│ f64       ┆ f64        ┆ u32       │\n╞═══════════╪════════════╪═══════════╡\n│ 43.642505 ┆ -79.386106 ┆ 14        │\n│ 43.6      ┆ -79.3      ┆ 2         │\n│ 40.688966 ┆ -74.044438 ┆ 12        │\n│ 40.6      ┆ -74.0      ┆ 2         │\n└───────────┴────────────┴───────────┘\n</code></pre>\n<p>later I might pull out records with precision over 5, for instance, as my source data tends to be either one decimal point precision or four+ decimal points precision per coordinate.</p>\n"
    },
    {
        "tags": [
            "go",
            "cross-compiling",
            "cgo",
            "zig"
        ],
        "owner": {
            "account_id": 3973106,
            "reputation": 31,
            "user_id": 3277119,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/2f911ea2a36d978bfd6dedc64547a9a5?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user3277119",
            "link": "https://stackoverflow.com/users/3277119/user3277119"
        },
        "is_answered": true,
        "view_count": 60,
        "accepted_answer_id": 79509678,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741969522,
        "creation_date": 1741792283,
        "last_edit_date": 1741795743,
        "question_id": 79504017,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504017/zig-as-c-linux-mac-cross-compiler-for-go-project-with-go-sqlite3-error-unable",
        "title": "Zig as C Linux-&gt;Mac cross-compiler for go project with go-sqlite3 error: unable to find dynamic system library &#39;resolv&#39;",
        "body": "<p>I'm building a Go application with native (CGO_ENABLED=1) SQLite support using <a href=\"https://github.com/mattn/go-sqlite3\" rel=\"nofollow noreferrer\">https://github.com/mattn/go-sqlite3</a>.</p>\n<p>I'm trying to get the builder docker image to a reasonable size. (goreleaser/goreleaser-cross works for all platforms, but is over 8GB).</p>\n<p>When using Zig (0.14.0) as the cross compiler, Linux and Windows targets build/run fine on both an Alpine and Debian/bookworm-image (go 1.24.1) but mac compilation fails with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>/usr/local/go/pkg/tool/linux_amd64/link: running zig failed: exit status 1\n/opt/zig/zig cc -target x86_64-macos -arch x86_64 -m64 -Wl,-headerpad,1144 -o $WORK/b001/exe/a.out /tmp/go-link-2504977538/go.o /tmp/go-link-2504977538/000000.o /tmp/go-link-2504977538/000001.o /tmp/go-link-2504977538/000002.o /tmp/go-link-2504977538/000003.o /tmp/go-link-2504977538/000004.o /tmp/go-link-2504977538/000005.o /tmp/go-link-2504977538/000006.o /tmp/go-link-2504977538/000007.o /tmp/go-link-2504977538/000008.o /tmp/go-link-2504977538/000009.o /tmp/go-link-2504977538/000010.o /tmp/go-link-2504977538/000011.o /tmp/go-link-2504977538/000012.o /tmp/go-link-2504977538/000013.o /tmp/go-link-2504977538/000014.o /tmp/go-link-2504977538/000015.o /tmp/go-link-2504977538/000016.o /tmp/go-link-2504977538/000017.o /tmp/go-link-2504977538/000018.o /tmp/go-link-2504977538/000019.o /tmp/go-link-2504977538/000020.o /tmp/go-link-2504977538/000021.o /tmp/go-link-2504977538/000022.o -lresolv -O2 -g -O2 -g -lpthread -framework CoreFoundation -framework Security\nerror: unable to find dynamic system library 'resolv' using strategy 'paths_first'. searched paths: none\n</code></pre>\n<p>What I understand is the resolv-library is supposed to be part of libc, so if Zig doesn't provide it (by not having a musl-implementation for Mac), it should come from a Mac SDK.</p>\n<p>I've also tried supplying it with:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(export GOOS=darwin &amp;&amp; export GOARCH=amd64 &amp;&amp; export CC=&quot;zig cc -target x86_64-macos --sysroot ${MACOS_SDK} -isysroot ${MACOS_SDK} -I${MACOS_SDK}/usr/include -Wno-nullability-completeness&quot; &amp;&amp; go build -o dist/$GOOS/$GOARCH/)\n</code></pre>\n<p>To no avail, still getting the &quot;unable to find dynamic system library&quot;...</p>\n<p>What might be missing? How can I get CGO Linux→Mac cross-compilation working with a recent Zig and Go?</p>\n"
    },
    {
        "tags": [
            "mongodb"
        ],
        "owner": {
            "account_id": 181920,
            "reputation": 1736,
            "user_id": 416255,
            "user_type": "registered",
            "accept_rate": 75,
            "profile_image": "https://www.gravatar.com/avatar/40bfb0e1922c006d8a0135ccf431891f?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Miguel",
            "link": "https://stackoverflow.com/users/416255/miguel"
        },
        "is_answered": true,
        "view_count": 28,
        "accepted_answer_id": 79504142,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741794824,
        "creation_date": 1741792540,
        "question_id": 79504023,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504023/mongodb-projection-does-not-work-for-nested-properties-when-the-property-name-ha",
        "title": "MongoDB projection does not work for nested properties when the property name has a digit",
        "body": "<p>I have weather documents like this:</p>\n<pre><code>{\n &quot;_id&quot;: &quot;some_id&quot;,\n &quot;temp_f&quot;: 65.8,\n &quot;current_observation&quot;: {\n   &quot;rain_day_in&quot;: 0,\n   &quot;soil_moisture_1&quot;: 0\n   &quot;soil_moisture_1_day_high&quot;: 0\n }\n &quot;date&quot;: &quot;12/23/2021&quot;,\n &quot;date_and_time&quot;: &quot;2021-12-23T20:34:21&quot;,\n ... many more properties here\n}\n</code></pre>\n<p>Running the following find command (find the most recent document and flatten the properties):</p>\n<pre><code>db.getCollection('weather').find({}, {\n    &quot;temp_f&quot;: 1,\n    &quot;rain_day_in&quot;: &quot;$current_observation.rain_day_in&quot;,\n    &quot;soil_moisture_1&quot;: &quot;$current_observation.soil_moisture_1&quot;,\n    &quot;soil_moisture_1_day_high&quot;: &quot;$current_observation.soil_moisture_1_day_high&quot;,\n    &quot;date&quot;: 1,\n    &quot;_id&quot;: 0\n}).sort({\n    date_and_time: -1\n}).limit(1);\n</code></pre>\n<p>I get the following result:</p>\n<pre><code>[\n  {\n    &quot;temp_f&quot;: 66.6,\n    &quot;date&quot;: &quot;03/12/2025&quot;,\n    &quot;rain_day_in&quot;: 0\n  }\n]\n</code></pre>\n<p>It returns all included properties except <code>soil_moisture_1</code> and <code>soil_moisture_1_day_high</code>. Both have a digit in the name. Several other properties have a digit as part of the property name, and none of them are returned in the result if I include them. Is that digit causing the issue? How can I fix the command to get those properties in the result?</p>\n<p>Using MongoBD v7.0.15</p>\n"
    },
    {
        "tags": [
            "java",
            "sql",
            "spring-jdbc"
        ],
        "owner": {
            "account_id": 6932189,
            "reputation": 333,
            "user_id": 5321341,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/926171279c9a7b096d08ab9266ee2cec?s=256&d=identicon&r=PG",
            "display_name": "Fabrice Gabolde",
            "link": "https://stackoverflow.com/users/5321341/fabrice-gabolde"
        },
        "is_answered": false,
        "view_count": 48,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741888093,
        "creation_date": 1741799780,
        "question_id": 79504391,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504391/using-dynamic-table-names-correctly-quoted-in-jdbctemplate",
        "title": "Using dynamic table names, correctly quoted, in JdbcTemplate",
        "body": "<p>I know about prepared statements and binding parameters and why you can't have the table name be a placeholder (needed for query planning), SQL query building by concatenating strings (don't do it), etc.</p>\n<p>I still need my table name to be dynamic. I'm building a simple service: I have a bunch of table names (unquoted) in a list, I need to loop over them and do <code>SELECT COUNT(*) FROM &lt;database&gt;.&lt;schema&gt;.&lt;table&gt;</code>, and write the count somewhere.</p>\n<p>Of course I can use the techniques in other Q&amp;A (e.g. <a href=\"https://stackoverflow.com/questions/31557035/jdbctemplate-dynamic-table-name-and-sql-injection\">JdbcTemplate dynamic table name and SQL injection</a>) to get the table name in there, but it may contain any character that is valid within an identifier. <code>foo</code>, <code>foo&quot;bar</code>, <code>foo; DROP TABLE Students</code>, etc. They were originally fetched from <code>INFORMATION_SCHEMA</code>. The database and schema name are more predictable and probably don't even need quoting, but still.</p>\n<p>The only method that correctly (*) quotes them is Statement's <code>enquoteIdentifier</code>, but I'm using JdbcTemplate which doesn't expose this easily. Best I could find is using one of the JdbcTemplate methods that uses a PreparedStatementCreator, so I can start from a Connection, get a Statement, using which I can quote the identifier; then throw it away, build a PreparedStatement from the Connection. I haven't tested this yet but it seems very awkward to use.</p>\n<p>Is there a better, simpler way? I like jOOQ, but it seems overkill to add it as a dependency for something that is really just one <code>SELECT COUNT(*)</code>.</p>\n<p>(*) &quot;Correctly&quot; meaning I don't have to write a method that escapes quotes, escapes escape characters, and wraps the identifiers in quotes. Actually, does enquoteIdentifier even know about the session's escape characters? I'm going to assume that it's set to the default and the driver knows the default.</p>\n"
    },
    {
        "tags": [
            "c++",
            "qt"
        ],
        "owner": {
            "account_id": 1082963,
            "reputation": 2252,
            "user_id": 1079430,
            "user_type": "registered",
            "accept_rate": 74,
            "profile_image": "https://www.gravatar.com/avatar/6bf00489520e8f013752bac52318def2?s=256&d=identicon&r=PG",
            "display_name": "Bri Bri",
            "link": "https://stackoverflow.com/users/1079430/bri-bri"
        },
        "is_answered": true,
        "view_count": 105,
        "accepted_answer_id": 79506418,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1741875634,
        "creation_date": 1741804709,
        "last_edit_date": 1741810362,
        "question_id": 79504589,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504589/is-there-a-way-to-tell-if-a-qtextedit-contains-plain-text-or-rich-text",
        "title": "Is there a way to tell if a QTextEdit contains plain text or rich text?",
        "body": "<p>I have a Qt C++ app where I need to save the contents of a QTextEdit to disk as plain text if it contains plain text, and as html if the QTextEdit contains rich text.</p>\n<p>Is there any way to tell if its contents are rich text or plain text?</p>\n<p>In the case of plain text, that would mean its contents has no formatting, and all text has no specified font or is using the default font.</p>\n"
    },
    {
        "tags": [
            "java",
            "spring",
            "spring-batch"
        ],
        "owner": {
            "account_id": 4374245,
            "reputation": 907,
            "user_id": 3567672,
            "user_type": "registered",
            "accept_rate": 75,
            "profile_image": "https://i.sstatic.net/Bdz6j.png?s=256",
            "display_name": "edwise",
            "link": "https://stackoverflow.com/users/3567672/edwise"
        },
        "is_answered": false,
        "view_count": 38,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741805518,
        "creation_date": 1741805518,
        "question_id": 79504621,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504621/do-something-for-every-file-read-in-spring-batch-with-multiresourceitemreader",
        "title": "Do something for every file read in Spring Batch with MultiResourceItemReader",
        "body": "<p>I have a SpringBatch project with Spring Boot. Is a job that reads csv files from a folder. This is part of the job config:</p>\n<pre><code>    @Bean\n    public FlatFileItemReader&lt;Workout&gt; reader() {\n        return new FlatFileItemReaderBuilder&lt;Workout&gt;()\n                .name(&quot;workoutReader&quot;)\n                .fieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {{\n                    setTargetType(Workout.class);\n                    setCustomEditors(Collections.singletonMap(\n                            LocalDateTime.class,\n                            new LocalDateTimeEditor()\n                    ));\n                }})\n                .linesToSkip(1)\n                .delimited()\n                .names(Workout.FIELDS)\n                .build();\n    }\n\n    @Bean\n    public MultiResourceItemReader&lt;Workout&gt; multiResourceReader(FlatFileItemReader&lt;Workout&gt; reader) {\n        return new MultiResourceItemReaderBuilder&lt;Workout&gt;()\n                .name(&quot;multiWorkoutReader&quot;)\n                .resources(loadWorkoutFiles())\n                .delegate(reader)\n                .build();\n    }\n\n    private Resource[] loadWorkoutFiles() {\n        try {\n            return new PathMatchingResourcePatternResolver()\n                    .getResources(&quot;classpath:&quot; + workoutFileNamePattern);\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Error loading CSV files&quot;, e);\n        }\n    }\n</code></pre>\n<p>I need to do a query to a mongo db before every file is read. How can I do it? I tried with and StepListener but it doesnt work for the files, it work for the steps.</p>\n"
    },
    {
        "tags": [
            "python",
            "windows",
            "visual-studio-code"
        ],
        "owner": {
            "account_id": 9026986,
            "reputation": 21,
            "user_id": 7142032,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/NEgXH.jpg?s=256",
            "display_name": "hecko",
            "link": "https://stackoverflow.com/users/7142032/hecko"
        },
        "is_answered": true,
        "view_count": 34,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741834869,
        "creation_date": 1741805752,
        "question_id": 79504626,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504626/is-it-possible-to-add-an-interpreter-to-vscodes-list",
        "title": "Is it possible to add an interpreter to VSCode&#39;s list?",
        "body": "<p>I switch between CPython and PyPy every so often, and while the former is always present in <code>Python: Select Interpreter...</code>, the latter never sticks and I have to input the path manually. I'd like to save it as a permanent option globally.</p>\n<p><a href=\"https://code.visualstudio.com/docs/python/environments#_where-the-extension-looks-for-environments\" rel=\"nofollow noreferrer\">VSCode's documentation</a> says:</p>\n<blockquote>\n<p>The extension automatically looks for interpreters in the following locations, in no particular order:</p>\n<ul>\n<li>Standard install paths such as <code>/usr/local/bin</code>, <code>/usr/sbin</code>, <code>/sbin</code>, <code>c:\\\\python36</code>, etc.</li>\n<li>Virtual environments located [...]</li>\n<li>Interpreters created by pyenv, Pipenv, and Poetry.</li>\n<li>Virtual environments located [...]</li>\n<li>Conda environments [...]</li>\n<li>Interpreters installed in a <code>.direnv</code> folder for direnv under the workspace folder.</li>\n</ul>\n</blockquote>\n<p>I'm not sure what would constitute a &quot;standard install path&quot; for PyPy (though apparently Inkscape's Python is included?!). I've tried creating a virtual environment under <code>python.venvPath</code> with <code>--system-site-packages</code>, but it doesn't seem to be detected, even when others are.</p>\n"
    },
    {
        "tags": [
            "c++",
            "pipe"
        ],
        "owner": {
            "account_id": 40814257,
            "reputation": 15,
            "user_id": 29969332,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/ef3dbdb90da30ff9620617ff8f3b22a5?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "DC Сomics",
            "link": "https://stackoverflow.com/users/29969332/dc-%d0%a1omics"
        },
        "is_answered": false,
        "view_count": 50,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741812378,
        "creation_date": 1741810070,
        "last_edit_date": 1741812378,
        "question_id": 79504744,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504744/program-on-ubuntu-create-pipe-and-use-shell-but-when-i-want-send-command-for-sh",
        "title": "Program on ubuntu create pipe and use shell, but when i want send command for shell shell already closed",
        "body": "<p>I have code client on c++, client works on ubuntu. When i create session ny bash closed. Why?</p>\n<p>In function SendCommand i see the info about shellPid but my shall pid is already closed\nMay be problem in destructor ShellHandler? if u have idea write please</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cstring&gt;\n#include &lt;unistd.h&gt;\n#include &lt;arpa/inet.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;sys/wait.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;poll.h&gt;\n#include &lt;csignal&gt;\n#include &lt;atomic&gt;\n#include &lt;unordered_map&gt;\n#include &lt;mutex&gt;\n#include &lt;thread&gt;\n\nstd::atomic&lt;bool&gt; running(true);\n\nvoid signalHandler(int signal) {\n    if (signal == SIGINT) {\n        running = false;\n    }\n}\n\nclass ShellHandler {\nprivate:\n    int pipeIn[2];  // Pipe for sending input to the shell\n    int pipeOut[2]; // Pipe for receiving output from the shell\n    pid_t shellPid;\n\npublic:\n    ShellHandler() : pipeIn{-1, -1}, pipeOut{-1, -1}, shellPid(-1) {\n        // Create pipes for communication with the shell\n        if (pipe(pipeIn) == -1 || pipe(pipeOut) == -1) {\n            throw std::runtime_error(&quot;Failed to create pipes.&quot;);\n        }\n\n        // Fork a child process to run the shell\n        shellPid = fork();\n        if (shellPid == -1) {\n            throw std::runtime_error(&quot;Failed to fork.&quot;);\n        }\n\n        if (shellPid == 0) {\n            // Child process: Run the shell\n            close(pipeIn[1]);  // Close the write end of the input pipe (не используется в дочернем процессе)\n            close(pipeOut[0]); // Close the read end of the output pipe (не используется в дочернем процессе)\n\n            // Redirect stdin and stdout to the pipes\n            if (dup2(pipeIn[0], STDIN_FILENO) == -1) {\n                std::cerr &lt;&lt; &quot;Error: Failed to redirect stdin. Errno: &quot; &lt;&lt; errno &lt;&lt; std::endl;\n                _exit(1);\n            }\n            if (dup2(pipeOut[1], STDOUT_FILENO) == -1) {\n                std::cerr &lt;&lt; &quot;Error: Failed to redirect stdout. Errno: &quot; &lt;&lt; errno &lt;&lt; std::endl;\n                _exit(1);\n            }\n            if (dup2(pipeOut[1], STDERR_FILENO) == -1) {\n                std::cerr &lt;&lt; &quot;Error: Failed to redirect stderr. Errno: &quot; &lt;&lt; errno &lt;&lt; std::endl;\n                _exit(1);\n            }\n\n            // Execute the shell\n            execl(&quot;/bin/bash&quot;, &quot;bash&quot;, &quot;-i&quot;, nullptr); // Запуск в интерактивном режиме\n\n            // If execl fails\n            std::cerr &lt;&lt; &quot;Error: Failed to execute shell. Errno: &quot; &lt;&lt; errno &lt;&lt; std::endl;\n            _exit(1);\n        } else {\n            // Parent process: Close unused pipe ends\n            close(pipeIn[0]);  // Close the read end of the input pipe (не используется в родительском процессе)\n            close(pipeOut[1]); // Close the write end of the output pipe (не используется в родительском процессе)\n            std::cout &lt;&lt; &quot;Shell started with PID: &quot; &lt;&lt; shellPid &lt;&lt; std::endl;\n        }\n    }\n\n    ~ShellHandler() {\n        // Clean up\n        if (pipeIn[1] != -1) close(pipeIn[1]);\n        if (pipeOut[0] != -1) close(pipeOut[0]);\n\n        // Если shell все еще работает, отправляем команду на завершение\n        if (shellPid &gt; 0) {\n            std::cout &lt;&lt; &quot;Checking if shell with PID &quot; &lt;&lt; shellPid &lt;&lt; &quot; is still running...&quot; &lt;&lt; std::endl;\n            if (kill(shellPid, 0) == 0) {\n                std::cout &lt;&lt; &quot;Sending exit command to shell with PID: &quot; &lt;&lt; shellPid &lt;&lt; std::endl;\n                std::string cmd = &quot;exit\\n&quot;;\n                if (write(pipeIn[1], cmd.c_str(), cmd.size()) == -1) {\n                    std::cerr &lt;&lt; &quot;Error: Failed to send exit command to shell. Errno: &quot; &lt;&lt; errno &lt;&lt; std::endl;\n                }\n\n                // Ждем завершения shell\n                waitpid(shellPid, nullptr, 0);\n            } else {\n                std::cerr &lt;&lt; &quot;Error: Shell process is not running. Errno: &quot; &lt;&lt; errno &lt;&lt; std::endl;\n            }\n        }\n    }\n\n    void SendCommand(const std::string&amp; command) {\n        // Логирование информации о сессии\n        std::cout &lt;&lt; &quot;Session Info:&quot; &lt;&lt; std::endl;\n        std::cout &lt;&lt; &quot;  shellPid: &quot; &lt;&lt; shellPid &lt;&lt; std::endl;\n        std::cout &lt;&lt; &quot;  pipeIn[0]: &quot; &lt;&lt; pipeIn[0] &lt;&lt; &quot;, pipeIn[1]: &quot; &lt;&lt; pipeIn[1] &lt;&lt; std::endl;\n        std::cout &lt;&lt; &quot;  pipeOut[0]: &quot; &lt;&lt; pipeOut[0] &lt;&lt; &quot;, pipeOut[1]: &quot; &lt;&lt; pipeOut[1] &lt;&lt; std::endl;\n\n        if (pipeIn[1] == -1) {\n            std::cerr &lt;&lt; &quot;Error: Pipe is closed.&quot; &lt;&lt; std::endl;\n            throw std::runtime_error(&quot;Error: Pipe is closed.&quot;);\n        }\n\n        // Проверка, что shell все еще работает\n        if (kill(shellPid, 0) == -1) {\n            std::cerr &lt;&lt; &quot;Error: Shell process is not running.&quot; &lt;&lt; std::endl;\n            throw std::runtime_error(&quot;Error: Shell process is not running.&quot;);\n        }\n\n        // Отправка команды\n        std::string cmd = command + &quot;\\n&quot;;\n        std::cout &lt;&lt; &quot;Sending command to shell: &quot; &lt;&lt; cmd &lt;&lt; std::endl;\n        if (write(pipeIn[1], cmd.c_str(), cmd.size()) == -1) {\n            std::cerr &lt;&lt; &quot;Error: Failed to write to pipe. Errno: &quot; &lt;&lt; errno &lt;&lt; std::endl;\n            throw std::runtime_error(&quot;Error: Failed to write to pipe.&quot;);\n        }\n    }\n\n    std::string ReceiveOutput() {\n        // Set the output pipe to non-blocking mode\n        SetNonBlocking(pipeOut[0]);\n\n        // Use poll to check if there is data available in the output pipe\n        struct pollfd fds[1];\n        fds[0].fd = pipeOut[0];\n        fds[0].events = POLLIN;\n\n        std::string output;\n        bool dataAvailable = true;\n        while (dataAvailable) {\n            int ret = poll(fds, 1, 100); // Wait for 100ms\n            if (ret == -1) {\n                std::cerr &lt;&lt; &quot;Error: poll failed.&quot; &lt;&lt; std::endl;\n                throw std::runtime_error(&quot;Error: poll failed.&quot;);\n            } else if (ret == 0) {\n                std::cout &lt;&lt; &quot;Poll timeout, no data available.&quot; &lt;&lt; std::endl;\n                dataAvailable = false;\n            } else if (fds[0].revents &amp; POLLIN) {\n                char buffer[4096] = {0};\n                int bytesRead = read(pipeOut[0], buffer, sizeof(buffer));\n                if (bytesRead &lt;= 0) {\n                    std::cerr &lt;&lt; &quot;No data read from pipe.&quot; &lt;&lt; std::endl;\n                    dataAvailable = false;\n                } else {\n                    output.append(buffer, bytesRead);\n                    std::cout &lt;&lt; &quot;Read &quot; &lt;&lt; bytesRead &lt;&lt; &quot; bytes from pipe: &quot; &lt;&lt; output &lt;&lt; std::endl;\n                }\n            }\n        }\n\n        return output;\n    }\n\nprivate:\n    void SetNonBlocking(int fd) {\n        int flags = fcntl(fd, F_GETFL, 0);\n        if (flags == -1) {\n            std::cerr &lt;&lt; &quot;Error: fcntl(F_GETFL) failed.&quot; &lt;&lt; std::endl;\n            throw std::runtime_error(&quot;Error: fcntl(F_GETFL) failed.&quot;);\n        }\n        if (fcntl(fd, F_SETFL, flags | O_NONBLOCK) == -1) {\n            std::cerr &lt;&lt; &quot;Error: fcntl(F_SETFL) failed.&quot; &lt;&lt; std::endl;\n            throw std::runtime_error(&quot;Error: fcntl(F_SETFL) failed.&quot;);\n        }\n        std::cout &lt;&lt; &quot;Pipe set to non-blocking mode.&quot; &lt;&lt; std::endl;\n    }\n};\n\nclass NetworkHandler {\nprivate:\n    int clientSocket;\n\npublic:\n    NetworkHandler(const std::string&amp; serverIP, int port) {\n        // Create a socket\n        clientSocket = socket(AF_INET, SOCK_STREAM, 0);\n        if (clientSocket == -1) {\n            throw std::runtime_error(&quot;Failed to create socket.&quot;);\n        }\n\n        // Define server address\n        sockaddr_in serverAddr;\n        serverAddr.sin_family = AF_INET;\n        serverAddr.sin_port = htons(port);\n        inet_pton(AF_INET, serverIP.c_str(), &amp;serverAddr.sin_addr);\n\n        // Try to connect to the server in a loop\n        while (running) {\n            if (connect(clientSocket, (sockaddr*)&amp;serverAddr, sizeof(serverAddr)) == 0) {\n                std::cout &lt;&lt; &quot;Connected to the server.&quot; &lt;&lt; std::endl;\n                break; // Exit the loop on successful connection\n            } else {\n                std::cerr &lt;&lt; &quot;Failed to connect to the server. Retrying in 5 seconds...&quot; &lt;&lt; std::endl;\n                sleep(5); // Wait for 5 seconds before retrying\n            }\n        }\n    }\n\n    ~NetworkHandler() {\n        close(clientSocket);\n    }\n\n    std::string ReceiveCommand() {\n        char buffer[4096] = {0};\n        int bytesReceived = recv(clientSocket, buffer, sizeof(buffer), 0);\n        if (bytesReceived &lt;= 0) {\n            throw std::runtime_error(&quot;Connection closed by the server.&quot;);\n        }\n        return std::string(buffer, bytesReceived);\n    }\n\n    void SendResult(const std::string&amp; result) {\n        // Отправляем длину сообщения\n        uint32_t messageLength = htonl(result.size());\n        send(clientSocket, &amp;messageLength, sizeof(messageLength), 0);\n\n        // Отправляем само сообщение\n        send(clientSocket, result.c_str(), result.size(), 0);\n    }\n};\n\nclass Client {\nprivate:\n    NetworkHandler networkHandler;\n    std::unordered_map&lt;int, ShellHandler&gt; sessions; // Сессии (sessionID -&gt; ShellHandler)\n    int activeSessionID = -1; // Активная сессия\n    std::mutex sessionsMutex; // Мьютекс для синхронизации доступа к сессиям\n    int nextSessionID = 1;    // Счетчик для генерации уникальных sessionID\n\npublic:\n    Client(const std::string&amp; serverIP, int port)\n        : networkHandler(serverIP, port) {}\n\n    void Run() {\n        while (running) {\n            try {\n                // Receive a command from the server\n                std::string command = networkHandler.ReceiveCommand();\n                std::cout &lt;&lt; &quot;Received command: &quot; &lt;&lt; command &lt;&lt; std::endl;\n\n                // Обработка команд управления сессиями\n                if (command == &quot;list_sessions&quot;) {\n                    std::lock_guard&lt;std::mutex&gt; lock(sessionsMutex);\n                    std::string result = &quot;Active sessions:\\n&quot;;\n                    for (const auto&amp; session : sessions) {\n                        result += &quot;SessionID: &quot; + std::to_string(session.first) + &quot;\\n&quot;;\n                    }\n                    networkHandler.SendResult(result);\n                } else if (command == &quot;create_new_session&quot;) {\n                    std::lock_guard&lt;std::mutex&gt; lock(sessionsMutex);\n                    int sessionID = nextSessionID++;\n                    sessions.emplace(sessionID, ShellHandler());\n                    activeSessionID = sessionID;\n                    networkHandler.SendResult(&quot;New session created and selected. SessionID: &quot; + std::to_string(sessionID));\n                } else {\n                    if (activeSessionID == -1) {\n                        networkHandler.SendResult(&quot;No active session. Use 'create_new_session' to create one.&quot;);\n                        continue;\n                    }\n\n                    std::lock_guard&lt;std::mutex&gt; lock(sessionsMutex);\n                    auto it = sessions.find(activeSessionID);\n                    if (it != sessions.end()) {\n                        std::cout &lt;&lt; &quot;Sending command to session &quot; &lt;&lt; activeSessionID &lt;&lt; &quot;: &quot; &lt;&lt; command &lt;&lt; std::endl;\n                        try {\n                            it-&gt;second.SendCommand(command);\n                            std::string output = it-&gt;second.ReceiveOutput();\n                            networkHandler.SendResult(output);\n                            std::cout &lt;&lt; &quot;Output from session &quot; &lt;&lt; activeSessionID &lt;&lt; &quot;:\\n&quot; &lt;&lt; output &lt;&lt; std::endl;\n                        } catch (const std::exception&amp; e) {\n                            std::cerr &lt;&lt; &quot;Error in session &quot; &lt;&lt; activeSessionID &lt;&lt; &quot;: &quot; &lt;&lt; e.what() &lt;&lt; std::endl;\n                            networkHandler.SendResult(&quot;Error: &quot; + std::string(e.what()));\n                        }\n                    } else {\n                        networkHandler.SendResult(&quot;Active session not found.&quot;);\n                    }\n                }\n            } catch (const std::exception&amp; e) {\n                std::cerr &lt;&lt; &quot;Error: &quot; &lt;&lt; e.what() &lt;&lt; std::endl;\n                // Не завершаем работу клиента, а продолжаем цикл\n                continue;\n            }\n        }\n    }\n};\n\nint main() {\n    // Set up signal handler for graceful shutdown\n    std::signal(SIGINT, signalHandler);\n\n    try {\n        Client client(&quot;192.168.12.34&quot;, 12345); // Replace with server's IP address\n        client.Run();\n    } catch (const std::exception&amp; e) {\n        std::cerr &lt;&lt; &quot;Fatal error: &quot; &lt;&lt; e.what() &lt;&lt; std::endl;\n        return 1;\n    }\n\n    std::cout &lt;&lt; &quot;Connection closed.&quot; &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n<p>i added more debugs in code to the localisate the problem</p>\n<p>Server code</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;list&gt;\n#include &lt;vector&gt;\n#include &lt;winsock2.h&gt;\n#include &lt;windows.h&gt;\n#include &lt;ws2tcpip.h&gt;\n#include &lt;thread&gt;\n#include &lt;atomic&gt;\n#include &lt;mutex&gt;\n#include &lt;unordered_map&gt;\n#pragma comment(lib, &quot;ws2_32.lib&quot;)\n\nstd::mutex clientsMutex; // Мьютекс для синхронизации доступа к списку клиентов\n\nclass ClientHandler {\npublic:\n    SOCKET socket;\n    int clientID;\n    std::atomic&lt;bool&gt; running;\n\n    ClientHandler(SOCKET sock, int id) : socket(sock), clientID(id), running(true) {}\n\n    // Удаляем конструктор копирования и оператор присваивания\n    ClientHandler(const ClientHandler&amp;) = delete;\n    ClientHandler&amp; operator=(const ClientHandler&amp;) = delete;\n\n    void SendCommand(const std::string&amp; command) {\n        if (send(socket, command.c_str(), static_cast&lt;int&gt;(command.size()), 0) == SOCKET_ERROR) {\n            std::cerr &lt;&lt; &quot;Error: Failed to send command to ClientID: &quot; &lt;&lt; clientID &lt;&lt; std::endl;\n            running = false;\n        }\n    }\n\n    std::string ReceiveResult() {\n        // Сначала получаем длину сообщения\n        uint32_t messageLength;\n        int bytesReceived = recv(socket, reinterpret_cast&lt;char*&gt;(&amp;messageLength), sizeof(messageLength), 0);\n        if (bytesReceived &lt;= 0) {\n            running = false;\n            return &quot;&quot;;\n        }\n\n        // Преобразуем длину сообщения из сетевого порядка байт в хостовый\n        messageLength = ntohl(messageLength);\n\n        // Получаем само сообщение\n        std::string result;\n        result.resize(messageLength);\n        char* buffer = &amp;result[0];\n        int totalReceived = 0;\n\n        while (totalReceived &lt; static_cast&lt;int&gt;(messageLength)) {\n            bytesReceived = recv(socket, buffer + totalReceived, static_cast&lt;int&gt;(messageLength - totalReceived), 0);\n            if (bytesReceived &lt;= 0) {\n                running = false;\n                return &quot;&quot;;\n            }\n            totalReceived += bytesReceived;\n        }\n\n        return result;\n    }\n};\n\nclass Server {\nprivate:\n    std::list&lt;ClientHandler&gt; clients; // Список клиентов\n    std::vector&lt;std::thread&gt; clientThreads; // Потоки для обработки клиентов\n    std::unordered_map&lt;int, int&gt; activeSessions; // Активные сессии (clientID -&gt; sessionID)\n    std::mutex sessionsMutex; // Мьютекс для синхронизации доступа к активным сессиям\n    std::atomic&lt;bool&gt; running;\n    int activeClientID = -1; // ID активного клиента\n\n    void HandleClient(ClientHandler&amp; client) {\n        while (client.running) {\n            std::string result = client.ReceiveResult();\n            if (!result.empty()) {\n                std::cout &lt;&lt; &quot;Result from ClientID &quot; &lt;&lt; client.clientID &lt;&lt; &quot;:\\n&quot; &lt;&lt; result &lt;&lt; std::endl;\n            }\n            else {\n                std::cerr &lt;&lt; &quot;ClientID &quot; &lt;&lt; client.clientID &lt;&lt; &quot; disconnected.&quot; &lt;&lt; std::endl;\n                break;\n            }\n        }\n\n        // Удаляем клиента из списка\n        std::lock_guard&lt;std::mutex&gt; lock(clientsMutex);\n        clients.remove_if([&amp;client](const ClientHandler&amp; c) { return c.clientID == client.clientID; });\n    }\n\npublic:\n    Server() : running(true) {}\n\n    void Run() {\n        WSADATA wsaData;\n        if (WSAStartup(MAKEWORD(2, 2), &amp;wsaData) != 0) {\n            std::cerr &lt;&lt; &quot;WSAStartup failed.&quot; &lt;&lt; std::endl;\n            return;\n        }\n\n        SOCKET serverSocket = socket(AF_INET, SOCK_STREAM, 0);\n        if (serverSocket == INVALID_SOCKET) {\n            std::cerr &lt;&lt; &quot;Socket creation failed.&quot; &lt;&lt; std::endl;\n            WSACleanup();\n            return;\n        }\n\n        sockaddr_in serverAddr;\n        serverAddr.sin_family = AF_INET;\n        serverAddr.sin_addr.s_addr = INADDR_ANY;\n        serverAddr.sin_port = htons(12345);\n\n        if (bind(serverSocket, (sockaddr*)&amp;serverAddr, sizeof(serverAddr)) == SOCKET_ERROR) {\n            std::cerr &lt;&lt; &quot;Bind failed.&quot; &lt;&lt; std::endl;\n            closesocket(serverSocket);\n            WSACleanup();\n            return;\n        }\n\n        if (listen(serverSocket, SOMAXCONN) == SOCKET_ERROR) {\n            std::cerr &lt;&lt; &quot;Listen failed.&quot; &lt;&lt; std::endl;\n            closesocket(serverSocket);\n            WSACleanup();\n            return;\n        }\n\n        std::cout &lt;&lt; &quot;Server is running. Waiting for clients...&quot; &lt;&lt; std::endl;\n\n        while (running) {\n            SOCKET clientSocket = accept(serverSocket, NULL, NULL);\n            if (clientSocket == INVALID_SOCKET) {\n                std::cerr &lt;&lt; &quot;Accept failed.&quot; &lt;&lt; std::endl;\n                continue;\n            }\n\n            std::lock_guard&lt;std::mutex&gt; lock(clientsMutex);\n            int clientID = clients.size() + 1;\n            clients.emplace_back(clientSocket, clientID);\n            clientThreads.emplace_back(&amp;Server::HandleClient, this, std::ref(clients.back()));\n            std::cout &lt;&lt; &quot;Client connected. ClientID: &quot; &lt;&lt; clientID &lt;&lt; std::endl;\n        }\n\n        closesocket(serverSocket);\n        WSACleanup();\n    }\n\n    void HandleCommands() {\n        std::string command;\n        while (true) {\n            std::cout &lt;&lt; &quot;Enter command: &quot;;\n            std::getline(std::cin, command);\n\n            if (command.substr(0, 6) == &quot;change&quot;) {\n                // Выбор активного клиента\n                int id = std::stoi(command.substr(7));\n                std::lock_guard&lt;std::mutex&gt; lock(clientsMutex);\n                auto it = std::find_if(clients.begin(), clients.end(), [id](const ClientHandler&amp; client) {\n                    return client.clientID == id;\n                    });\n\n                if (it != clients.end()) {\n                    activeClientID = id;\n                    std::cout &lt;&lt; &quot;Selected ClientID: &quot; &lt;&lt; id &lt;&lt; std::endl;\n                }\n                else {\n                    std::cout &lt;&lt; &quot;ClientID not found.&quot; &lt;&lt; std::endl;\n                }\n            }\n            else if (command == &quot;list&quot;) {\n                // Список подключенных клиентов\n                std::lock_guard&lt;std::mutex&gt; lock(clientsMutex);\n                std::cout &lt;&lt; &quot;Connected clients:&quot; &lt;&lt; std::endl;\n                for (const auto&amp; client : clients) {\n                    std::cout &lt;&lt; &quot;ClientID: &quot; &lt;&lt; client.clientID &lt;&lt; std::endl;\n                }\n            }\n            else if (command == &quot;exit&quot;) {\n                running = false;\n                break;\n            }\n            else {\n                // Отправка команды активному клиенту\n                if (activeClientID == -1) {\n                    std::cout &lt;&lt; &quot;No client selected. Use 'change &lt;client_id&gt;' to select a client.&quot; &lt;&lt; std::endl;\n                    continue;\n                }\n\n                std::lock_guard&lt;std::mutex&gt; lock(clientsMutex);\n                auto it = std::find_if(clients.begin(), clients.end(), [this](const ClientHandler&amp; client) {\n                    return client.clientID == activeClientID;\n                    });\n\n                if (it != clients.end()) {\n                    it-&gt;SendCommand(command);\n                }\n                else {\n                    std::cout &lt;&lt; &quot;Active client not found.&quot; &lt;&lt; std::endl;\n                }\n            }\n        }\n    }\n};\n\nint main() {\n    Server server;\n    std::thread serverThread([&amp;server]() { server.Run(); });\n    server.HandleCommands();\n\n    serverThread.join();\n    return 0;\n}\n</code></pre>\n"
    },
    {
        "tags": [
            ".htaccess",
            "http-redirect",
            "mod-rewrite",
            "reverse-proxy"
        ],
        "owner": {
            "account_id": 13973635,
            "reputation": 141,
            "user_id": 10091536,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/35812a688f301235fb6a219448af2fc8?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Graphic Detail",
            "link": "https://stackoverflow.com/users/10091536/graphic-detail"
        },
        "is_answered": false,
        "view_count": 38,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741821360,
        "creation_date": 1741815023,
        "last_edit_date": 1741821360,
        "question_id": 79504891,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504891/using-htaccess-to-mask-a-redirect-from-a-url-on-one-domain-to-a-url-on-another",
        "title": "Using .htaccess to mask a redirect from a URL on one domain to a URL on another domain",
        "body": "<p>On our server we have the domain, <code>feedback.meridian.co.nz</code>.\nThe domain, <code>surveys.consumerlink.co.nz</code>, is hosted on another server.</p>\n<p>We're trying to create an <code>.htaccess</code> file with rules which will redirect:</p>\n<pre><code>https://feedback.meridian.co.nz/scripts/dubinterviewer.dll/Frames?quest=1\n</code></pre>\n<p>to:</p>\n<pre><code>https://surveys.consumerlink.co.nz/scripts/dubinterviewer.dll/Frames?quest=1\n</code></pre>\n<p>but still display <code>https://feedback.meridian.co.nz/scripts/dubinterviewer.dll/Frames?quest=1</code> in the address bar (i.e., URL masking).</p>\n<p>From time to time the <code>quest</code> number may change, so it would be good if it could redirect</p>\n<pre><code>https://feedback.meridian.co.nz/scripts/dubinterviewer.dll/Frames?quest=\n</code></pre>\n<p>to</p>\n<pre><code>https://surveys.consumerlink.co.nz/scripts/dubinterviewer.dll/Frames?quest=\n</code></pre>\n<p>and preserve whatever number is included after <code>?quest=</code>.</p>\n<p>I tried asking Gemini AI how to do this.  I initially asked it just about redirecting the full URL and it suggested the following code:</p>\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} on\nRewriteRule ^scripts/dubinterviewer\\.dll/Frames\\?quest=1$ https://surveys.consumerlink.co.nz/scripts/dubinterviewer.dll/Frames?quest=1 [P,L]\n</code></pre>\n<p>I have spent a great amount of time Googling how to do masked redirects and I can also see that there are similar threads to this here in StackOverflow and the answers all point to the same kind of code as above, so looking at the above code, as far as I can tell, it SHOULD work!  But instead, if I try to go to <code>https://feedback.meridian.co.nz/scripts/dubinterviewer.dll/Frames?quest=1</code> I get a &quot;404&quot; error.</p>\n<p>I then asked Gemini AI about doing the redirect while preserving the whatever comes after the &quot;?quest=&quot; paramenter and it gave me this code:</p>\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteCond %{HTTP_HOST} ^feedback\\.meridian\\.co\\.nz$ [NC]\n    RewriteRule ^scripts/dubinterviewer\\.dll/Frames\\?quest=(.*)$ https://surveys.consumerlink.co.nz/scripts/dubinterviewer.dll/Frames?quest=$1 [P,L]\n&lt;/IfModule&gt;\n</code></pre>\n<p>However, this still results in a &quot;404&quot; error.</p>\n<p>I have also asked ChatCPG and it gave me this code:</p>\n<pre><code>RewriteEngine On\n\n# Enable URL masking (proxying the request)\nRewriteCond %{HTTP_HOST} ^feedback\\.meridian\\.co\\.nz$ [NC]\nRewriteCond %{REQUEST_URI} ^/scripts/dubinterviewer\\.dll/Frames$ [NC]\nRewriteCond %{QUERY_STRING} ^quest=(\\d+)$ [NC]\nRewriteRule ^scripts/dubinterviewer\\.dll/Frames$ https://surveys.consumerlink.co.nz/scripts/dubinterviewer.dll/Frames?quest=%1 [P,L]\n</code></pre>\n<p>Again, it really looks like it SHOULD work, however this one results in an &quot;Internal Server Error&quot;!</p>\n<p>For now, until I can get this resolved, I am using the code:</p>\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteRule (.*) https://surveys.consumerlink.co.nz/$1 [R=301,L]\n</code></pre>\n<p>This is making the redirect work just fine, but without the masking.</p>\n<p>Any ideas where I'm going wrong here?</p>\n"
    },
    {
        "tags": [
            "algorithm",
            "data-structures",
            "time-complexity",
            "theory"
        ],
        "owner": {
            "account_id": 6248289,
            "reputation": 45,
            "user_id": 4859340,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c6026e035f62ac6b9b953d09a56b8343?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Isak",
            "link": "https://stackoverflow.com/users/4859340/isak"
        },
        "is_answered": true,
        "view_count": 67,
        "accepted_answer_id": 79507391,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741939595,
        "creation_date": 1741815353,
        "last_edit_date": 1741939595,
        "question_id": 79504903,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504903/what-is-the-most-efficient-algorithm-for-merging-sorted-lists-with-a-carry-forwa",
        "title": "What is the most efficient algorithm for merging sorted lists with a carry-forward mechanism for missing keys?",
        "body": "<p>I'm working with multiple ordered lists, each containing tuples of the form <code>(key, value)</code>, where each list is sorted in ascending order by <code>key</code>. I want to merge these lists into a single ordered list that includes every distinct key from the input lists. The merged output should be a list of tuples in the form:</p>\n<pre><code>(key, value_from_list1, value_from_list2, ..., value_from_listK)\n</code></pre>\n<p>with the following behavior:</p>\n<ul>\n<li>For each key present in the union of all keys, the output tuple should contain the &quot;current&quot; value from each list.</li>\n<li>If an input list does not have an entry at that key, it should carry forward the most recent value from that list (i.e., use the value from the latest key less than or equal to the current key).</li>\n</ul>\n<p>Here is a complete and minimal example:\nGiven two lists:</p>\n<pre><code>A = [(1, a1), (2, a2), (10, a3)]\nB = [(1, b1), (8, b2), (10, b3)]\n</code></pre>\n<p>the desired output is:</p>\n<pre><code>C = [\n  (1, a1, b1),  // At key 1, both lists provide values.\n  (2, a2, b1),  // At key 2, list A updates to a2; list B still uses b1.\n  (8, a2, b2),  // At key 8, list B updates to b2; list A remains at a2.\n  (10, a3, b3)  // At key 10, both lists update.\n]\n</code></pre>\n<p>This merging behavior should extend to more than two lists as well (e.g., merging 5 lists into tuples with 6 elements, where the first element is the key).</p>\n<p>Yes, that's a clear and concise way to describe it. You can say:</p>\n<p>All input lists are assumed to contain the element <code>(0, null)</code>, but we omit this element (i.e. <code>(0, null, null, ..., null)</code>) from the final output. This ensures that, when merging, if a list doesn't have an entry for a given key, it carries forward the most recent value (initially <code>null</code>). For example, merging <code>A = [(1, a1)]</code> and <code>B = [(2, b1)]</code> yields <code>[(1, a1, null), (2, a1, b1)]</code>.</p>\n<p><strong>My Questions:</strong></p>\n<ol>\n<li><strong>Algorithm Efficiency:</strong> What is the most efficient algorithm for merging sorted lists with a carry-forward mechanism for missing keys?</li>\n</ol>\n<p>My current solution is using a sweeping line algorithm with multiple pointers—one for each list—to keep track of the most recent value as I iterate through the union of keys. If I am not mistaken, this runs in O(N log(N))</p>\n<h3>Edit 2025-03-13</h3>\n<h2>Pseudocode</h2>\n<p>I´ve created pseudocode based on the suggestion from user Smylic made in <a href=\"https://cs.stackexchange.com/questions/171486/efficiently-merging-sorted-key-value-lists\">this post</a>. As he says:</p>\n<blockquote>\n<p>If you need to output k\nvalues for every key, the most efficient algorithm takes Θ(k⋅u)\nof time, where u\nis the number of unique keys.</p>\n</blockquote>\n<pre><code>function mergeLists(lists):\n    k = number of lists\n    pointers = array of size k, all initialized to 0\n    lastValues = array of size k, initially set to None (or some default)\n    output = empty list\n\n    while true:\n        minKey = None\n\n        // Find the minimum key among the current pointers in all lists.\n        for i from 0 to k-1:\n            if pointers[i] &lt; length(lists[i]):\n                currentKey = lists[i][pointers[i]].key\n                if minKey is None or currentKey &lt; minKey:\n                    minKey = currentKey\n\n        // If no minimum key was found, all lists are exhausted.\n        if minKey is None:\n            break\n\n        // Update lastValues for each list that has the current minKey\n        for i from 0 to k-1:\n            if pointers[i] &lt; length(lists[i]) and lists[i][pointers[i]].key == minKey:\n                lastValues[i] = lists[i][pointers[i]].value\n                pointers[i] = pointers[i] + 1\n\n        // Append the merged tuple (minKey, lastValues[0], lastValues[1], ..., lastValues[k-1])\n        output.append( (minKey, lastValues[0], lastValues[1], ..., lastValues[k-1]) )\n\n    return output\n</code></pre>\n"
    },
    {
        "tags": [
            "haskell"
        ],
        "owner": {
            "account_id": 899912,
            "reputation": 30497,
            "user_id": 936310,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/3ad2beb9ceb41a5d1ec2f3be5c605ed9?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "alias",
            "link": "https://stackoverflow.com/users/936310/alias"
        },
        "is_answered": true,
        "view_count": 53,
        "accepted_answer_id": 79504974,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741817718,
        "creation_date": 1741816181,
        "question_id": 79504925,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504925/referring-to-unboxed-unit-tuple-type",
        "title": "Referring to unboxed unit tuple type",
        "body": "<p>For this program:</p>\n<pre class=\"lang-hs prettyprint-override\"><code>{-# LANGUAGE MagicHash             #-}\n{-# LANGUAGE TemplateHaskellQuotes #-}\n\nimport GHC.Prim\nimport Language.Haskell.TH\n\nts :: [Name]\nts = ['void#]\n</code></pre>\n<p>GHC 9.12.1 complains:</p>\n<pre class=\"lang-hs prettyprint-override\"><code>$ ghci -package ghc-prim -package template-haskell a.hs\nGHCi, version 9.12.1: https://www.haskell.org/ghc/  :? for help\n[1 of 2] Compiling Main             ( a.hs, interpreted )\na.hs:8:7: warning: [GHC-68441] [-Wdeprecations]\n    In the use of ‘void#’ (imported from GHC.Prim):\n    Deprecated: &quot; Use an unboxed unit tuple instead &quot;\n  |\n8 | ts = ['void#]\n  |       ^^^^^^\n\nOk, one module loaded.\n</code></pre>\n<p>How do I avoid this warning? I tried:</p>\n<pre class=\"lang-hs prettyprint-override\"><code>ts = ['(# #)]\n</code></pre>\n<p>but that results in:</p>\n<pre class=\"lang-hs prettyprint-override\"><code>*Main&gt; :r\n[1 of 2] Compiling Main             ( a.hs, interpreted ) [Source file changed]\na.hs:8:11: error: [GHC-58481]\n    parse error on input ‘#’\n  |\n8 | ts = ['(# #)]\n  |           ^\n\nFailed, no modules to be reloaded.\n</code></pre>\n<p>What's the proper syntax for indicating an unboxed unit tuple in GHC 9.12.1?</p>\n"
    },
    {
        "tags": [
            "google-cloud-dataflow",
            "apache-beam",
            "apache-beam-io"
        ],
        "owner": {
            "account_id": 5974726,
            "reputation": 2074,
            "user_id": 4696015,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/98215a297937166fa75eb94e07b03e97?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "chamikara",
            "link": "https://stackoverflow.com/users/4696015/chamikara"
        },
        "is_answered": true,
        "view_count": 26,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741816697,
        "creation_date": 1741816265,
        "question_id": 79504929,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79504929/what-s-the-difference-between-regular-apache-beam-connectors-and-managed-i-o",
        "title": "What’s the difference between regular Apache Beam connectors and Managed I/O?",
        "body": "<p>Apache Beam recently introduced Managed I/O APIs for <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/managed/Managed.html\" rel=\"nofollow noreferrer\">Java</a> and <a href=\"https://beam.apache.org/releases/pydoc/current/apache_beam.transforms.managed.html#module-apache_beam.transforms.managed\" rel=\"nofollow noreferrer\">Python</a>. What is the difference between Managed I/O and the regular Apache Beam connectors (sources and sinks) ?</p>\n"
    },
    {
        "tags": [
            "c++",
            "glsl",
            "hlsl",
            "spir-v",
            "shaderc"
        ],
        "owner": {
            "account_id": 196636,
            "reputation": 1051,
            "user_id": 440179,
            "user_type": "registered",
            "accept_rate": 71,
            "profile_image": "https://i.sstatic.net/1JZuG.png?s=256",
            "display_name": "Sarathi",
            "link": "https://stackoverflow.com/users/440179/sarathi"
        },
        "is_answered": false,
        "view_count": 38,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741821324,
        "creation_date": 1741819408,
        "last_edit_date": 1741821324,
        "question_id": 79505023,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505023/when-converting-hlsl-to-glsl-with-shaderc-and-spirv-cross-how-can-i-keep-in-out",
        "title": "When converting HLSL to GLSL with shaderc and SPIRV-Cross, how can I keep in/out variable names consistent?",
        "body": "<p>Here's my C++ code that converts HLSL to GLSL:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>const shaderc::Compiler scompiler;\n\nshaderc::CompileOptions soptions;\nsoptions.SetSourceLanguage(shaderc_source_language_hlsl);\nsoptions.SetOptimizationLevel(shaderc_optimization_level_performance);\nsoptions.SetIncluder(std::make_unique&lt;MyIncluder&gt;(includer));\nsoptions.SetAutoSampledTextures(true);\nsoptions.SetGenerateDebugInfo();\n\n\nconst shaderc::SpvCompilationResult vertex_result = scompiler.CompileGlslToSpv(\n        source, shaderc_vertex_shader, name, vert_entry, soptions);\n\n\nconst shaderc::SpvCompilationResult fragment_result = scompiler.CompileGlslToSpv(\n        source, shaderc_fragment_shader, name, frag_entry, soptions);\n\nconst std::vector spirv_vert(vertex_result.cbegin(), vertex_result.cend()),\nconst std::vector spirv_frag(fragment_result.cbegin(), fragment_result.cend()),\n\nspirv_cross::CompilerGLSL gcompiler(source);\n\nspirv_cross::CompilerGLSL::Options goptions;\ngoptions.version = 330;\ngoptions.enable_row_major_load_workaround = false;\ngoptions.emit_uniform_buffer_as_plain_uniforms = true;\ngcompiler.set_common_options(goptions);\n\nstd::cout &lt;&lt; gcompiler.compile();\n</code></pre>\n<p>Here's the input HLSL:</p>\n<pre class=\"lang-c prettyprint-override\"><code>struct VertexInput {\n    float4 position : POSITION;\n    float2 texcoord : TEXCOORD0;\n};\n\nstruct VertexOutput {\n    float4 position : SV_POSITION;\n    float2 texcoord : TEXCOORD0;\n};\n\nTexture2D mainTexture;\nSamplerState mainTextureSampler;\n\nVertexOutput vertShader(VertexInput input) {\n    VertexOutput output;\n    output.position = input.position;\n    output.texcoord = input.texcoord;\n    return output;\n};\n\nfloat4 fragShader(VertexOutput input) : SV_TARGET {\n    return mainTexture.Sample(mainTextureSampler, input.texcoord);\n};\n</code></pre>\n<p>This gives me the following vertex and fragment shader output in GLSL:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#version 330\n#ifdef GL_ARB_shading_language_420pack\n#extension GL_ARB_shading_language_420pack : require\n#endif\n\nlayout(location = 0) in vec4 input_position;\nlayout(location = 1) in vec2 input_texcoord;\nout vec2 _entryPointOutput_texcoord;\n\nvoid main()\n{\n    gl_Position = input_position;\n    _entryPointOutput_texcoord = input_texcoord;\n}\n</code></pre>\n<pre class=\"lang-c prettyprint-override\"><code>#version 330\n#ifdef GL_ARB_shading_language_420pack\n#extension GL_ARB_shading_language_420pack : require\n#endif\n\nlayout(binding = 0) uniform sampler2D mainTexture;\n\nin vec2 input_texcoord;\nlayout(location = 0) out vec4 _entryPointOutput;\n\nvoid main()\n{\n    _entryPointOutput = texture(mainTexture, input_texcoord);\n}\n</code></pre>\n<p>When compiling these shaders using OpenGL, it complains that <code>input_texcoord</code> is not set in the fragment shader. This is because the output variable from the vertex shader <code>_entryPointOutput_texcoord</code> has a different name.</p>\n<p>How can I get shaderc/SPIRV-Cross to keep the in/out names consistent between the vertex and fragment shaders?</p>\n"
    },
    {
        "tags": [
            "r",
            "regex",
            "dataframe"
        ],
        "owner": {
            "account_id": 4648046,
            "reputation": 363,
            "user_id": 9046069,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/833ce62faa4551800f67d2941ec041cb?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Olivier7121",
            "link": "https://stackoverflow.com/users/9046069/olivier7121"
        },
        "is_answered": true,
        "view_count": 90,
        "accepted_answer_id": 79505341,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1741863783,
        "creation_date": 1741822196,
        "last_edit_date": 1741863783,
        "question_id": 79505083,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505083/extract-displayed-text-from-an-hyperlink-string-stored-in-a-data-frame",
        "title": "Extract displayed text from an hyperlink string stored in a data frame",
        "body": "<p>I'm getting crazy with a (apparently) very simple problem.</p>\n<p>I stored in a data frame Excel formulas as strings. Some of these strings are hyperlinks. From these hyperlink formulas, I want to extract only the displayed text and modify in place the cell of the data frame accordingly.</p>\n<ul>\n<li><p>For columns whose first row contains a string with an hyperlink formula, it works for the whole column.</p>\n</li>\n<li><p>For columns whose first row doesn't contain a string with an hyperlink formula, it doesn't work for the whole column.</p>\n</li>\n</ul>\n<p>Here is a reprex:</p>\n<pre><code>DF &lt;- data.frame(\n  x = c('HYPERLINK(&quot;[Individual files/NetworkData4MassiveExport_Individual_1.xlsx]1_2016_Nodes!A3&quot;, &quot;\\'Nodes\\' tab&quot;)', 'NA()'),\n  y = c('NA()', 'HYPERLINK(&quot;[Individual files/NetworkData4MassiveExport_Individual_2.xlsx]2_2019_Nodes!A3&quot;, 1)'))\nDF\n\nDF[] &lt;- lapply(DF, function(x)\n  ifelse(substr(x, 1, 9) == 'HYPERLINK', trimws(gsub('[\\&quot;)]', '', unlist(strsplit(x, ','))[2])), gsub('&quot;', '', x)))\nDF\n</code></pre>\n"
    },
    {
        "tags": [
            "google-sheets",
            "google-sheets-formula",
            "cartesian-product",
            "cross-join"
        ],
        "owner": {
            "account_id": 7179833,
            "reputation": 130,
            "user_id": 12934001,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/da6f63e1a1a5b8e02ee7da0bb5e72243?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Simon Garcia",
            "link": "https://stackoverflow.com/users/12934001/simon-garcia"
        },
        "is_answered": true,
        "view_count": 75,
        "accepted_answer_id": 79505103,
        "answer_count": 3,
        "score": 2,
        "last_activity_date": 1741928746,
        "creation_date": 1741822238,
        "last_edit_date": 1741878160,
        "question_id": 79505084,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505084/how-do-i-cross-join-two-multi-column-tables-in-google-sheets-without-string-h",
        "title": "How do I cross join two, multi-column tables in Google Sheets — without string hacking or Apps Script?",
        "body": "<p><em>(I will post my own answer, but I want to pose the question for the sake of others in a similar situation; and to encourage alternative answers.)</em></p>\n<p>Sometimes I have two tables and I need to cross join them, i.e., generate the combinations of each row of the first table with each row of the second table. For example, suppose I have one table of chefs and the dishes they plated for a competition, and a table of evaluators and the attributes that each specializes on. (I'll specify them as formulas for easy pasting into Google Sheets.)</p>\n<pre><code>table1 = {\n  { &quot;Albion&quot;    , &quot;Artichoke Soufflé Omelett&quot; };\n  { &quot;Burgess&quot;   , &quot;Lemony Braised Chicken&quot; };\n  { &quot;Hamad&quot;     , &quot;Mabo Dofu Smoothie&quot; };\n  { &quot;Berengari&quot; , &quot;Chicken-Fried Plantains&quot; };\n  { &quot;Sengupta&quot;  , &quot;Smoky Vegan Corn Salad&quot; }\n}\n\ntable2 = {\n  { &quot;Cho&quot;       , &quot;flavor&quot; };\n  { &quot;Nikkelson&quot; , &quot;texture&quot; };\n  { &quot;Rodríguez&quot; , &quot;process&quot; }\n}\n</code></pre>\n<p>Then the cross join of these two tables has 15 rows beginning with:</p>\n<pre><code>output = {\n  { &quot;Albion&quot;    , &quot;Artichoke Soufflé Omelett&quot; , &quot;Cho&quot;       , &quot;flavor&quot; }\n  { &quot;Albion&quot;    , &quot;Artichoke Soufflé Omelett&quot; , &quot;Nikkelson&quot; , &quot;texture&quot; }\n  { &quot;Albion&quot;    , &quot;Artichoke Soufflé Omelett&quot; , &quot;Rodríguez&quot; , &quot;process&quot; }\n  { &quot;Burgess&quot;   , &quot;Lemony Braised Chicken&quot;    , &quot;Cho&quot;       , &quot;flavor&quot; }\n  { &quot;Burgess&quot;   , &quot;Lemony Braised Chicken&quot;    , &quot;Nikkelson&quot; , &quot;texture&quot; }\n  { &quot;Burgess&quot;   , &quot;Lemony Braised Chicken&quot;    , &quot;Rodríguez&quot; , &quot;process&quot; }\n  ...\n}\n</code></pre>\n<p>I am looking for a formula or Named Function to do this — not Google Apps Script. In addition, I want to avoid &quot;string-hacking&quot; methods in which you serialize arrays into strings with weird delimiters, then do text manipulation and concatenation that generates the desired structure, and finally deserialize into the reshaped array. As <a href=\"https://stackoverflow.com/users/13045193/doubleunary\">doubleunary</a> pointed out in <a href=\"https://stackoverflow.com/a/76126924\">their answer</a> to <a href=\"https://stackoverflow.com/questions/42805885/generate-all-possible-combinations-for-columnscross-join-or-cartesian-product\">a similar question</a>, such methods have side effects when they convert numeric types to strings. Personally I found they can have unpredictable behavior if any of the data contain certain emoji. I also find them difficult to troubleshoot and maintain.</p>\n<p>My question is similar to the three below, but they were only about cross joining <em>single-column</em> tables.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/42805885/generate-all-possible-combinations-for-columnscross-join-or-cartesian-product\">Generate all possible combinations for Columns(cross join or Cartesian product)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/70440464/how-to-cross-join-2-lists\">How to cross join 2 lists?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65766369/google-sheets-cross-join-cartesian-join-from-two-separate-columns\">Google sheets - cross join / cartesian join from two separate columns</a></li>\n</ul>\n<p>There is a previous question that doesn't ask about multi-column tables explicitly, but includes one in its sample data; but the OP of the question allowed Apps Script:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/65556675/how-to-perform-cartesian-join-with-google-scripts-google-sheets\">How to perform Cartesian Join with Google Scripts &amp; Google Sheets?</a></li>\n</ul>\n<p>This question <em>might</em> be similar, but I can't tell because the OP did not include sample data in the question and the linked spreadsheet no longer exists.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/60572866/google-sheets-cross-join-function-tables-with-more-than-two-columns\">Google Sheets Cross Join Function Tables with More than Two Columns</a></li>\n</ul>\n"
    },
    {
        "tags": [
            "c++",
            "visual-studio-code",
            "debugging",
            "gdb",
            "breakpoints"
        ],
        "owner": {
            "account_id": 3683983,
            "reputation": 23,
            "user_id": 3068188,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/XsJQ9.jpg?s=256",
            "display_name": "kinglouie",
            "link": "https://stackoverflow.com/users/3068188/kinglouie"
        },
        "is_answered": true,
        "view_count": 47,
        "accepted_answer_id": 79506386,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741866990,
        "creation_date": 1741824402,
        "question_id": 79505123,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505123/vscode-debugger-c-not-working-red-dot-turning-to-grey-cirle",
        "title": "VSCode Debugger - C++ - Not working. Red dot turning to grey cirle",
        "body": "<p>Hey does anyone have a fix for the VSCode gdb debugger running inside of the IDE at some point won't observe breakpoints and the red dots turn to little grey circles.</p>\n<p>It might be good information that I've had this happen whether the program is a git repo program, a clone or stand-alone.  Just at some point the breakpoints stop working almost as thought there comes to be some kind of disconnect between the files that are .cpp and .o and .exe or something.  Like some symbol table or something gets out of validity or something.</p>\n<p>I've tried cloning directories and I've tried making new directories.  I've tried cloning and pushing into brand new repos and I've tried cutting all ties with other programs and git and just using a tar ball without any git stuff in it to reproduce that program and either immediately or eventually my breakpoints lately will stop working in the way described, with the little grey circle.</p>\n<p>Here's my tasks.json and launch.json:</p>\n<pre><code>{\n    &quot;version&quot;: &quot;2.0.0&quot;,\n    &quot;tasks&quot;: [\n        {\n            &quot;label&quot;: &quot;g++ build active file&quot;,\n            &quot;type&quot;: &quot;shell&quot;,\n            &quot;command&quot;: &quot;/usr/bin/g++&quot;,\n            &quot;args&quot;: [\n                &quot;-g&quot;,\n                &quot;${workspaceFolder}/src/main.cpp&quot;,\n                &quot;${workspaceFolder}/src/Cmd.cpp&quot;,\n                &quot;${workspaceFolder}/src/Command.cpp&quot;,\n                &quot;${workspaceFolder}/src/EthernetFrame.cpp&quot;,\n                &quot;${workspaceFolder}/src/RxObserver.cpp&quot;,\n                &quot;${workspaceFolder}/src/COM.cpp&quot;,\n                &quot;-o&quot;,\n                &quot;${workspaceFolder}/cmd&quot;,\n                &quot;-I${workspaceFolder}/include&quot;,\n                &quot;-I/usr/include/jsoncpp&quot;,   // Corrected JSON include path\n                &quot;-L/usr/lib&quot;,               // Add this if needed\n                &quot;-lnet&quot;,\n                &quot;-lpcap&quot;,\n                &quot;-lpthread&quot;,\n                &quot;-ljsoncpp&quot;\n            ],\n            &quot;group&quot;: {\n                &quot;kind&quot;: &quot;build&quot;,\n                &quot;isDefault&quot;: true\n            },\n            &quot;problemMatcher&quot;: [&quot;$gcc&quot;],\n            &quot;detail&quot;: &quot;Generated task to build the project&quot;\n        }\n    ]\n}\n</code></pre>\n<pre><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;name&quot;: &quot;Debug (g++ - Build and Debug active file)&quot;,\n            &quot;type&quot;: &quot;cppdbg&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;program&quot;: &quot;${workspaceFolder}/cmd&quot;,\n            &quot;args&quot;: [],\n            &quot;stopAtEntry&quot;: false,\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\n            &quot;environment&quot;: [],\n            &quot;externalConsole&quot;: false,  // Use the integrated terminal instead of an external console\n            &quot;MIMode&quot;: &quot;gdb&quot;,\n            &quot;setupCommands&quot;: [\n                {\n                    &quot;description&quot;: &quot;Enable pretty-printing for gdb&quot;,\n                    &quot;text&quot;: &quot;-enable-pretty-printing&quot;,\n                    &quot;ignoreFailures&quot;: true\n                }\n            ],\n            &quot;miDebuggerPath&quot;: &quot;/usr/bin/gdb&quot;,\n            &quot;preLaunchTask&quot;: &quot;g++ build active file&quot;,\n            &quot;serverLaunchTimeout&quot;: 10000,\n            &quot;filterStdout&quot;: true,\n            &quot;filterStderr&quot;: true,\n            &quot;sourceFileMap&quot;: {\n                &quot;/usr/local/cmd/src&quot;: &quot;${workspaceFolder}/src&quot;,\n                &quot;/usr/local/cmd/include&quot;: &quot;${workspaceFolder}/include&quot;\n            }\n        }\n    ]\n}\n</code></pre>\n"
    },
    {
        "tags": [
            "java",
            "c",
            "go",
            "java-native-interface",
            "jna"
        ],
        "owner": {
            "account_id": 8495965,
            "reputation": 345,
            "user_id": 6370552,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/efe20dbf579ea9856f22fd83d289ebad?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "scottstots",
            "link": "https://stackoverflow.com/users/6370552/scottstots"
        },
        "is_answered": false,
        "view_count": 54,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741825524,
        "creation_date": 1741825524,
        "question_id": 79505152,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505152/unsatisfiedlinkerror-for-go-native-method-with-custom-java-return-type",
        "title": "UnsatisfiedLinkError for Go native method with custom Java return type",
        "body": "<p>I have a Go method that returns 2 byte arrays and 2 strings defined as:</p>\n<pre><code>// export GetDetails\nfunc GetDetails() (unsafe.Pointer, unsafe.Pointer, *C.char, *C.char) {\n    ...\n    return C.CBytes(arr1), C.CBytes(arr2), C.CString(str1), C.CString(error)\n}\n</code></pre>\n<p>I compile it into <code>libmydetails.so</code> and call this using Java code defined as:</p>\n<pre><code>public class MyLib {\n    static {\n        try {\n            System.loadLibrary(&quot;mydetails&quot;);\n        } catch (Exception e) {\n            ...\n        }\n    }\n    public native GoResult GetDetails();\n}\n\npublic class GoResult extends Structure implements Structure.ByValue {\n    public GoResult() {\n    }\n    public Pointer p1;\n    public Pointer p2;\n    public String str;\n    public String error;\n\n    protected List&lt;String&gt; getFieldOrder() {\n        return Arrays.asList(&quot;p1&quot;, &quot;p2&quot;, &quot;str&quot;, &quot;error&quot;);\n    }\n}\n</code></pre>\n<p>This is called by an action class as:</p>\n<pre><code>public class Action {\n     MyLib INSTANCE = new MyLib();\n     GoResult result = INSTANCE.GetDetails();\n}\n</code></pre>\n<p>On executing this, <code>libmydetails.so</code> is successfully loaded, but I get this error while triggering the native method: <code>java.lang.UnsatisfiedLinkError: '&lt;pkg&gt;.GoResult &lt;pkg&gt;.MyLib.GetDetails()</code>. It looks like it's not able to map <code>GoResult</code> to <code>(unsafe.Pointer, unsafe.Pointer, *C.char, *C.char)</code> but I'm not sure what would be the best way to fix it.</p>\n<p>When I try loading the library using Library interface instead:</p>\n<pre><code>public interface MyLib extends Library {\n    MyLib INSTANCE = Native.load(&quot;mydetails&quot;, MyLib.class);\n    \n    GoResult GetDetails();\n}\n</code></pre>\n<p>I'm able to run <code>GetDetails()</code> locally but my service requires the library to be loaded at Runtime so only <code>System.loadLibrary(&quot;mydetails&quot;)</code> works while running it through the service.</p>\n"
    },
    {
        "tags": [
            "c++",
            "oop",
            "vector",
            "segmentation-fault",
            "fatal-error"
        ],
        "owner": {
            "account_id": 29193898,
            "reputation": 41,
            "user_id": 22365456,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtfGcW3gv58NFvILUoIPwezsk9Bm_y1ABK8z_mLm7wOC=k-s256",
            "display_name": "Egor Egor",
            "link": "https://stackoverflow.com/users/22365456/egor-egor"
        },
        "is_answered": false,
        "view_count": 48,
        "closed_date": 1741869137,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741826277,
        "creation_date": 1741826277,
        "question_id": 79505168,
        "link": "https://stackoverflow.com/questions/79505168/segmentation-fault-in-vm-management-c-program",
        "closed_reason": "Not suitable for this site",
        "title": "Segmentation Fault in VM management C++ program",
        "body": "<p>I write program which manage virtual machines between hosts. I have an information about CPU and RAM that VM needs and RAM+CPU information about host. I can add VM to host, replace some VR with the one I need to place or deny VM placing. So, when I tried to test my program with VM that can be placed with &quot;add&quot; method it was good, but when my program try to execute &quot;replace&quot; method it stops the program with &quot;Segmentation Fault&quot;. I seek what calls this problem - with some reason when I check vMachines.size() in the beggining of &quot;replace&quot; method it gives me back a very large number. I also checked if this big size was appears in other function, but it didn't. So I don't know what to do. I will be very thankful if you can answer me why I get that large num in iteration where VM can't be just added and needs to be replace.\nI also sorry about my code-style. It should have been just prototype and I didn't think about how readable it)':</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nenum class Params{error, success, move};\n\nclass Logs\n{\npublic:\n    Logs() = default;\n    ~Logs() = default;\n    void add(std::string msg, int param)\n    {\n        switch (param){\n            case static_cast&lt;int&gt;(Params::error):\n                addParam = &quot;\\x1b[31;1m&quot;;\n                break;\n            case static_cast&lt;int&gt;(Params::success):\n                addParam = &quot;\\x1b[32;1m&quot;;\n                break;\n            case static_cast&lt;int&gt;(Params::move):\n                addParam = &quot;\\x1b[33;1m&quot;;\n                break;\n            default:\n                addParam = &quot;&quot;;\n            }\n\n        logList.push_back(addParam + msg + addParam + &quot;\\n&quot;);\n    }\n\n    void check()\n    {\n        if(logList.empty())\n        {\n            std::cout &lt;&lt; &quot;\\n\\nLOGLIST IS EMPTY!!!\\n\\n&quot;;\n        }\n        else\n        {\n            for(auto i : logList)\n            {\n                std::cout &lt;&lt; i;\n            }\n            logList.clear();\n        }\n        \n    }\nprivate:\n    std::vector&lt;std::string&gt; logList;\n    std::string addParam;\n};\n\nclass VM\n{\npublic:\n    VM(int inp_cpu_v, int inp_ram_v, std::string inp_name_v)\n    {\n        RAM_V = inp_ram_v;\n        CPU_V = inp_cpu_v;\n        name = inp_name_v;\n\n    }\n    ~VM() = default;\n    int RAM_V {};\n    int CPU_V {};\n    std::string name {&quot;&quot;};\n};\n\nclass Hosts\n{\npublic:\n    Hosts(int inp_cpu_h, int inp_ram_h, std::string name)\n    {\n        RAM_H = inp_ram_h;\n        CPU_H = inp_cpu_h;\n        RAM_curr = inp_ram_h;\n        CPU_curr = inp_cpu_h;\n        hostName = name;\n    }\n    ~Hosts() = default;\n    bool add(VM vrM)\n    {\n        std::cout &lt;&lt; &quot;\\n\\nvMachines size: &quot; &lt;&lt; vMachines.size() &lt;&lt; &quot;\\n\\n&quot;;\n        if(checkFree())\n        {\n            log1.add(&quot;Here's some space! Check if it's enough...&quot;, 1);\n            if(checkEnough(vrM.RAM_V, vrM.CPU_V))\n            {\n                log1.add(&quot;Enough space! Adding...&quot;, 1);\n                vMachines.push_back(vrM);\n\n                RAM_curr -= vrM.RAM_V;\n                CPU_curr -= vrM.CPU_V;\n                return true;\n            }\n            else \n            {\n                log1.add(&quot;Not enough space! Check if some VM can be replaced&quot;, 0);\n                return false;\n            }\n        }\n        else\n        {\n            log1.add(&quot;Here isn't any space!&quot;, 0);\n            return false;\n        }\n    }\n\n    bool checkFree()\n    {\n        if(RAM_curr &gt; 0 &amp;&amp; CPU_curr &gt; 0) return true;\n        else return false;\n    }\n\n    bool checkEnough(int ram, int cpu)\n    {\n        if(RAM_curr &gt;= ram &amp;&amp; CPU_curr &gt;= cpu) return true;\n        else return false;\n    }\n\n    void log_check()\n    {\n        log1.check();\n    }\n\n    bool replace(VM vm_to_replace, std::vector&lt;Hosts&gt; avaibleHosts)\n    {\n        //PROBLEM HERE. vMachines.size() is too big\n        std::cout &lt;&lt; &quot;\\n\\nvMachines size: &quot; &lt;&lt; vMachines.size() &lt;&lt; &quot;\\n\\n&quot;;\n        // log1.add(&quot;Tring to replace some VM with &quot; + vm_to_replace.name, 2);\n\n        if(vMachines.empty() &amp;&amp; vMachines.size() == 1)\n        {\n            log1.add(&quot;Failure! There're no VM to swap with... &quot;, 0);\n            return false;\n        }\n        else\n        {\n            std::vector&lt;VM&gt; max {};\n            for(int i = 0; i &lt; (vMachines.size()-1); i++)\n            {\n                if(vMachines[i].CPU_V &lt; vMachines[i+1].CPU_V)\n                {\n                    max.push_back(vMachines[i]);\n                    vMachines[i] = vMachines[i+1];\n                    vMachines[i+1] = max.back();\n                    max.clear();\n                }\n            }\n            std::cout &lt;&lt; &quot;\\n\\nTEST SORT OF vMACHINES ON &quot; &lt;&lt; hostName &lt;&lt; &quot;: \\n&quot;;\n            for(int j = 0; j &lt; vMachines.size(); j++)\n            {\n                std::cout &lt;&lt; vMachines[j].CPU_V &lt;&lt; &quot; &quot;;\n            }\n            return true;\n        }\n            return true;\n    }\n\n\n// private:\n    int RAM_H {};\n    int CPU_H {};\n    int RAM_curr {};\n    int CPU_curr {};\n    std::vector&lt;VM&gt; vMachines {};\n    Logs log1;\n    std::string hostName {};\n};\n\n\nint main()\n{\n    std::vector &lt;Hosts&gt; hostList {};\n    std::vector &lt;VM&gt; vmList {};\n    Hosts host1(32, 16, &quot;host1&quot;); //CPU, RAM\n    Hosts host2(32, 16, &quot;host2&quot;);\n    hostList.push_back(host1);\n    hostList.push_back(host2);\n    VM vm1(2, 2, &quot;vm1&quot;); //CPU, RAM\n    VM vm2(2, 2, &quot;vm2&quot;);\n    VM vm3(30, 2, &quot;vm3&quot;);\n    VM vm4(2, 2, &quot;vm4&quot;);\n    vmList.push_back(vm1);\n    vmList.push_back(vm2);\n    vmList.push_back(vm3);\n    vmList.push_back(vm4);\n\n    for(int i = 0; i &lt; vmList.size(); i++)\n    {\n        std::cout &lt;&lt; &quot;\\x1b[37;0mTry to set &quot; &lt;&lt; vmList[i].name &lt;&lt; &quot; to... &quot;;\n        for(int j = 0; j &lt; hostList.size(); j++)\n        {\n            std::cout &lt;&lt; &quot;\\x1b[37;0mhost #\\x1b[37;0m&quot; &lt;&lt; j + 1 &lt;&lt; &quot;...\\n&quot;;\n            if(hostList[j].add(vmList[i])) \n            {\n                hostList[j].log_check();\n                break;\n            }\n            else \n            {\n                if(hostList[i].replace(vmList[i], hostList))\n                {\n                    hostList[j].log_check();\n                    break;\n                }\n                else\n                {\n                    hostList[j].log_check();\n                    continue;\n                }\n                \n            }\n        }\n    }\n\n    std::cout &lt;&lt; &quot;\\nHost resources: \\n&quot;;\n\n    for(int k = 0; k &lt; hostList.size(); k++)\n    {\n        std::cout &lt;&lt; &quot;Host #&quot; &lt;&lt; k + 1 &lt;&lt; &quot;\\nCPU: &quot; &lt;&lt; hostList[k].CPU_curr &lt;&lt; &quot;\\nRAM: &quot; &lt;&lt; hostList[k].RAM_curr;\n        std::cout &lt;&lt; &quot;\\nvMachines: \\n&quot;;\n        for(int e = 0; e &lt; hostList[k].vMachines.size(); e++)\n        {\n            std::cout &lt;&lt; e + 1 &lt;&lt; &quot;) &quot; &lt;&lt; hostList[k].vMachines[e].name &lt;&lt; &quot;\\n&quot;;\n        }\n\n        std::cout &lt;&lt; &quot;\\n\\n&quot;;\n    }\n\n\n    return 0;\n}\n</code></pre>\n"
    },
    {
        "tags": [
            "vhdl",
            "fpga",
            "cpu-registers"
        ],
        "owner": {
            "account_id": 11175285,
            "reputation": 421,
            "user_id": 8201071,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/f892c321ce27bc8ed9375fd982fe295c?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "IDontKnowWhatToPutAsMyUsername",
            "link": "https://stackoverflow.com/users/8201071/idontknowwhattoputasmyusername"
        },
        "is_answered": true,
        "view_count": 59,
        "closed_date": 1741873443,
        "accepted_answer_id": 79505782,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741853646,
        "creation_date": 1741840491,
        "question_id": 79505428,
        "link": "https://stackoverflow.com/questions/79505428/is-it-okay-to-use-level-triggered-registers-on-an-fpga",
        "closed_reason": "Opinion-based",
        "title": "Is it okay to use level-triggered registers on an FPGA?",
        "body": "<p>I'm trying to make a single-cycle processor and I was planning on doing something like the following:</p>\n<ul>\n<li>Clock rising edge: Opcode is latched onto output of block memory (this must be on a rising edge), PC is incremented</li>\n<li>Clock level high: Decode signals are generated, registers are read, the ALU does its computation</li>\n<li>Clock falling edge: ALU output is stored into a register, PC gets updated if there's a jump</li>\n<li>Clock level low: Block memory starts reading the next opcode</li>\n</ul>\n<p>I recently learned from <a href=\"https://stackoverflow.com/questions/19942067/writing-a-register-file-in-vhdl\">this question</a> that it's not recommended to use <code>falling_edge</code>. The solution there was to move writes to the rising edge, but I don't think that work for me. Would it be a bad idea to move everything from &quot;clock falling edge&quot; to &quot;clock level low&quot;? Instead of</p>\n<pre><code>process (CLK)\nbegin\n    if falling_edge(CLK) then\n        reg &lt;= inputData;\n    end if;\nend process;\n</code></pre>\n<p>I would do</p>\n<pre><code>process (CLK)\nbegin\n    if CLK = '0' then\n        reg &lt;= inputData;\n    end if;\nend process;\n</code></pre>\n"
    },
    {
        "tags": [
            "flutter",
            "fl-chart"
        ],
        "owner": {
            "account_id": 21764282,
            "reputation": 141,
            "user_id": 17280787,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/bfMjH.jpg?s=256",
            "display_name": "Arshpreet Singh",
            "link": "https://stackoverflow.com/users/17280787/arshpreet-singh"
        },
        "is_answered": false,
        "view_count": 21,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741849777,
        "creation_date": 1741849226,
        "last_edit_date": 1741849777,
        "question_id": 79505638,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505638/prevent-multiple-touch-points-in-fl-chart-line-chart",
        "title": "Prevent multiple touch points in fl_chart line chart?",
        "body": "<p><a href=\"https://i.sstatic.net/AJCJxMD8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/AJCJxMD8.png\" alt=\"problem\" /></a></p>\n<p>I am currently using fl_chart library to build this chart in flutter and have multiple lines joined together.</p>\n<p>When I try to touch on the graph to see the tooltip, I sometimes get multiple touch points as shown by multiple vertical lines in the picture shared but I don't want that, I want only one point to have this vertical line.</p>\n<pre class=\"lang-none prettyprint-override\"><code>LineChart(\n...\nlineTouchData: LineTouchData(\n     touchSpotThreshold: 1,\n     )\n)\n</code></pre>\n<p>Is this the correct way to do this? If not then how to fix this? Thanks for any help in advance</p>\n"
    },
    {
        "tags": [
            "mariadb",
            "spring-integration",
            "database-performance",
            "spring-jdbc",
            "leader-election"
        ],
        "owner": {
            "account_id": 28247326,
            "reputation": 21,
            "user_id": 29968520,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/0e178a026002714aad2a85d045a9f9d5?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "mangiari",
            "link": "https://stackoverflow.com/users/29968520/mangiari"
        },
        "is_answered": true,
        "view_count": 21,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741886743,
        "creation_date": 1741849735,
        "question_id": 79505652,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505652/wondering-why-spring-leader-election-with-jdbclockrepository-is-constantly-tryin",
        "title": "Wondering why spring leader election with JDBCLockRepository is constantly trying to insert into DB",
        "body": "<p>Some year ago, we switched from some self built leader election mechanism to spring integration leader election, both on MariaDB clusters, relying on duplicate key violation. We switched to spring integration, as we were sometimes facing dead locks when the MariaDB clusters were synchronizing (rough generalizing here).</p>\n<p>Back when we switched, we assumed that spring leader election is only writing the lock with the current timestamp to the INT_LOCK table from the leader node, while all others seemed to just read from the table, to know whether a new leader is needed (timestamp expired in case current leader node died).</p>\n<p>But with the latest update, suddenly there is a duplicate key violation logged and analyzing the implementation, we found out that in fact every node is trying to insert the same line all the time. The code can be found in <a href=\"https://github.com/spring-projects/spring-integration/blob/48bb0d6c457467d0cde513f76de91e646c4f10c6/spring-integration-jdbc/src/main/java/org/springframework/integration/jdbc/lock/DefaultLockRepository.java#L408\" rel=\"nofollow noreferrer\">DefaultLockRegistry.aquire(String)</a> implementation:</p>\n<pre><code>            if (this.template.update(this.updateQuery, new Object[]{this.id, epochMillis(), this.region, lock, this.id, this.ttlEpochMillis()}) &gt; 0) {\n                return true;\n            } else {\n                try {\n                    return this.template.update(this.insertQuery, new Object[]{this.region, lock, this.id, epochMillis()}) &gt; 0;\n                } catch (DataIntegrityViolationException var4) {\n                    return false;\n                }\n            }\n</code></pre>\n<p>while the first &quot;updateQuery&quot; has a where condition, that is only met for the leader node, the &quot;insertQuery&quot; in fact is trying to insert a row which is of course clashing all the time, as the row with the same primary keys is already there.\nSo the catch block is executed on all non-leader nodes constantly.</p>\n<p>Does somebody know the reasoning? Is inserting and failing faster than just reading?</p>\n<p>I just stumbled across the duplicate key warnings in the logs. Of course I can easily silence them, but I also like to understand as much as possible of what I do. Actually the code is doing what it is supposed to, but I wonder whether it's doing so in the best way, or at least I want to understand.</p>\n<p>I found similar discussion <a href=\"https://github.com/spring-projects/spring-integration/issues/3866\" rel=\"nofollow noreferrer\">here in github</a>, where the idea is to just set a custom insertStatement in case bored with the warnings.</p>\n"
    },
    {
        "tags": [
            "python",
            "python-typing",
            "python-dataclasses"
        ],
        "owner": {
            "account_id": 2815151,
            "reputation": 486,
            "user_id": 2420452,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/54276a9e8428fd91d5b43437c8a362ee?s=256&d=identicon&r=PG",
            "display_name": "Jan Šimbera",
            "link": "https://stackoverflow.com/users/2420452/jan-%c5%a0imbera"
        },
        "is_answered": true,
        "view_count": 64,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741894709,
        "creation_date": 1741855161,
        "last_edit_date": 1741858403,
        "question_id": 79505837,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505837/how-to-make-an-easily-instantiable-derivative-attribute-only-protocol-class",
        "title": "How to make an easily instantiable derivative attribute-only protocol class?",
        "body": "<p>I have a <code>Protocol</code> subclass that defines objects with attributes from an external library:</p>\n<pre><code>class P(Protocol):\n    val: int\n</code></pre>\n<p>For testing purposes, I want to turn this protocol class into something I can instantiate easily. However, when I try to turn it into a dataclass, an error pops up:</p>\n<pre><code>import dataclasses\nfrom typing import Protocol\n\nclass P(Protocol):\n    val: int\n\nPInst = dataclasses.dataclass(P)\n\nPInst(val=4)  # TypeError: Protocols cannot be instantiated\n</code></pre>\n<p>Is there an easy solution to use <code>P</code> to create a class that satifies its protocol and is instantiable, without redeclaring its attributes?</p>\n"
    },
    {
        "tags": [
            "excel",
            "csv",
            "go",
            "formatting"
        ],
        "owner": {
            "account_id": 4395000,
            "reputation": 129,
            "user_id": 12715592,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/e706d4957383c6c1b43b0a518acfca27?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user275472",
            "link": "https://stackoverflow.com/users/12715592/user275472"
        },
        "is_answered": false,
        "view_count": 62,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741867059,
        "creation_date": 1741855851,
        "last_edit_date": 1741867059,
        "question_id": 79505861,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505861/handling-semicolons-in-csv-to-prevent-splitting-across-cells-in-go",
        "title": "Handling Semicolons in CSV to Prevent Splitting Across Cells in Go",
        "body": "<p>I am generating a CSV file in a Go HTTP handler and sending it as a response. Some of my text fields contain semicolons (<code>;</code>), which causes issues when opening the file in applications like Excel. The data is getting split into multiple cells instead of appearing in a single cell.</p>\n<p>For example, in my case:</p>\n<ul>\n<li>The <code>name</code> field contains <code>google;gmail</code></li>\n<li>The <code>URL</code> field contains <code>https://www.goo;gle.com/</code></li>\n</ul>\n<p>Here’s my current Go code:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>func routeReferencesCrossrefDownloadPost(w http.ResponseWriter, r *http.Request) {\n    var req DownloadRequest\n    if err := json.NewDecoder(r.Body).Decode(&amp;req); err != nil {\n        fmt.Println(&quot;JSON Decode Error:&quot;, err)\n        http.Error(w, &quot;Invalid request&quot;, http.StatusBadRequest)\n        return\n    }\n\n    w.Header().Set(&quot;Content-Type&quot;, &quot;text/csv&quot;)\n    w.Header().Set(&quot;Content-Disposition&quot;, `attachment; filename=&quot;search_items.csv&quot;`)\n\n    writer := csv.NewWriter(w)\n    defer writer.Flush()\n\n    writer.Write([]string{&quot;#&quot;, &quot;Name&quot;, &quot;URL&quot;})\n\n    name := &quot;google;gmail&quot;\n    URL := &quot;https://www.goo;gle.com/&quot;\n    for i := 0; i &lt; 5; i++ {\n        writer.Write([]string{\n            fmt.Sprintf(&quot;%d&quot;, i+1),\n            name,\n            URL,\n        })\n    }\n}\n</code></pre>\n<p>The semicolon in <code>name</code> and <code>URL</code> is causing the text to split across multiple cells instead of staying within one. I would prefer not to change any CSV settings in system. If I wrap values in double quotes (<code>&quot;</code>), I should not see them explicitly in the CSV file when opened.</p>\n<p>How can I ensure that values containing semicolons remain in the same cell without requiring the user to modify any settings in their CSV viewer?</p>\n"
    },
    {
        "tags": [
            "xml",
            "database",
            "bash",
            "shell",
            "csv"
        ],
        "owner": {
            "account_id": 40814883,
            "reputation": 41,
            "user_id": 29969775,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/8MujwUgT.jpg?s=256",
            "display_name": "Velvet",
            "link": "https://stackoverflow.com/users/29969775/velvet"
        },
        "is_answered": true,
        "view_count": 114,
        "accepted_answer_id": 79506250,
        "answer_count": 4,
        "score": 2,
        "last_activity_date": 1741961438,
        "creation_date": 1741857109,
        "question_id": 79505924,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505924/bash-script-to-convert-xml-to-csv-not-fully-dynamic-and-outputs-empty-content",
        "title": "Bash Script to Convert XML to CSV Not Fully Dynamic and Outputs Empty Content",
        "body": "<p>I have a Bash script that is supposed to convert an XML file into CSV format. However, the script is not fully universal, and when I check the content of the output file, it appears to be empty.</p>\n<h3>Expected Output</h3>\n<p>The script should generate two CSV files (<code>faculty.csv</code> and <code>students.csv</code>) with the following headers and values:</p>\n<p><strong>faculty.csv:</strong></p>\n<pre><code>name,building,room,capacity\n&quot;Faculty of Art&quot;,&quot;B59&quot;,&quot;R1000&quot;,&quot;240&quot;\n&quot;Faculty of Art&quot;,&quot;B59&quot;,&quot;R1001&quot;,&quot;360&quot;\n&quot;Faculty of Art&quot;,&quot;B59&quot;,&quot;R1002&quot;,&quot;210&quot;\n...\n</code></pre>\n<p><strong>students.csv:</strong></p>\n<pre><code>student_name,student_id,student_email,programme,year,address,contact,module_id,module_name,module_leader,lecturer1,lecturer2,name,building,room,exam_mark,coursework1,coursework2,coursework3\n&quot;Michael Jennings&quot;,&quot;273644&quot;,&quot;MJ1Y24@UoNEHT.ac.uk&quot;,&quot;Fine Art&quot;,&quot;4&quot;,&quot;08832 Kim Groves Suite 335 North Mathewview, RI 43333&quot;,&quot;3976680297&quot;,&quot;FINE4401&quot;,&quot;Theoretical Sketching&quot;,&quot;Maria Tyler&quot;,&quot;&quot;,&quot;&quot;,&quot;Faculty of Art&quot;,&quot;B81&quot;,&quot;R1002&quot;,&quot;&quot;,&quot;33&quot;,&quot;7&quot;,&quot;26&quot;\n...\n</code></pre>\n<h3>The Script</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Check for input file\nif [[ -z &quot;$1&quot; ]]; then\n    echo &quot;Usage: $0 &lt;input.xml&gt; [output.csv]&quot;\n    exit 1\nfi\n\ninput_xml=&quot;$1&quot;\noutput_csv=&quot;${2:-${input_xml%.xml}.csv}&quot;\n\n# Extract unique tags (excluding XML declaration and root tags)\ntags=$(grep -oP '&lt;\\K[^/&gt;]+(?=&gt;[^&lt;]+&lt;/[^&gt;]+&gt;)' &quot;$input_xml&quot; | grep -vP '^(faculties|students|\\?xml)' | sort | uniq | tr '\\n' ',' | sed 's/,$//')\n\n# Create CSV header\necho &quot;$tags&quot; &gt; &quot;$output_csv&quot;\n\n# Process data records\nawk -v tags=&quot;$tags&quot; '\n    BEGIN {\n        FS=&quot;[&lt;&gt;]&quot;\n        OFS=&quot;,&quot;\n        split(tags, header, /,/)\n        gsub(/ /, &quot;&quot;, header[1])  # Remove any accidental spaces\n    }\n    /&lt;faculty&gt;/,/&lt;\\/faculty&gt;/ || /&lt;student&gt;/,/&lt;\\/student&gt;/ {\n        if ($2 in header) values[$2] = $3\n        if ($0 ~ /&lt;\\/faculty&gt;|&lt;\\/student&gt;/) {\n            for (i=1; i&lt;=length(header); i++) {\n                printf &quot;%s%s&quot;, (header[i] in values ? values[header[i]] : &quot;&quot;), (i&lt;length(header) ? OFS : ORS)\n            }\n            delete values\n        }\n    }\n' &quot;$input_xml&quot; &gt;&gt; &quot;$output_csv&quot;\n\necho &quot;CSV generated: $output_csv&quot;\n</code></pre>\n<h3>XML File Structure</h3>\n<p><strong>faculty.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;faculties&gt;\n  &lt;faculty&gt;\n    &lt;faculty&gt;Faculty of Art&lt;/faculty&gt;\n    &lt;building&gt;B59&lt;/building&gt;\n    &lt;room&gt;R1000&lt;/room&gt;\n    &lt;capacity&gt;240&lt;/capacity&gt;\n  &lt;/faculty&gt;\n  ...\n&lt;/faculties&gt;\n</code></pre>\n<p><strong>students.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;students&gt;\n  &lt;student&gt;\n    &lt;student_name&gt;Michael Jennings&lt;/student_name&gt;\n    &lt;student_id&gt;273644&lt;/student_id&gt;\n    &lt;student_email&gt;MJ1Y24@UoNEHT.ac.uk&lt;/student_email&gt;\n    &lt;programme&gt;Fine Art&lt;/programme&gt;\n    &lt;year&gt;4&lt;/year&gt;\n    &lt;address&gt;08832 Kim Groves Suite 335 North Mathewview, RI 43333&lt;/address&gt;\n    &lt;contact&gt;3976680297&lt;/contact&gt;\n    &lt;module_id&gt;FINE4401&lt;/module_id&gt;\n    &lt;module_name&gt;Theoretical Sketching&lt;/module_name&gt;\n    &lt;module_leader&gt;Maria Tyler&lt;/module_leader&gt;\n    &lt;lecturer1/&gt;\n    &lt;lecturer2/&gt;\n    &lt;faculty&gt;Faculty of Art&lt;/faculty&gt;\n    &lt;building&gt;B81&lt;/building&gt;\n    &lt;room&gt;R1002&lt;/room&gt;\n    &lt;exam_mark/&gt;\n    &lt;coursework1&gt;33&lt;/coursework1&gt;\n    &lt;coursework2&gt;7&lt;/coursework2&gt;\n    &lt;coursework3&gt;26&lt;/coursework3&gt;\n  &lt;/student&gt;\n  ...\n&lt;/students&gt;\n</code></pre>\n<h3>Problem</h3>\n<ol>\n<li>The script is not fully dynamic. It should handle different XML structures without hardcoding tags.</li>\n<li>The output CSV files are empty or not in the expected format.</li>\n</ol>\n<h3>Additional Information</h3>\n<p>I am trying to avoid using external tools like <code>xmllint</code>. The script should ideally be universal, but a semi-generic solution would also be acceptable.</p>\n"
    },
    {
        "tags": [
            "c#",
            "linq-to-sql"
        ],
        "owner": {
            "account_id": 61199,
            "reputation": 8170,
            "user_id": 182542,
            "user_type": "registered",
            "accept_rate": 88,
            "profile_image": "https://www.gravatar.com/avatar/cd1954c9caf7ffc02ab18137967c4bc9?s=256&d=identicon&r=PG",
            "display_name": "AGuyCalledGerald",
            "link": "https://stackoverflow.com/users/182542/aguycalledgerald"
        },
        "is_answered": true,
        "view_count": 58,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741859885,
        "creation_date": 1741858619,
        "question_id": 79505987,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79505987/get-dates-exactly-2x-years-before-given-date",
        "title": "get dates exactly 2x years before given date",
        "body": "<p>Currently I fetch all customers that have registered exactly 2 years before a given date.</p>\n<pre><code>var observationPeriod = DateTime.Today;\nvar observedDate = observationPeriod.AddYears(-2);\n\nvar customers = unitOfWork.CustomerRepository\n                                .GetAll()\n                                .Where(o =&gt; o.RegistrationDate.Date == observedDate)\n                                .ToList();\n</code></pre>\n<p>But my requirement is to get all customers that registered 2x years before, e.g. 2, 4, 6, etc. years.\nIdeally, this should also be linq-to-sql compatible.\nWhat would you recommend?</p>\n"
    },
    {
        "tags": [
            "flutter",
            "firebase",
            "google-cloud-firestore",
            "firebase-storage"
        ],
        "owner": {
            "account_id": 20220873,
            "reputation": 167,
            "user_id": 14830371,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-qUv1diRpnlY/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmhnyzErJAMtzrwchmEAxS-gXyCtQ/s96-c/photo.jpg?sz=256",
            "display_name": "Anesu Mazvimavi",
            "link": "https://stackoverflow.com/users/14830371/anesu-mazvimavi"
        },
        "is_answered": false,
        "view_count": 54,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741958348,
        "creation_date": 1741860200,
        "last_edit_date": 1741871529,
        "question_id": 79506073,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506073/image-not-uploading-to-firebase-storage-plus-image-url-not-uploading-to-firestor",
        "title": "Image not uploading to Firebase Storage plus Image URL not uploading to Firestore",
        "body": "<p>I am building a Flutter app where there is a page for creating an account. When I click the button next it is supposed to call the createAccount method that will upload fields to Cloud Firestore. Currently all the fields are uploaded with the exception of the image URL and the image is not uploaded to FirebaseStorage. The imageURL uploads an empty string meaning the file image must be null. Does this mean there is an issue with the uploadProfilePicture method in my AuthRepository class?</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:iinhouse/core/utils/utils.dart';\nimport 'package:iinhouse/core/widgets/birthdate_picker.dart';\nimport 'package:iinhouse/core/widgets/gender_picker.dart';\nimport 'package:iinhouse/core/widgets/pick_image.dart';\nimport 'package:iinhouse/features/authentication/providers/auth_provider.dart';\nimport 'package:iinhouse/features/authentication/utils.dart';\nimport 'package:image_picker/image_picker.dart';\n\nclass CreateAccountPage extends ConsumerStatefulWidget {\n  const CreateAccountPage({super.key});\n\n  @override\n  ConsumerState&lt;CreateAccountPage&gt; createState() =&gt; _CreateAccountPageState();\n}\n\nclass _CreateAccountPageState extends ConsumerState&lt;CreateAccountPage&gt; {\n  late final TextEditingController _firstNameController;\n  late final TextEditingController _lastNameController;\n  late final TextEditingController _emailController;\n  late final TextEditingController _passwordController;\n  XFile? image;\n  DateTime? birthday;\n  String gender = 'male';\n  bool isLoading = false;\n\n  final _formKey = GlobalKey&lt;FormState&gt;();\n\n  @override\n  void initState() {\n    _firstNameController = TextEditingController();\n    _lastNameController = TextEditingController();\n    _emailController = TextEditingController();\n    _passwordController = TextEditingController();\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    _firstNameController.dispose();\n    _lastNameController.dispose();\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }\n\n  Future&lt;void&gt; createAccount() async {\n    if (_formKey.currentState!.validate()) {\n      setState(() {\n        isLoading = true;\n      });\n      _formKey.currentState!.save();\n      await ref\n          .read(authProvider)\n          .createAccount(\n              fullName:\n                  '${_firstNameController.text} ${_lastNameController.text}',\n              birthDate: birthday ?? DateTime.now(),\n              gender: gender,\n              email: _emailController.text,\n              password: _passwordController.text,\n              image: image)\n          .then((credential) {\n        if (!credential!.user!.emailVerified) {\n          Navigator.pushNamed(context, '/verify_email');\n        }\n      }).catchError((_) {\n        setState(() {\n          isLoading = false;\n        });\n      });\n      setState(() {\n        isLoading = false;\n      });\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.white,\n      appBar: AppBar(),\n      body: SingleChildScrollView(\n        child: Padding(\n          padding: const EdgeInsets.all(8.0),\n          child: Form(\n              key: _formKey,\n              child: Column(\n                children: [\n                  GestureDetector(\n                      onTap: () async {\n                        image = await pickImage();\n                        if (image != null) {\n                          print('Image picked: ${image!.path}');\n                        } else {\n                          print('Image picking cancelled');\n                        }\n                        setState(() {});\n                      },\n                      child: PickImageWidget(image: image)),\n                  Padding(\n                    padding: const EdgeInsets.all(8.0),\n                    child: TextFormField(\n                      controller: _firstNameController,\n                      validator: (value) =&gt;\n                          value!.isEmpty ? 'First name cannot be empty' : null,\n                      decoration: const InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        labelText: 'First Name',\n                        hintText: 'First Name',\n                        border: OutlineInputBorder(),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.all(8.0),\n                    child: TextFormField(\n                      controller: _lastNameController,\n                      validator: (value) =&gt;\n                          value!.isEmpty ? 'Location cannot be empty' : null,\n                      decoration: const InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        labelText: 'Last Name',\n                        hintText: 'Last Name',\n                        border: OutlineInputBorder(),\n                      ),\n                    ),\n                  ),\n                  SizedBox(\n                    height: 20,\n                  ),\n                  BirthdatePicker(\n                      dateTime: birthday ?? DateTime.now(),\n                      onPressed: () async {\n                        birthday = await pickSimpleDate(\n                            context: context, date: birthday);\n                        setState(() {});\n                      }),\n                  SizedBox(\n                    height: 20,\n                  ),\n                  GenderPicker(\n                      gender: gender,\n                      onChanged: (value) {\n                        gender = value ?? 'male';\n                        setState(() {});\n                      }),\n                  Padding(\n                    padding: const EdgeInsets.all(8.0),\n                    child: TextFormField(\n                      controller: _emailController,\n                      validator: (value) =&gt;\n                          value!.isEmpty ? 'Email cannot be empty' : null,\n                      decoration: const InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        labelText: 'Email',\n                        hintText: 'Email',\n                        border: OutlineInputBorder(),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.all(8.0),\n                    child: TextFormField(\n                      controller: _passwordController,\n                      validator: (value) =&gt;\n                          value!.isEmpty ? 'Password cannot be empty' : null,\n                      decoration: const InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        labelText: 'Password',\n                        hintText: 'Password',\n                        border: OutlineInputBorder(),\n                      ),\n                      obscureText: true,\n                    ),\n                  ),\n                  isLoading\n                      ? const Center(\n                          child: CircularProgressIndicator(),\n                        )\n                      : Padding(\n                          padding: const EdgeInsets.all(8.0),\n                          child: ElevatedButton(\n                            onPressed: createAccount,\n                            style: ElevatedButton.styleFrom(\n                              backgroundColor: Colors.black,\n                              fixedSize: const Size(350, 50),\n                              disabledForegroundColor:\n                                  Colors.black.withOpacity(0.38),\n                              disabledBackgroundColor:\n                                  Colors.black.withOpacity(0.12),\n                              shape: const RoundedRectangleBorder(\n                                borderRadius:\n                                    BorderRadius.all(Radius.circular(25.0)),\n                              ),\n                            ),\n                            child: const Text(\n                              'Next',\n                              style: TextStyle(color: Colors.white),\n                            ),\n                          ),\n                        ),\n                ],\n              )),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>AuthRepository:</p>\n<pre><code>import 'dart:io';\nimport 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:fluttertoast/fluttertoast.dart';\nimport 'package:iinhouse/core/constants/firebase_collection_names.dart';\nimport 'package:iinhouse/core/constants/storage_folder_names.dart';\nimport 'package:iinhouse/features/authentication/models/users.dart';\nimport 'package:firebase_storage/firebase_storage.dart' as firebase_storage;\n\n\n import 'package:image_picker/image_picker.dart';\n\nclass AuthRepository {\n  final _auth = FirebaseAuth.instance;\n  final _firestore = FirebaseFirestore.instance;\n\n  Future&lt;UserCredential?&gt; createAccount({\n    required String fullName,\n    required DateTime birthDate,\n    required String gender,\n    required String email,\n    required String password,\n    XFile? image, // Change parameter type to XFile?\n  }) async {\n    try {\n      final credential = await FirebaseAuth.instance\n          .createUserWithEmailAndPassword(email: email, password: password);\n\n      String? downloadUrl;\n      if (image != null) {\n        downloadUrl = await uploadProfilePicture(image);\n      }\n\n      UserModel user = UserModel(\n        fullName: fullName,\n        birthday: birthDate,\n        gender: gender,\n        email: email,\n        password: password,\n        profilePicUrl:\n            downloadUrl ?? &quot;&quot;, // Use downloadUrl, or empty string if null\n        uid: FirebaseAuth.instance.currentUser!.uid,\n        followers: [],\n        sentRequests: [],\n        receivedRequests: [],\n      );\n\n      await FirebaseFirestore.instance\n          .collection(FirebaseCollectionNames.users)\n          .doc(FirebaseAuth.instance.currentUser!.uid)\n          .set(user.toMap());\n\n      return credential;\n    } catch (e) {\n      Fluttertoast.showToast(msg: e.toString());\n      print(e.toString());\n      return null;\n    }\n  }\n\n  Future&lt;String?&gt; uploadProfilePicture(XFile? imageFile) async {\n    try {\n      User? user = FirebaseAuth.instance.currentUser;\n      if (user == null) {\n        print('User not authenticated.');\n        return null;\n      }\n\n      print(&quot;image path: ${imageFile!.path}&quot;);\n      firebase_storage.Reference storageRef = firebase_storage\n          .FirebaseStorage.instance\n          .ref(StorageFolderNames.profilePics)\n          .child(FirebaseAuth.instance.currentUser!.uid);\n\n      await storageRef.putFile(File(imageFile.path));\n      String downloadURL = await storageRef.getDownloadURL();\n      print('Image uploaded. Download URL: $downloadURL');\n      return downloadURL;\n    } catch (e) {\n      print('Error uploading image: $e');\n      return null;\n    }\n  }\n}\n</code></pre>\n<p>pickImage:</p>\n<pre><code>import 'dart:io';\nimport 'package:image_picker/image_picker.dart';\n\nFuture&lt;XFile?&gt; pickImage() async {\n  final picker = ImagePicker();\n  try {\n    final file = await picker.pickImage(\n        source: ImageSource.gallery, maxHeight: 720, maxWidth: 720);\n    return file;\n  } catch (e) {\n    print('Error picking image: $e');\n    return null;\n  }\n}\n</code></pre>\n<p>Code for the UserModel class:</p>\n<pre><code>  import 'package:flutter/material.dart';\n    import 'package:iinhouse/core/constants/firebase_field_names.dart';\n    \n@immutable\nclass UserModel {\n  final String fullName;\n  final DateTime birthday;\n  final String gender;\n  final String email;\n  final String password;\n  final String profilePicUrl;\n  final String uid;\n  final List&lt;String&gt; followers;\n  final List&lt;String&gt; sentRequests;\n  final List&lt;String&gt; receivedRequests;\n\n  UserModel(\n      {required this.fullName,\n      required this.birthday,\n      required this.gender,\n      required this.email,\n      required this.password,\n      required this.profilePicUrl,\n      required this.uid,\n      required this.followers,\n      required this.sentRequests,\n      required this.receivedRequests});\n\n  Map&lt;String, dynamic&gt; toMap() {\n    return &lt;String, dynamic&gt;{\n      FirebaseFieldNames.fullName: fullName,\n      FirebaseFieldNames.birthDay: birthday.millisecondsSinceEpoch,\n      FirebaseFieldNames.gender: gender,\n      FirebaseFieldNames.email: email,\n      FirebaseFieldNames.password: password,\n      FirebaseFieldNames.profilePicUrl: profilePicUrl,\n      FirebaseFieldNames.uid: uid,\n      FirebaseFieldNames.followers: followers,\n      FirebaseFieldNames.sentRequests: sentRequests,\n      FirebaseFieldNames.receivedRequests: receivedRequests,\n    };\n  }\n\n  factory UserModel.fromMap(Map&lt;String, dynamic&gt; map) {\n    return UserModel(\n      fullName: map[FirebaseFieldNames.fullName] as String,\n      birthday: DateTime.fromMillisecondsSinceEpoch(\n          map[FirebaseFieldNames.birthDay] as int),\n      gender: map[FirebaseFieldNames.gender] as String,\n      email: map[FirebaseFieldNames.email] as String,\n      password: map[FirebaseFieldNames.password] as String,\n      profilePicUrl: map[FirebaseFieldNames.profilePicUrl] as String,\n      uid: map[FirebaseFieldNames.uid] as String,\n      followers: List&lt;String&gt;.from((map[FirebaseFieldNames.followers] ?? [])),\n      sentRequests:\n          List&lt;String&gt;.from((map[FirebaseFieldNames.sentRequests] ?? [])),\n      receivedRequests:\n          List&lt;String&gt;.from((map[FirebaseFieldNames.receivedRequests] ?? [])),\n    );\n  }\n}\n//Code for the FirebaseFieldNames\nclass FirebaseFieldNames {\n  static const String fullName = 'full_name';\n  static const String birthDay = 'birth_day';\n  static const String gender = 'gender';\n  static const String email = 'email';\n  static const String password = 'password';\n  static const String followers = 'followers';\n  static const String sentRequests = 'sent_requests';\n  static const String receivedRequests = 'receivedRequests';\n  static const String uid = 'uid';\n  static const String datePublished = 'date_published';\n  static const String postId = 'post_id';\n  static const String posterId = 'poster_id';\n  static const String content = 'content';\n  static const String fileUrl = 'file_url';\n  static const String postType = 'post_type';\n  static const String likes = 'likes';\n  static const String profilePicUrl = 'profile_pic_url';\n  static const String createdAt = 'created_at';\n  static const String authorId = 'author_id';\n  static const String commentId = 'comment_id';\n  static const String text = 'text';\n\n  // story specific\n  static const String imageUrl = 'image_url';\n  static const String storyId = 'story_id';\n  static const String views = 'views';\n\n  // video related\n  static const String videoUrl = 'video_url';\n  static const String videoId = 'video_id';\n\n  // Chat Feature\n  static const members = 'members';\n  static const chatroomId = 'chatroom_id';\n  static const lastMessage = 'last_message';\n  static const lastMessageTs = 'last_message_ts';\n  static const message = 'message';\n  static const senderId = 'sender_id';\n  static const receiverId = 'receiver_id';\n  static const seen = 'seen';\n  static const timestamp = 'timestamp';\n  static const messageId = 'message_id';\n  static const messageType = 'message_type';\n\n  FirebaseFieldNames._();\n}\n</code></pre>\n"
    },
    {
        "tags": [
            "php",
            "codeigniter-3",
            "integration",
            "mpdf"
        ],
        "owner": {
            "account_id": 40816757,
            "reputation": 21,
            "user_id": 29971086,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/48834a141dea0fe6a8a241df963018b2?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "THUSHARA",
            "link": "https://stackoverflow.com/users/29971086/thushara"
        },
        "is_answered": false,
        "view_count": 27,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1742038073,
        "creation_date": 1741862609,
        "last_edit_date": 1741866471,
        "question_id": 79506196,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506196/mpdf-manual-integration-issue",
        "title": "mpdf manual integration issue",
        "body": "<p>I manually downloaded mpdf 8 files to the application\\third-party<br />\n..Also Psr\\log downloaded in application\\psr\\log .</p>\n<p>I modified the path in Mpdf.php and i got this.</p>\n<blockquote>\n<p>An uncaught Exception was encountered\nType: TypeError</p>\n<p>Message: Mpdf\\ServiceFactory::getServices(): Argument #2 ($logger)\nmust be of type psr\\log\\Psr\\Log\\LoggerInterface, Psr\\Log\\NullLogger\ngiven, called in\nD:\\wamp\\www\\test\\application\\third_party\\Mpdf\\Mpdf.php on line 1092</p>\n<p>Filename:\nD:\\wamp\\www\\test\\application\\third_party\\Mpdf\\ServiceFactory.php</p>\n<p>Line Number: 44</p>\n</blockquote>\n<p>Mpdf.php file\nportion i got error</p>\n<pre><code>$this-&gt;logger = new NullLogger();\n        \n$originalConfig = $config;\n$config = $this-&gt;initConfig($originalConfig);\n\n$serviceFactory = new ServiceFactory($container);\n$services = $serviceFactory-&gt;getServices(\n    $this,\n    $this-&gt;logger,\n    $config,\n    $this-&gt;languageToFont,\n    $this-&gt;scriptToLanguage,\n    $this-&gt;fontDescriptor,\n    $this-&gt;bmp,\n    $this-&gt;directWrite,\n    $this-&gt;wmf\n);\n</code></pre>\n<p>NullLogger.php</p>\n<pre><code>&lt;?php\n\nnamespace Psr\\Log;\n\n/**\n * This Logger can be used to avoid conditional log calls.\n *\n * Logging should always be optional, and if no logger is provided to your\n * library creating a NullLogger instance to have something to throw logs at\n * is a good way to avoid littering your code with `if ($this-&gt;logger) { }`\n * blocks.\n */\nrequire_once APPPATH . 'third_party/psr/log/src/Psr/Log/AbstractLogger.php';\nclass NullLogger extends AbstractLogger\n{\n    /**\n     * Logs with an arbitrary level.\n     *\n     * @param mixed[] $context\n     *\n     * @throws \\Psr\\Log\\InvalidArgumentException\n     */\n    public function log($level, string|\\Stringable $message, array $context = []): void\n    {\n        // noop\n    }\n}\n</code></pre>\n<p>Please help me to proceed. Currently I use mpdf 6. I want to upgrade this to php 8.</p>\n"
    },
    {
        "tags": [
            "postgresql",
            "pg-stat-statements"
        ],
        "owner": {
            "account_id": 7125787,
            "reputation": 889,
            "user_id": 5448746,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/CWhVU.jpg?s=256",
            "display_name": "Ondřej Stašek",
            "link": "https://stackoverflow.com/users/5448746/ond%c5%99ej-sta%c5%a1ek"
        },
        "is_answered": false,
        "view_count": 33,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741863074,
        "creation_date": 1741863074,
        "question_id": 79506219,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506219/any-way-to-find-out-default-schema-for-each-query-in-pg-stat-statements",
        "title": "Any way to find out default schema for each query in pg_stat_statements?",
        "body": "<p>We do have the same tables in different schemas (to differentiate customers), so is there a way how to distinguish the same SQL queries that differs only what default schema was set? Or log current default schema with SQL query somehow in <strong>pg_stat_statements</strong> table?</p>\n"
    },
    {
        "tags": [
            "java",
            "javafx",
            "charts"
        ],
        "owner": {
            "account_id": 31828370,
            "reputation": 21,
            "user_id": 24643048,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocIv6Bsr-bEGVx-6wywwzckj2IKsKSpDoUhS_mGrxvjFZuVrWAH3=k-s256",
            "display_name": " krendel",
            "link": "https://stackoverflow.com/users/24643048/krendel"
        },
        "is_answered": false,
        "view_count": 51,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741870880,
        "creation_date": 1741870880,
        "question_id": 79506535,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506535/dynamically-change-xaxis-in-linechart-javafx",
        "title": "dynamically change xAxis in LineChart JavaFX",
        "body": "<p>I'm trying to implement a chart in JavaFX. It should:</p>\n<ol>\n<li>Initially have a linear X axis,</li>\n<li>When a button is pressed, change the axis to a logarithmic X axis</li>\n</ol>\n<p>The problem is that LineChart does not have a setAxis method. Another problem is that my architecture is designed in such a way that I can't simply redraw the LineChart.</p>\n<p>I tried to simply recalculate the X-axis values. But in this case the ticks are positioned incorrectly and the chart collapses horizontally.</p>\n<p>Then I implemented my own LogarithmicAxis class, which inherits from ValueAxis&lt;Number&gt;. It works correctly, and if I create a lineChart like this:</p>\n<pre><code>NumberAxis yAxis = new NumberAxis();\nLogarithmicAxis xAxis = new LogarithmicAxis();\nLineChart&lt;Number, Number&gt; lineChart = new LineChart&lt;&gt;(xAxis, yAxis);\n</code></pre>\n<p>I get what I need.\nBut I can't change the axis dynamically</p>\n<p>My view code consists of methods like</p>\n<pre><code>public Region build() {\n\nGridPane gridPane = new GridPane();\n\nColumnConstraints col1 = new ColumnConstraints();\ngridPane.getColumnConstraints().addAll(col1);\ngridPane.add(createSettingsBox(), 0, 0, 0, 0);\n\nreturn gridPane;\n}\n</code></pre>\n<pre><code>private Node createSettingsBox() {\n    VBox settingsBox = new VBox(10);\n\n\n    settingsBox.getChildren().add(createButton());\n\n    return settingsBox;\n}\n</code></pre>\n<p>So I get the view. But how can I reach the chart and redraw it if it has a high nesting level?</p>\n"
    },
    {
        "tags": [
            "javascript",
            "performance",
            "default-arguments"
        ],
        "owner": {
            "account_id": 40817745,
            "reputation": 23,
            "user_id": 29971781,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/b4a09e2c178dabf456959e34eb34d888?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user29971781",
            "link": "https://stackoverflow.com/users/29971781/user29971781"
        },
        "is_answered": true,
        "view_count": 46,
        "accepted_answer_id": 79507188,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741943107,
        "creation_date": 1741875992,
        "last_edit_date": 1741896052,
        "question_id": 79506750,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506750/performance-implications-of-using-complex-objects-as-default-parameter",
        "title": "Performance implications of using complex objects as default parameter",
        "body": "<p><strong>EDIT</strong>: looks like I was incorrect about Python's issue - it's with <a href=\"https://labex.io/tutorials/python-how-to-manage-function-parameter-defaults-493648\" rel=\"nofollow noreferrer\">mutability, not performance</a></p>\n<p>Thank you for helping me correct my understanding of the problem. I'm leaving this up in case someone has a similar confusion. If you are looking for an overview of mutability in JS default parameters, <a href=\"https://stackoverflow.com/a/65941428/29971781\">this question</a> may be useful.</p>\n<p><strong>Original Question</strong>:</p>\n<p>I want to use a very complicated object as a default parameter. For example, in <code>prisma</code> ORM, you can wrap multiple db calls in a transaction:</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.prisma.$transaction(async (tx) =&gt; {\n  await tx.table1.create()\n  await tx.table2.create()\n}\n</code></pre>\n<p>These inner db calls can be complicated, so I may want helper functions for them. However, the helper functions can be called from many places and may or may not be used inside a transaction. To solve this, I optionally pass the transaction, and use it if it exists:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// My function with a complex default param\nasync createModelIfNotExists(name, color, prisma = this.prisma) {\n  return await prisma.upsert({...})\n}\n\n...\n\n// Call from within transaction, and use transaction's prisma client:\nthis.prisma.$transaction(async (tx) =&gt; {\n  this.createModelIfNotExists(&quot;new model 1&quot;, &quot;blue&quot;, tx)\n  ...\n})\n\n// Call on its own, and it will use the prisma object attached to &quot;this&quot;\nthis.createModelIfNotExists(&quot;new model 2&quot;, &quot;green&quot;)\n</code></pre>\n<p>Note that <code>tx</code> is a very large &amp; complex object. It manages the db connection and keeps track of all my models.</p>\n<p>My question is - is there a performance overhead to doing this? If I was writing Python, <em>there would be</em>, because Python tries to be smart &amp; initializes the default parameter even if you don't use the function. If I wrote it like Python, the function signature would look like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// The default param is now instantiated in the function\nasync createModelIfNotExists(name, color, prisma = null) {\n  prisma = prisma ?? this.prisma\n  return await prisma.upsert({...})\n}\n</code></pre>\n<p>I am concerned about the potential overhead of instantiating this object even when it's not used.</p>\n<p>I tried Googling this, but have only seen results for more basic JS objects that the programmer writes themselves.</p>\n<p>Alternatively, if you have suggestions on how to test the performance of this, I could do that instead.</p>\n"
    },
    {
        "tags": [
            "c",
            "visual-studio-code",
            "esp32",
            "freertos",
            "esp-idf"
        ],
        "owner": {
            "account_id": 39540147,
            "reputation": 35,
            "user_id": 29327678,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/720f5a30bf4b07f0c6ca5e7031126156?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "hdMK",
            "link": "https://stackoverflow.com/users/29327678/hdmk"
        },
        "is_answered": true,
        "view_count": 37,
        "accepted_answer_id": 79506915,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1741975114,
        "creation_date": 1741877003,
        "question_id": 79506795,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506795/esp32-freertos-stop-scheduler-at-beginning-of-main-then-init-tasks-and-restart",
        "title": "ESP32/FreeRTOS stop scheduler at beginning of main - then init tasks and restart scheduler",
        "body": "<p>I am working on a project using the ESP32 in combination with VS Code and the ESP IDF.\nSoftware is basically working. From some other standard ARM 32 bit controllers I have usually a sequence in the main routine to init all the needed peripherals and modules and then start the normal operation in the while(1) loop.</p>\n<p>In my init sequence on the ESP32 I have several tasks that are created during the init.\nNow I notized that those tasks that I add during the init run inbetween of my init sequence.\nActually I don't understand why the scheduler is started before calling the main function. Makes no sense on first view.\nI would suspect the sequence to be:</p>\n<ul>\n<li>execute main function</li>\n<li>do all the inits that are needed, create the tasks that are needed</li>\n<li>start the scheduling (device is then in normal operation)</li>\n</ul>\n<p>How would I do that on the esp32 platform?</p>\n<p>Kind regards,\nMarkus</p>\n"
    },
    {
        "tags": [
            "excel",
            "grouping",
            "openpyxl"
        ],
        "owner": {
            "account_id": 12244978,
            "reputation": 35,
            "user_id": 8936879,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-kTOnT1zAtzo/AAAAAAAAAAI/AAAAAAAAAU4/3mxG9xFdzSM/photo.jpg?sz=256",
            "display_name": "Rajagopal Polisetti",
            "link": "https://stackoverflow.com/users/8936879/rajagopal-polisetti"
        },
        "is_answered": true,
        "view_count": 24,
        "accepted_answer_id": 79508636,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741958164,
        "creation_date": 1741878978,
        "question_id": 79506883,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506883/openpyxl-column-grouping-outline-level-not-working-retaining-only-last-on",
        "title": "openpyxl: (column) grouping - outline level not working &amp; retaining only last one",
        "body": "<p>I am trying to group columns at multiple levels and in this process only the last outline level is retained, though the outline number area in spreadhseet shows all outlines. I referred to this <a href=\"https://stackoverflow.com/questions/77111066/outer-group-removes-multiple-inner-groups\">past post</a> and it worked initially and it stopped working for the below code:</p>\n<p>Here is my code:</p>\n<pre><code>from openpyxl.utils.cell import get_column_letter\n\ndef group_xlsx(output_worksheet):\n\n    start_row=1 #start row\n    start_column=2 #start column\n    total_columns=48 #total columns\n    columns_number=3 #columns in each group\n    \n    #outer group\n    first_column=get_column_letter(start_column)\n    last_column=get_column_letter(total_columns+2)\n    output_worksheet.column_dimensions.group(first_column,last_column,hidden=True,outline_level=1)\n    \n    print('Outer group columns are {} &amp; {}'.format(first_column,last_column))\n\n    #inner group\n    for index in range(start_column,total_columns+1,columns_number+1):\n        first_column=get_column_letter(index)\n        last_column=get_column_letter(index+2)\n        output_worksheet.column_dimensions.group(first_column,last_column,hidden=True,outline_level=2)\n\n    print('Last inner group columns are {} &amp; {}'.format(first_column,last_column))\n\n    return\n</code></pre>\n<p>This is how it looks in spreadheet</p>\n<p><a href=\"https://i.sstatic.net/7omooVxe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/7omooVxe.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure where it is going wrong. Any suggestions are greatly appreciated.</p>\n"
    },
    {
        "tags": [
            "python",
            "python-asyncio"
        ],
        "owner": {
            "account_id": 19793585,
            "reputation": 177,
            "user_id": 14496048,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/V0hScWRt.jpg?s=256",
            "display_name": "codeing_monkey",
            "link": "https://stackoverflow.com/users/14496048/codeing-monkey"
        },
        "is_answered": false,
        "view_count": 24,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741880974,
        "creation_date": 1741880661,
        "last_edit_date": 1741880974,
        "question_id": 79506947,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79506947/unclosed-file-warning-using-asyncio-python",
        "title": "Unclosed file warning using asyncio Python",
        "body": "<p>I'm building a Python service to process audio files (MP3/MP4) by splitting them into chunks and transcribing them asynchronously using a REST API. While the code works, I'm getting numerous <code>ResourceWarnings</code> about unclosed files:</p>\n<pre><code>CopyResourceWarning: unclosed file &lt;_io.BufferedRandom name='/var/folders/vw/k_0mpg690rg44m0mw3vj9l2c0000gp/T/tmpoico59vl.mp3'&gt;\nhandle = None\nResourceWarning: Enable tracemalloc to get the object allocation traceback\n</code></pre>\n<p>My code is processing multiple audio chunks in parallel, and despite explicitly closing and unlinking temporary files, I still see these warnings appearing in my logs.\nHere's the relevant code:</p>\n<pre><code>import logging\nimport aiohttp\nimport asyncio\nimport json\nimport os\nimport tempfile\nimport sys\nimport subprocess\n\nfrom pydub import AudioSegment\n\nlogger = logging.getLogger(__name__)\n\nMODEL_ENDPOINT = (\n    &quot;http://example&quot;\n)\nMODEL_NAME = &quot;example&quot;\n\n\ndef load_audio_file(file_path):\n    &quot;&quot;&quot;Load audio file from disk.&quot;&quot;&quot;\n    logger.info(f&quot;Loading audio file from {file_path}&quot;)\n\n    file_extension = os.path.splitext(file_path)[1][1:].lower()\n    if file_extension == 'mp3':\n        audio = AudioSegment.from_mp3(file_path)\n    elif file_extension == 'mp4':\n        temp_mp3 = tempfile.NamedTemporaryFile(delete=False, suffix='.mp3')\n        temp_mp3.close()\n\n        try:\n            cmd = [\n                'ffmpeg', '-i', file_path,\n                '-vn',\n                '-ar', '44100',\n                '-ac', '2',\n                '-b:a', '192k',\n                '-f', 'mp3',\n                '-y',\n                temp_mp3.name\n            ]\n            logger.info(f&quot;MP4 file detected, converting to mp3&quot;)\n            subprocess.run(\n                cmd, check=True, stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)\n\n            audio = AudioSegment.from_mp3(temp_mp3.name)\n        finally:\n            if os.path.exists(temp_mp3.name):\n                os.unlink(temp_mp3.name)\n    else:\n        raise Exception(&quot;Only mp3 and mp4 files supported&quot;)\n\n    logger.info(f&quot;Loaded audio file: {len(audio)}ms duration&quot;)\n    return audio\n\n\ndef split_audio(audio, chunk_duration_ms=29000):\n    chunks = []\n    total_duration_ms = len(audio)\n\n    overlap_ms = 500\n\n    for start_ms in range(0, total_duration_ms, chunk_duration_ms - overlap_ms):\n        end_ms = min(start_ms + chunk_duration_ms, total_duration_ms)\n        chunk = audio[start_ms:end_ms]\n        chunks.append(chunk)\n\n    logger.info(f&quot;Split audio into {len(chunks)} chunks&quot;)\n    return chunks\n\n\nasync def export_audio_chunk(chunk, chunk_index):\n    temp_file = tempfile.NamedTemporaryFile(delete=False, suffix='.mp3')\n    temp_file.close()\n    \n    # run the export in a thread to avoid blocking the event loop\n    await asyncio.to_thread(chunk.export, temp_file.name, format=&quot;mp3&quot;)\n    \n    def read_file(filename):\n        with open(filename, 'rb') as f:\n            return f.read()\n        \n    audio_data = await asyncio.to_thread(read_file, temp_file.name)\n    await asyncio.to_thread(os.unlink, temp_file.name)\n    \n    return audio_data\n\n\nasync def transcribe_chunk_async(session, chunk, chunk_index, api_url):\n    try:\n        logger.info(f&quot;Preparing chunk {chunk_index+1} for API...&quot;)\n        audio_data = await export_audio_chunk(chunk, chunk_index)\n        \n        form_data = aiohttp.FormData()\n        form_data.add_field('file', audio_data,\n                            filename=f'chunk_{chunk_index}.mp3',\n                            content_type='audio/mpeg')\n        form_data.add_field('model', MODEL_NAME)\n        form_data.add_field('response_format', 'json')\n        form_data.add_field('temperature', '0.0')\n\n        logger.info(\n            f&quot;Sending chunk {chunk_index+1} ({len(audio_data)/1024:.1f} KB) to API...&quot;)\n\n        async with session.post(f&quot;{api_url}/audio/transcriptions&quot;, data=form_data) as response:\n            if response.status != 200:\n                logger.error(\n                    f&quot;Error for chunk {chunk_index+1}: HTTP {response.status}&quot;)\n                text = await response.text()\n                logger.error(f&quot;Response: {text[:500]}&quot;)\n                return chunk_index, None\n\n            try:\n                result = await response.json()\n                if 'text' in result:\n                    logger.info(\n                        f&quot;Chunk {chunk_index+1} transcribed: {result['text'][:50]}...&quot;)\n                return chunk_index, result\n            except json.JSONDecodeError:\n                logger.error(\n                    f&quot;Failed to decode JSON response for chunk {chunk_index+1}&quot;)\n                text = await response.text()\n                logger.error(f&quot;Response content: {text[:500]}...&quot;)\n                return chunk_index, None\n    except Exception as e:\n        logger.error(\n            f&quot;Exception during transcription of chunk {chunk_index+1}: {e}&quot;)\n        return chunk_index, None\n\n\nasync def transcribe_audio_async(file_path):\n    audio = await asyncio.to_thread(load_audio_file, file_path)\n    chunks = await asyncio.to_thread(split_audio, audio)\n\n    connector = aiohttp.TCPConnector(limit=10)\n    timeout = aiohttp.ClientTimeout(total=600)\n\n    async with aiohttp.ClientSession(connector=connector, timeout=timeout) as session:\n        tasks = [\n            transcribe_chunk_async(session, chunk, i, MODEL_ENDPOINT)\n            for i, chunk in enumerate(chunks)\n        ]\n\n        results = await asyncio.gather(*tasks)\n\n    ordered_results = sorted(results, key=lambda x: x[0])\n    transcriptions = [r[1]['text'] if r[1]\n                      and 'text' in r[1] else &quot;&quot; for r in ordered_results]\n\n    full_transcription = &quot; &quot;.join(transcriptions)\n\n    logger.info(\n        f&quot;Transcription complete: {len(full_transcription)} characters&quot;)\n    return full_transcription\n\n\nasync def transcribe_audio_async_wrapper(file):\n    try:\n        logger.info(\n            f&quot;Creating temporary file for uploaded file {file.filename}&quot;)\n        temp_file = tempfile.NamedTemporaryFile(\n            delete=False, suffix=os.path.splitext(file.filename)[1])\n        file.save(temp_file.name)\n        temp_file.close()\n\n        transcript = await transcribe_audio_async(temp_file.name)\n        await asyncio.to_thread(os.unlink, temp_file.name)\n\n        return transcript\n    except Exception as e:\n        logger.error(f&quot;Transcription failed: {e}&quot;)\n        try:\n            if 'temp_file' in locals() and os.path.exists(temp_file.name):\n                await asyncio.to_thread(os.unlink, temp_file.name)\n        except:\n            pass\n        raise\n\n\ndef transcribe_audios(files):\n    async def transcribe_all():\n        return await asyncio.gather(*[transcribe_audio_async_wrapper(file) for file in files])\n\n    return asyncio.run(transcribe_all())\n</code></pre>\n<p>The overall flow is:</p>\n<ol>\n<li>Load an audio file (MP3 or MP4) with pydub</li>\n<li>Split it into overlapping chunks (~29 seconds each)</li>\n<li>Process each chunk in parallel:</li>\n</ol>\n<ul>\n<li>Export chunk to temporary MP3 file</li>\n<li>Read the file into memory</li>\n<li>Upload to transcription API</li>\n<li>Delete the temporary file</li>\n</ul>\n<ol start=\"4\">\n<li>Combine results into a single transcription</li>\n</ol>\n<p>I'm using <code>asyncio.to_thread()</code> and temporary files for processing, but despite using <code>tempfile.NamedTemporaryFile</code> and explicitly unlinking files, I still get these ResourceWarnings. The warnings seem to come from the <code>chunk.export()</code> method in <code>pydub</code> (?).</p>\n<p>I am struggling to see where in my code there is a file that is not being closed, unless it is internal to <code>pydub</code> and how the <code>AudioSegment</code> is being handled?</p>\n"
    },
    {
        "tags": [
            "java",
            "macos",
            "swing",
            "segmentation-fault"
        ],
        "owner": {
            "account_id": 76070,
            "reputation": 636,
            "user_id": 218013,
            "user_type": "registered",
            "accept_rate": 82,
            "profile_image": "https://www.gravatar.com/avatar/4ae1741ac440e2eb805bedb75ee0fabd?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Dennis",
            "link": "https://stackoverflow.com/users/218013/dennis"
        },
        "is_answered": false,
        "view_count": 60,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741916806,
        "creation_date": 1741883592,
        "last_edit_date": 1741916806,
        "question_id": 79507085,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507085/jvm-crashes-with-java-swing-app-when-coming-out-of-sleep",
        "title": "JVM Crashes with Java Swing App when coming out of sleep",
        "body": "<p>I'm running a multi-threaded Java Swing app on a Macbook Pro Sequoia 15.3.1 which I regularly put to sleep and wake. I've noticed upon waking the application will occasionally crash, but unfortunately there is no stack trace in the logs. Only this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00000001940fc07c, pid=92739, tid=125871\n#\n# JRE version: OpenJDK Runtime Environment Homebrew (23.0.1) (build 23.0.1)\n# Java VM: OpenJDK 64-Bit Server VM Homebrew (23.0.1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\n# Problematic frame:\n# C  [CoreVideo+0x307c]  CVXTime::translateTime(CVTimeStamp const*, CVTimeStamp*) const+0x2c\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /var/folders/r_/gktdwd0x4q9fhzp8stylc1pc0000gp/T//hs_err_pid92739.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/Homebrew/homebrew-core/issues\n#\n</code></pre>\n<p>I go to the report file and here is the first few sections:</p>\n<pre class=\"lang-none prettyprint-override\"><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00000001940fc07c, pid=92739, tid=125871\n#\n# JRE version: OpenJDK Runtime Environment Homebrew (23.0.1) (build 23.0.1)\n# Java VM: OpenJDK 64-Bit Server VM Homebrew (23.0.1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\n# Problematic frame:\n# C  [CoreVideo+0x307c]  CVXTime::translateTime(CVTimeStamp const*, CVTimeStamp*) const+0x2c\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/Homebrew/homebrew-core/issues\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: /Users/me/app/target/app.jar\n\nHost: &quot;Mac14,10&quot; arm64, 12 cores, 16G, Darwin 24.3.0, macOS 15.3.1 (24D70)\nTime: Thu Mar 13 09:12:27 2025 CDT elapsed time: 14073.500905 seconds (0d 3h 54m 33s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread is native thread\n\nStack: [0x000000016e510000,0x000000016e593000],  sp=0x000000016e592c00,  free space=523k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [CoreVideo+0x307c]  CVXTime::translateTime(CVTimeStamp const*, CVTimeStamp*) const+0x2c\nC  [CoreVideo+0x2dec]  CVDisplayLink::calculateNextWakeUpTime(CVTimeStamp*, CVTimeStamp*, bool)+0xe0\nC  [CoreVideo+0x241c]  CVDisplayLink::runIOThread()+0x198\nC  [libsystem_pthread.dylib+0x72e4]  _pthread_start+0x88\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 2 (SEGV_ACCERR), si_addr: 0x0000c0dcee097a28\n\nRegisters:\n x0=0x0000600001b07870  x1=0x000000016e592d00  x2=0x000000016e592e20  x3=0x0000000000000000\n x4=0x0151300001513100  x5=0x00000000000100a8  x6=0x0000000000000000  x7=0x00000000007c074d\n x8=0x0000c0dcee097870  x9=0x0000000000030d40 x10=0x00000f2f8a0d3180 x11=0x0000000000030d40\nx12=0x0000000000000100 x13=0x0000000001513100 x14=0x0000000001513000 x15=0x0151300001513100\nx16=0x00000001f6117790 x17=0x67900001f6117790 x18=0x0000000000000000 x19=0x0000600001b07870\nx20=0x000000016e592e20 x21=0x000000016e592d00 x22=0x0000000000000000 x23=0x0000000000000000\nx24=0x00000f2f8a21f315 x25=0x000000011602ac18 x26=0x00000001f23c3d18 x27=0x00000f2f8a2266e2\nx28=0x0000000000000000  fp=0x000000016e592c70  lr=0x00000001940fbdec  sp=0x000000016e592c00\npc=0x00000001940fc07c cpsr=0x0000000080001000\n\nTop of Stack: (sp=0x000000016e592c00)\n0x000000016e592c00:   00000001f23c35d8 0000000194114194\n0x000000016e592c10:   0000000000000000 0000000000000004\n0x000000016e592c20:   00000001940fbe1c 00000001941452d1\n0x000000016e592c30:   000000016e592c70 00000001941140d8\n0x000000016e592c40:   00000f2f8a21f315 0000000000000000\n0x000000016e592c50:   0000000000000000 000000011602ac00\n0x000000016e592c60:   000000011602aa20 000000016e592e20\n0x000000016e592c70:   000000016e592e10 00000001940fbdec\n0x000000016e592c80:   000000011602aa20 0000000000000000\n0x000000016e592c90:   00000f2f8a206c75 00000f2f8a1ef902\n0x000000016e592ca0:   0000000000017373 0000000000030d40\n0x000000016e592cb0:   000000011602ab18 0000000113ca4220\n0x000000016e592cc0:   0000000000000001 00006000032488d0\n0x000000016e592cd0:   000000000000003c 0000000000000001\n0x000000016e592ce0:   000000011602aa38 0000000000000000\n0x000000016e592cf0:   000000016e592d10 000000018ac92a18\n0x000000016e592d00:   016e360000000000 00000f2f8a1f8100\n0x000000016e592d10:   00000f2f8a10668d 3ff0000000000000\n0x000000016e592d20:   0000000000030d40 0000000000000000\n0x000000016e592d30:   0000000000000000 0000000000000000\n0x000000016e592d40:   0000000000000001 0000000000000000\n0x000000016e592d50:   0000000000000000 0000000000000000\n0x000000016e592d60:   0000000000000000 0000000000000000\n0x000000016e592d70:   0000000000000000 0000000000000002\n0x000000016e592d80:   0000000000000000 0000000000000000\n0x000000016e592d90:   0000000000000000 0000000000000000\n0x000000016e592da0:   000000011602ab18 000000011602aa20\n0x000000016e592db0:   0000000000000000 0000000000000000\n0x000000016e592dc0:   00000001f23c3d18 00000001f23c3cf8\n0x000000016e592dd0:   0000000000000003 00000001f23c3cf4\n0x000000016e592de0:   00000f2f8a21f315 0000000000000000\n0x000000016e592df0:   000000011602ab18 000000011602aad8 \n\nInstructions: (pc=0x00000001940fc07c)\n0x00000001940fbf7c:   95 fd ff 97 80 1e 41 f9 a7 fd ff 97 90 02 40 f9\n0x00000001940fbf8c:   f1 03 14 aa d1 59 e8 f2 30 1a c1 da 08 8e 48 f8\n0x00000001940fbf9c:   e9 03 10 aa e0 03 14 aa e1 03 15 aa f1 03 09 aa\n0x00000001940fbfac:   d1 df f5 f2 11 09 3f d7 9f 1a 01 f9 90 02 40 f9\n0x00000001940fbfbc:   f1 03 14 aa d1 59 e8 f2 30 1a c1 da 08 8e 48 f8\n0x00000001940fbfcc:   e9 03 10 aa e0 03 14 aa e1 03 13 aa f1 03 09 aa\n0x00000001940fbfdc:   d1 df f5 f2 11 09 3f d7 fd 7b 59 a9 f4 4f 58 a9\n0x00000001940fbfec:   f6 57 57 a9 f8 5f 56 a9 fa 67 55 a9 fc 6f 54 a9\n0x00000001940fbffc:   e9 23 53 6d ff 83 06 91 ff 0f 5f d6 7f 23 03 d5\n0x00000001940fc00c:   f6 57 bd a9 f4 4f 01 a9 fd 7b 02 a9 fd 83 00 91\n0x00000001940fc01c:   f3 03 00 aa 14 60 00 91 e0 03 14 aa 1c 1f 01 94\n0x00000001940fc02c:   75 ce 5b a9 e0 03 14 aa 1d 1f 01 94 e0 03 15 aa\n0x00000001940fc03c:   e1 03 13 aa fd 7b 42 a9 f4 4f 41 a9 f6 57 c3 a8\n0x00000001940fc04c:   ff 0f 5f d6 7f 23 03 d5 ff 03 02 d1 f8 5f 04 a9\n0x00000001940fc05c:   f6 57 05 a9 f4 4f 06 a9 fd 7b 07 a9 fd c3 01 91\n0x00000001940fc06c:   f4 03 02 aa f5 03 01 aa f3 03 00 aa 08 00 40 f9\n0x00000001940fc07c:   17 d9 5b a9 20 80 c0 3c 28 20 40 f9 e8 0f 00 f9\n0x00000001940fc08c:   e0 83 80 3c e0 03 00 f9 c1 02 00 d0 21 bc 09 91\n0x00000001940fc09c:   a0 00 80 52 fe 5f 00 94 80 82 c0 3c 88 22 40 f9\n0x00000001940fc0ac:   81 0e 40 fd 89 12 40 f9 8a 06 40 b9 e9 1b 00 f9\n0x00000001940fc0bc:   e1 17 00 fd e8 ab 01 a9 e0 83 80 3c f3 03 00 f9\n0x00000001940fc0cc:   c1 02 00 d0 21 e8 0a 91 a0 00 80 52 f0 5f 00 94\n0x00000001940fc0dc:   f7 db 00 a9 f3 03 00 f9 c1 02 00 d0 21 10 0d 91\n0x00000001940fc0ec:   a0 00 80 52 ea 5f 00 94 68 2e 40 f9 69 52 40 b9\n0x00000001940fc0fc:   e8 a7 00 a9 f3 03 00 f9 c1 02 00 d0 21 4c 0e 91\n0x00000001940fc10c:   a0 00 80 52 e2 5f 00 94 60 26 40 fd 61 0a 40 fd\n0x00000001940fc11c:   21 d8 61 7e e0 87 00 6d f3 03 00 f9 c1 02 00 d0\n0x00000001940fc12c:   21 58 0f 91 a0 00 80 52 d9 5f 00 94 88 22 40 f9\n0x00000001940fc13c:   48 03 00 36 a9 22 40 f9 89 00 00 37 a9 00 08 37\n0x00000001940fc14c:   09 00 80 d2 14 00 00 14 a9 06 40 f9 12 00 00 14\n0x00000001940fc15c:   a9 0a 40 f9 6a 2e 40 f9 4b 01 09 cb 60 01 63 9e\n0x00000001940fc16c:   00 40 61 1e 29 01 0a eb 21 01 63 9e 00 9c 61 1e \n</code></pre>\n<p>It seems these lines show that <code>CoreVideo CVXTime::translateTime(CVTimeStamp const*, CVTimeStamp*)</code> is causing a segfault. I'm guessing it's some JDK library I'm calling possibily to do with Swing, but that's where my understanding and research reaches its limit.</p>\n<p>My question is how can I prevent the crash from happening?</p>\n"
    },
    {
        "tags": [
            "r",
            "ggplot2",
            "graphics"
        ],
        "owner": {
            "account_id": 29277999,
            "reputation": 35,
            "user_id": 22431303,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/3085fbec05e7b2fb89c88413ef11d1a3?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Gustavo",
            "link": "https://stackoverflow.com/users/22431303/gustavo"
        },
        "is_answered": true,
        "view_count": 58,
        "accepted_answer_id": 79507489,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741895739,
        "creation_date": 1741884301,
        "last_edit_date": 1741890191,
        "question_id": 79507110,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507110/problem-using-ggplot-correct-order-in-x-axis",
        "title": "Problem using ggplot (correct order in x axis)",
        "body": "<p>I am having some problems using ggplot. Sometime ago in the same part of my script I endure the problem below:</p>\n<p><a href=\"https://stackoverflow.com/questions/76956453/problems-using-ggplot-assingpaste0-in-a-for-loop\">Problems using ggplot, assing(paste0)) in a for loop</a></p>\n<p>That problem was solved using the answer given by Rui Barradas.</p>\n<p>But I had to alter some things in the script and some graphics were being plotted with the order in the x axis wrong.</p>\n<p>The code I am using is:</p>\n<pre><code>    AUX_HIST_NOT_LIST &lt;- AUX_GRAF %&gt;%\n  pivot_longer(-SE, names_to = &quot;Municipios&quot;) %&gt;% \n  mutate(\n    SE = SE,\n    Municipios = gsub(&quot;_&quot;, &quot; &quot;, Municipios)\n  ) %&gt;%\n  group_split(Municipios) %&gt;% \n  lapply(\\(dados) {\n    titulo &lt;- dados$Municipios %&gt;% \n      unique() %&gt;% \n      paste0(&quot; - Notificados&quot;)\n    ggplot(dados, aes(x = SE, \n                      y = value)\n    ) + \n      geom_col(color = &quot;black&quot;, \n               fill = &quot;#8FBC8F&quot;) + \n      geom_label(aes(label = value), \n                 alpha = 0.5, \n                 vjust = 0.1) +\n      labs(\n        caption = Fonte, \n        x = &quot;Semana Epidemiológica&quot;,\n        y = &quot;Número de Casos&quot;,\n        title = titulo\n      ) +\n      scale_y_continuous(expand = expansion(mult = c(0, 0.2))) +\n      Theme_Hist()\n  })\n\nRS_2025_GRAF_Histograma_Notificados_01 &lt;- (AUX_HIST_NOT_LIST[[1]] + AUX_HIST_NOT_LIST[[2]]) / \n  (AUX_HIST_NOT_LIST[[3]] + AUX_HIST_NOT_LIST[[4]]) / \n  (AUX_HIST_NOT_LIST[[5]] + AUX_HIST_NOT_LIST[[6]]) / \n  (AUX_HIST_NOT_LIST[[7]] + AUX_HIST_NOT_LIST[[8]]) \n\nRS_2025_GRAF_Histograma_Notificados_02 &lt;- (AUX_HIST_NOT_LIST[[9]] + AUX_HIST_NOT_LIST[[10]]) / \n  (AUX_HIST_NOT_LIST[[11]] + AUX_HIST_NOT_LIST[[12]]) / \n  (AUX_HIST_NOT_LIST[[13]] + AUX_HIST_NOT_LIST[[14]]) / \n  (AUX_HIST_NOT_LIST[[15]] + AUX_HIST_NOT_LIST[[16]]) \n</code></pre>\n<p>The X axis need to be in a numeric order. In the others graphics I was able to correct the situation, but in this case, the script is more sophisticated than I can manage.</p>\n<p>the data frame I need to use is the:</p>\n<pre><code>dput(head(AUX_GRAF))\nstructure(list(SE = c(&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;), ARAPUÃ = c(0, \n1, 0, 1, 3, 1), ARIRANHA_DO_IVAÍ = c(0, 0, 0, 2, 1, 0), CÂNDIDO_DE_ABREU = c(0, \n0, 3, 2, 0, 4), CRUZMALTINA = c(0, 0, 0, 1, 1, 1), GODOY_MOREIRA = c(3, \n1, 0, 2, 3, 1), IVAIPORÃ = c(5, 8, 2, 10, 9, 6), JARDIM_ALEGRE = c(0, \n0, 1, 4, 1, 0), LIDIANÓPOLIS = c(0, 1, 0, 1, 0, 0), LUNARDELLI = c(0, \n2, 0, 3, 0, 2), MANOEL_RIBAS = c(3, 3, 3, 1, 2, 6), MATO_RICO = c(0, \n1, 0, 0, 0, 0), NOVA_TEBAS = c(0, 0, 1, 0, 0, 1), RIO_BRANCO_DO_IVAÍ = c(0, \n1, 0, 1, 0, 1), ROSÁRIO_DO_IVAÍ = c(0, 0, 0, 0, 0, 0), SANTA_MARIA_DO_OESTE = c(0, \n2, 1, 2, 8, 9), SÃO_JOÃO_DO_IVAÍ = c(2, 8, 2, 4, 5, 5)), row.names = c(NA, \n6L), class = &quot;data.frame&quot;)\n</code></pre>\n<p>EDIT:</p>\n<p>The object Fonte is an object common on several graphics. It is the source of my data. Each time I run the script I change the content of the object.</p>\n<pre><code>Fonte &lt;- &quot;Fonte: SINAN. BASE DBF acessada em 28/01/2025&quot;   ##### Fonte dos gráficos relacionados ao SINAN\n\nFonte_1 &lt;- &quot;Fonte: Lacen. Acesso em 30/01/2025&quot;            ##### Fonte dos gráficos relacionados ao LACEN\n\nFonte_2 &lt;- &quot;Fonte: Planilhas de Controle Municipais. Acesso em 30/01/2025&quot;     ##### Fonte dos gráficos relacionados às Planilhas Municipais\n</code></pre>\n<p>Theme_list is a function I use, again, on several graphics:</p>\n<pre><code>Theme_Hist &lt;- function(){ \n  theme_minimal(base_size = 10) %+replace%  \n    theme(\n      axis.text.x = element_text(face = &quot;bold&quot;),\n      panel.grid.major = element_line(color = &quot;#C0C0C0&quot;),\n      panel.grid.minor = element_blank(),\n      panel.background = element_rect(fill = &quot;#F5F5F5&quot;),\n      plot.title = element_text(face = &quot;bold&quot;, \n                                size = 15, \n                                colour = &quot;#556B2F&quot;)\n    )\n}\n</code></pre>\n<p><img src=\"https://i.sstatic.net/KPxn2pOG.png\" alt=\"\" /></p>\n<p>The image above is my output. The X axis begins with &quot;11&quot;, then blank, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;,...</p>\n<p>But should be: 2, 3, 4, 5, 6, 7, 8, 9, 10, 11</p>\n"
    },
    {
        "tags": [
            "python",
            "pandas",
            "dataframe"
        ],
        "owner": {
            "account_id": 40141724,
            "reputation": 23,
            "user_id": 29631223,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/bd68e2088256823e875d442a339bfb04?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Rodel Silvano",
            "link": "https://stackoverflow.com/users/29631223/rodel-silvano"
        },
        "is_answered": true,
        "view_count": 39,
        "accepted_answer_id": 79507150,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741885386,
        "creation_date": 1741884935,
        "question_id": 79507131,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507131/dataframe-fill-for-null-values-pandas",
        "title": "Dataframe fill for null values - Pandas",
        "body": "<p>I encounter problems trying to fill all null values on a specific column of a data frame.</p>\n<p>Here is an example of dataframe and my expected outcome.</p>\n<p>Example data frame:</p>\n<pre><code>Column_1 Column_2\n    F      A\n   None    B\n   None   None\n    G      C\n   None   None\n   None    D \n    H      D\n</code></pre>\n<p>I want to get the first value from the column 1 to all null value from column 2</p>\n<p>Expected Outcome:</p>\n<pre><code>Column_1 Column_2\n    F      A\n   None    B\n   None    G #First value from the left column\n    G      C\n   None    H #First value from the left column\n   None    D \n    H      D\n</code></pre>\n<p>I'm getting error when I try this code.</p>\n<p><code>df['Colunmn_2'].ffill(df.loc[df['Column_1'].first_valid_index(), 'Column_1'],inplace=True)</code></p>\n<p>Thanks in advance!</p>\n"
    },
    {
        "tags": [
            "google-drive-api"
        ],
        "owner": {
            "account_id": 40814135,
            "reputation": 21,
            "user_id": 29969256,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/2e017ff5aeab33bd17b17350849da883?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Stu B",
            "link": "https://stackoverflow.com/users/29969256/stu-b"
        },
        "is_answered": true,
        "view_count": 51,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741923916,
        "creation_date": 1741885414,
        "last_edit_date": 1741923916,
        "question_id": 79507152,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507152/incomplete-google-drive-listings-api-desktop-drive-google-com-activity-can",
        "title": "Incomplete Google Drive listings (API, desktop, drive.google.com activity) - can I force a refresh?",
        "body": "<p>Minimal reproducible example</p>\n<ol>\n<li>Using a browser, open a publicly shared google drive folder with files that are publicly accessible. This folder is added to the &quot;Shared with me&quot; section of Google Drive on drive.google.com.</li>\n<li>Navigate to one of the folders with files if needed, and confirm that the files are listed.</li>\n<li>a. Select the folder, check its activity list. It should not show activity for any of the files.<br />\nb. Make a <code>files.list</code> API call. It should not show any of the files.</li>\n<li>'Open' one of the files (e.g. Preview it on drive.google.com or open it in a new tab.)</li>\n<li>Repeat steps under 3, the file(s) 'opened' should now be listed in Activity/the API response.</li>\n</ol>\n<hr />\n<p>I have been using the Google Drive API (v3) through the node.js API library to keep an eye on a &quot;Shared With Me&quot; folder (the folder is publicly shared), and alert of any new files.\n( The files are publicly accessible; if you have the link to the file, you can access it, whether logged into Google services or not. )</p>\n<p>However from time to time the resulting list (e.g. using files.list) is incomplete.</p>\n<p>As an example, if the apparent 'folder structure' on drive.google.com is:</p>\n<pre><code>Shared Folder\n  SubfolderA\n    OldFile1.ext  \n    OldFile2.ext\n    NewFile1.ext  \n    NewFile2.ext\n  SunFolderB\n    OldFile3.ext\n    NewFile3.ext\n</code></pre>\n<p>Then the API might only return <code>OldFile1.ext</code>, <code>OldFile2.ext</code>, <code>OldFile3.ext</code>, and <code>NewFile3.ext</code> - but not <code>NewFile1.ext</code> nor <code>NewFile2.ext</code>.</p>\n<p>Far be it for me to think my API use was without error, I double-checked other sources, and the files are also missing from:</p>\n<ul>\n<li>The official API explorer's results</li>\n<li>drive.google.com's Activity list</li>\n<li>Google Drive Android APP's Activity list (including for the parent 'folder')</li>\n<li>The (Windows) Desktop Google Drive virtual drive (streamed content)</li>\n</ul>\n<p>This again despite being listed on drive.google.com when I open the parent 'folder'.</p>\n<p>Stranger still, I can select a file and view its details, and all 4 of the above sources still insist the file doesn't exist. <strong>But</strong> if I access the actual content of the file, e.g. by opening a preview of the file in drive.google.com , lo and behold all 4 suddenly populate with that file, but <em>only that file</em>.<br />\ni.e. if I access the content of <code>NewFile1.ext</code>, that file pops up in the API, in the Activity List, and on the desktop, but <code>NewFile2.ext</code> is still nowhere to be found.</p>\n<p>I would say what am I missing in my code, but as four official products seem to run into the same issue, I suppose my question is actually about what I am missing in terms of whether or not this is expected behavior, and how can I fix this without interacting with the google drive web interface.</p>\n<p>Tried:<br />\nI tried the google drive API with <code>files.list</code> as is, as well as with a <code>q = name contains 'NewFile'</code> to see if that would help - but still only <code>NewFile1.ext</code> appeared (after I had 'opened' it in drive.google.com).</p>\n<p>As mentioned, I also made sure to try the official API explorer, drive.google.com's activity list, the Android app's activity list for the parent 'folder' , nd the Google Drive for desktop app - none of which list (activity for) <code>NewFile2.ext</code>.</p>\n<p>I tried increasing the <code>pageSize</code> and wound my way through every <code>pageToken</code>, and <code>NewFile2.ext</code> is simply nowhere to be found. Note that <code>NewFile1.ext</code> appeared on the first page of results with the original <code>pageSize</code> value of <code>10</code> after I 'opened' that file.</p>\n<p>Expected:<br />\nFor <code>files.list</code> to return every file, and not mysteriously decide to show some files only after 'opening' them in the Google Drive web interface.<br />\n( And relatedly, for the Google Drive for desktop to show every file, and for drive.google.com's Activity list to list every new file as an activity as well, without my first having to 'open' the file in the Google Drive web interface. )</p>\n<p>tl;dr: Is there any way to force Google Drive products besides the drive.google.com web interface to realize new files exist?</p>\n"
    },
    {
        "tags": [
            "r",
            "regex"
        ],
        "owner": {
            "account_id": 1028075,
            "reputation": 11943,
            "user_id": 1217536,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://i.sstatic.net/TWeCs.png?s=256",
            "display_name": "gung - Reinstate Monica",
            "link": "https://stackoverflow.com/users/1217536/gung-reinstate-monica"
        },
        "is_answered": true,
        "view_count": 75,
        "closed_date": 1741969235,
        "accepted_answer_id": 79507209,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741887459,
        "creation_date": 1741887076,
        "last_edit_date": 1741887206,
        "question_id": 79507204,
        "link": "https://stackoverflow.com/questions/79507204/replace-each-leading-character-with-another-character",
        "closed_reason": "Duplicate",
        "title": "Replace each leading character with another character",
        "body": "<p>I have <code>&quot;aaacdea&quot;</code> and I want to get <code>&quot;bbbcdea&quot;</code> using <code>gsub()</code>.  Note that in some cases, I may have <code>&quot;aacdea&quot;</code> or <code>&quot;aaaacdea&quot;</code>, etc.  I have tried several things, but none have worked.</p>\n<pre><code>gsub(&quot;a&quot;,  &quot;b&quot;, &quot;aaacdea&quot;)  # [1] &quot;bbbcdeb&quot;  last character became b\ngsub(&quot;^a&quot;, &quot;b&quot;, &quot;aaacdea&quot;)  # [1] &quot;baacdea&quot;  only 1st character became b\ngsub(&quot;^a+&quot;,&quot;b&quot;, &quot;aaacdea&quot;)  # [1] &quot;bcdea&quot;    all leading a's replaced w/ only 1 b\n</code></pre>\n"
    },
    {
        "tags": [
            "python",
            "list",
            "random"
        ],
        "owner": {
            "account_id": 18067202,
            "reputation": 1461,
            "user_id": 13132728,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/b6aa6561e0ea42db2ec90c42ea00af1e?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "bismo",
            "link": "https://stackoverflow.com/users/13132728/bismo"
        },
        "is_answered": true,
        "view_count": 70,
        "accepted_answer_id": 79507230,
        "answer_count": 5,
        "score": 2,
        "last_activity_date": 1741898106,
        "creation_date": 1741887148,
        "last_edit_date": 1741894490,
        "question_id": 79507207,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507207/create-an-n-length-list-by-uniformly-in-frequency-selecting-items-from-a-separ",
        "title": "Create an N length list by uniformly (in frequency) selecting items from a separate list in python",
        "body": "<h2>SETUP</h2>\n<p>I have a list <code>days</code> and a value <code>N</code></p>\n<pre><code>days = ['Monday','Tuesday','Wednesday','Thursday','Friday']\nN = 52\n</code></pre>\n<h2>WHAT I AM TRYING TO DO</h2>\n<p>I am trying to create a list <code>selections</code> with length <code>N</code> where I <em>uniformly in frequency</em> sample values from <code>days</code> (remainders are fine). I would like the order of this list to then be shuffled.</p>\n<h2>EXAMPLE OUTPUT</h2>\n<p><strong>NOTE HOW THE ORDER IS SHUFFLED, BUT THE DISTRIBUTION OF VALUES IS UNIFORM</strong></p>\n<pre><code>selections\n\n['Wednesday','Friday','Monday',...'Tuesday','Thursday','Monday']\n\nimport collections\ncounter = collections.Counter(selections)\ncounter\nCounter({'Monday': 11, 'Tuesday': 10, 'Wednesday': 11, 'Thursday': 10, 'Friday': 10})\n</code></pre>\n<h2>WHAT I HAVE TRIED</h2>\n<p>I have code to randomly select <code>N</code> values from <code>days</code></p>\n<pre><code>from random import choice, seed\n\nseed(1)\n\ndays = ['Monday','Tuesday','Wednesday','Thursday','Friday']\nN = 52\n\nselections = [choice(days) for x in range(N)]\n</code></pre>\n<p>But they aren't selected uniformly</p>\n<pre><code>import collections\ncounter = collections.Counter(selections)\ncounter\n\nCounter({'Tuesday': 9,\n         'Friday': 8,\n         'Monday': 14,\n         'Wednesday': 7,\n         'Thursday': 14})\n</code></pre>\n<p>How can I adjust this code or what different method will create a list of length <code>N</code> with a uniform distribution of values from <code>days</code> in a random order?</p>\n<hr />\n<p>EDIT: I obviously seemed to have phrased this question poorly. I am looking for list with length <code>N</code> with a uniform distribution of values from <code>days</code> but in a <strong>shuffled</strong> order (what I meant by random.) So I suppose what I am looking for is how to uniformly sample values from <code>days</code> <code>N</code> times, then just shuffle that list. Again, I want an equal amount of each value from <code>days</code> making up a list with length <code>N</code>. I need a uniform distribution for a list of <em>exactly</em> length 52, just as the example output shows.</p>\n"
    },
    {
        "tags": [
            "r",
            "formatting",
            "gtsummary"
        ],
        "owner": {
            "account_id": 4596006,
            "reputation": 25,
            "user_id": 3728045,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6b44513e9be0b97a3c71137e2875c03d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Sigil",
            "link": "https://stackoverflow.com/users/3728045/sigil"
        },
        "is_answered": true,
        "view_count": 51,
        "accepted_answer_id": 79507621,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741959518,
        "creation_date": 1741890762,
        "last_edit_date": 1741959518,
        "question_id": 79507323,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507323/add-count-in-variables-label-in-gt-summary",
        "title": "Add count in variables label in gt_summary",
        "body": "<p>I'm using gt_summary for my project, and so far I include the missing values as a separate row for each variable, through the missing arg of tbl_summary.</p>\n<p>However, I am trying to add in the variable label the total number of observations for this variable.</p>\n<p>I tried both by adding <code>&quot;n = {n}&quot;</code> to the label list I pass to tbl_summary, and using <code>add_stat_label (label = &quot;n = {n}&quot;)</code>, but with these, the placeholder {n} is not interpreted as such and the final table is not what I'm looking for.</p>\n<p>I know I could add a custom stat column, by I would prefer not to increase the col numbers</p>\n<p>Is there any built-in function in gt_summary that can achieve this ?</p>\n<p>A (dys)functional example :</p>\n<pre><code>library(tidyverse)\nlibrary(gtsummary)\nlibrary(gt)\n\ndatabase = data.frame(\n  INDIV_AGE = rnorm(100, mean = 50, sd = 4),\n  INDIV_GENDER = rbinom(100, size=1, prob = 0.6),\n  INDIV_ETHNICS = sample(c(&quot;North America&quot;, &quot;Western Europe&quot;, &quot;Africa&quot;, &quot;Eastern Europe&quot;, &quot;Asia&quot;, &quot;Other&quot;), size = 100, replace = T, prob = c(0.3, 0.2, 0.4, 0.02, 0.01, 0.07)),\n  INDIV_ECOGRP = sample(c(1,2,3,4), size = 100, replace = T, prob = c(0.6, 0.1, 0.2, 0.1)),\n  ENV_POLLEVEL = rpois(100, lambda = 4), \n  ENV_FLOODPROFILE = sample(c(&quot;Low&quot;, &quot;Intermediate&quot;, &quot;High&quot;, &quot;Extreme&quot;), size = 100, replace = T, prob = c(0.1, 0.65, 0.2, 0.05))\n)\ndatabase[] &lt;- lapply(database, function(x) { x[sample(seq_along(x), 0.1 * length(x))] &lt;- NA; x })\n\n\n\na = database |&gt; \n  tbl_summary(\n    include = everything(),\n    missing = &quot;always&quot;,\n    missing_text = &quot;Missing data&quot;,\n    missing_stat = &quot;{N_miss} ({p_miss}%)&quot;,\n    type = INDIV_AGE ~ &quot;continuous&quot;,\n    statistic = list(\n      all_continuous() ~ &quot;{median} [{p25}-{p75}]&quot;,\n      all_categorical() ~ &quot;{n} ({p}%)&quot;\n      ),\n    by = INDIV_GENDER\n  ) |&gt; \n  modify_header(\n    label = &quot;&quot;,\n    stat_2 = &quot;**Yes**\\nN={n}&quot;,\n    stat_1 = &quot;**No**\\nN={n}&quot;) |&gt;\n  modify_spanning_header(all_stat_cols()~&quot;**Gender**&quot;) |&gt;\n  add_p() |&gt; \n  bold_p() |&gt;\n  add_stat_label(\n    label = everything() ~ &quot;n = {n}&quot;\n  )\n\nprint(a)  \n</code></pre>\n<p>It produces something like this :\n<a href=\"https://i.sstatic.net/VJvN3fth.png\" rel=\"nofollow noreferrer\">Current output</a></p>\n<p>But I would like something like this with the corresponding numbers replacing the <code>{n}</code>\n<a href=\"https://i.sstatic.net/oT4afMCA.png\" rel=\"nofollow noreferrer\">Expected output</a></p>\n<p>With this sample code, NA is randomly generated at 10% of the total so it's not really interesting, but in real data, NA differs between variables</p>\n<p>Thank you very much !</p>\n<p>Sigil</p>\n"
    },
    {
        "tags": [
            "c",
            "unsigned",
            "signed",
            "twos-complement"
        ],
        "owner": {
            "account_id": 25674788,
            "reputation": 21,
            "user_id": 19438412,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/f73652d5f5c8a1f42e01002ba9dc2322?s=256&d=identicon&r=PG",
            "display_name": "antonkal",
            "link": "https://stackoverflow.com/users/19438412/antonkal"
        },
        "is_answered": true,
        "view_count": 127,
        "answer_count": 3,
        "score": 2,
        "last_activity_date": 1741915053,
        "creation_date": 1741892998,
        "question_id": 79507407,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507407/is-twos-complement-and-signed-integers-the-same-thing",
        "title": "Is Two&#39;s Complement and Signed Integers the same thing?",
        "body": "<p>When somebody says a number is represented as two's complement is it safe to write code that will represent the value in a signed integer? Does it depend on the CPU?</p>\n<p><a href=\"https://stackoverflow.com/questions/19464202/how-does-c-compiler-handle-unsigned-and-signed-integer-why-the-assembly-code-fo\">how does c compiler handle unsigned and signed integer? Why the assembly code for unsigned and signed arithmetic operation are the same?</a></p>\n<p>If I am writing code based on a data sheet that says this register represents a 16 bit two's complement value, is it always safe to store this value as a 16 bit signed data type?</p>\n"
    },
    {
        "tags": [
            "ruby",
            "linux",
            "huge-pages"
        ],
        "owner": {
            "account_id": 414333,
            "reputation": 2477,
            "user_id": 788488,
            "user_type": "registered",
            "accept_rate": 69,
            "profile_image": "https://www.gravatar.com/avatar/0bd41540cc636e20b35b38885cabe41a?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "meisel",
            "link": "https://stackoverflow.com/users/788488/meisel"
        },
        "is_answered": true,
        "view_count": 27,
        "accepted_answer_id": 79508015,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741918100,
        "creation_date": 1741896401,
        "last_edit_date": 1741904887,
        "question_id": 79507513,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507513/why-dont-transparent-huge-pages-work-for-a-program-spawned-from-within-ruby",
        "title": "Why don&#39;t transparent huge pages work for a program spawned from within Ruby?",
        "body": "<p>I have a simple page fault stress test program, where I use <code>madvise(..., MADV_HUGEPAGE)</code> to enable THP (my Linux machine's THP mode is &quot;madvise&quot;). However, when I run it from Ruby, e.g. with <code>system(&quot;...&quot;)</code>, THP doesn't work. I can tell that because the performance is extremely bimodal depending on whether THP is on for it, and I see the &quot;off&quot; performance consistently. I've also tried spawning the program with <code>Process.spawn</code> and <code>Open3.popen3</code>, and still no luck. Does anyone know what might be happening here? I'm using Linux RHEL 7.9 with an x86-64 Intel CPU.</p>\n"
    },
    {
        "tags": [
            "reactjs",
            "tailwind-css",
            "tailwind-css-3"
        ],
        "owner": {
            "account_id": 18929260,
            "reputation": 193,
            "user_id": 13811694,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/d21ea7b5f5a9a0a19e37a9865c5aa470?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Lewis",
            "link": "https://stackoverflow.com/users/13811694/lewis"
        },
        "is_answered": true,
        "view_count": 33,
        "accepted_answer_id": 79507539,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741899368,
        "creation_date": 1741896857,
        "last_edit_date": 1741899368,
        "question_id": 79507533,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507533/react-ui-doesnt-render-with-tailwind-v3",
        "title": "React UI doesn&#39;t render with Tailwind v3?",
        "body": "<p>Having trouble even understanding why my React app isn't rending properly. I'm guessing it is TailwindCSS/PostCSS screwing up. When running or building it, I don't get specific errors for this UI issue.</p>\n<p>Do I need both <code>tailwind.config.js</code> and <code>tailwind.config.ts</code>?</p>\n<p><strong>global.css</strong></p>\n<pre class=\"lang-css prettyprint-override\"><code>@import &quot;tailwindcss&quot;;\n\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n@layer utilities {\n  .text-balance {\n    text-wrap: balance;\n  }\n}\n\n@layer base {\n\n}\n</code></pre>\n<p><strong>tailwind.config.js</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>@type {import('tailwindcss').Config}\n\nmodule.exports = {\n  content: [\n    './pages/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n}\n</code></pre>\n"
    },
    {
        "tags": [
            "excel",
            "vba"
        ],
        "owner": {
            "account_id": 40819531,
            "reputation": 23,
            "user_id": 29973135,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9440798d59da1b685404085d0eae57f9?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Michael Dowd",
            "link": "https://stackoverflow.com/users/29973135/michael-dowd"
        },
        "is_answered": true,
        "view_count": 56,
        "accepted_answer_id": 79507632,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741987897,
        "creation_date": 1741899837,
        "last_edit_date": 1741899905,
        "question_id": 79507630,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507630/how-to-use-a-variable-to-globally-define-a-cells-location",
        "title": "How to use a variable to globally define a cell&#39;s location?",
        "body": "<p>I am writing series of small macros to manipulate data on a series of identical sheets.</p>\n<p>For example, on every sheet E3 is the sheet's subject.</p>\n<p>I am looking for a way to globally define E3 as a variable called SheetSubject for any macro I write.</p>\n<p>I am envisioning something like this.</p>\n<pre><code>SheetSubject = Range(&quot;E3&quot;)\n</code></pre>\n<p>I'd then be able to use SheetSubject in my macros instead of referring to <code>Range(&quot;E3&quot;)</code> every time.</p>\n<p>This type of macro wide definition means I only have change one bit of code...say E3 to E67...in one place instead of lots of macros should the data in E3 move to E67,</p>\n<p>Global variables only define names for macro wide use...not a location.</p>\n<p>I've thought about each macro calling a higher macro to define globally defined variables, but this seems clumsy.</p>\n"
    },
    {
        "tags": [
            "reactjs",
            "typescript",
            "zod"
        ],
        "owner": {
            "account_id": 2143465,
            "reputation": 1536,
            "user_id": 1901625,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/jnDz5.jpg?s=256",
            "display_name": "Moussa Harajli",
            "link": "https://stackoverflow.com/users/1901625/moussa-harajli"
        },
        "is_answered": false,
        "view_count": 38,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741948754,
        "creation_date": 1741901041,
        "question_id": 79507666,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507666/typescript-infer-function-argument-based-on-same-object-property",
        "title": "Typescript: Infer function argument based on same object property",
        "body": "<p>I am trying to infer the output of a zod schema as a parameter to a callback in a mapped type. The variable <code>d</code> is currently inferred as <code>any</code> where it should be the shape of the zod schema thats defined in the same object. Is this possible? Heres a minimal example:</p>\n<pre><code>import { ComponentType } from &quot;react&quot;;\nimport { z } from &quot;zod&quot;;\n\ntype Step&lt;\n  TKey = string,\n  TSchema extends z.ZodType = z.ZodType,\n  TProps = unknown\n&gt; = {\n  component: ComponentType&lt;TProps&gt;;\n  schema: TSchema;\n  getNextStep?: (data: z.infer&lt;TSchema&gt;) =&gt; TKey;\n};\n\ntype Config&lt;TConfig&gt; = {\n  [K in keyof TConfig]: TConfig[K] extends Step ? TConfig[K] : unknown;\n};\n\nfunction createConfig&lt;TConfig&gt;(config: Config&lt;TConfig&gt;) {\n  return config;\n}\n\nconst config = createConfig({\n  Step1: {\n    component: ({ orgId }: { orgId: string }) =&gt; null,\n    schema: z.object({ userId: z.string() }),\n    getNextStep: (d) =&gt; &quot;Step2&quot;, // &lt;---- `d` is inferred as `any`\n  },\n  Step2: {\n    component: ({ userId }: { userId: string }) =&gt; null,\n    schema: z.unknown(),\n    getNextStep: () =&gt; &quot;Step1&quot;,\n  },\n});\n</code></pre>\n"
    },
    {
        "tags": [
            "excel",
            "excel-formula"
        ],
        "owner": {
            "account_id": 10638758,
            "reputation": 329,
            "user_id": 7834597,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/20d27586688559eebdce5689c51cd8fa?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Dorton",
            "link": "https://stackoverflow.com/users/7834597/dorton"
        },
        "is_answered": true,
        "view_count": 87,
        "accepted_answer_id": 79507743,
        "answer_count": 3,
        "score": 2,
        "last_activity_date": 1741965664,
        "creation_date": 1741901134,
        "last_edit_date": 1741903175,
        "question_id": 79507667,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507667/generate-a-summary-table-in-excel-for-multiple-variables-without-pivottable",
        "title": "Generate a summary table in Excel for multiple variables without PivotTable",
        "body": "<p>I am trying to build a template in excel that summarizes a dataset according to test, sample type, and analyzer. Sorry - I've never posted a question about excel before, so please tell me if more info needed.</p>\n<p>I need to calculate the Mean, Standard Deviation, and the Measurement Uncertainty for each test, separated by sample type and analyzer (MU = 1.96 x SD). My actual dataset has a few hundred 'Tests' two or three 'Types' for each, and two or four 'Analyzers'. There should be dozens of data points for each 'Result'. I will also make a few additional calcs, but keeping it simple for clarity.</p>\n<p>Here is example data:</p>\n<div class=\"s-table-container\"><table class=\"s-table\">\n<thead>\n<tr>\n<th>Test</th>\n<th>Type</th>\n<th>Name</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>pH</td>\n<td>Water</td>\n<td>Analyzer1</td>\n<td>6.1</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Water</td>\n<td>Analyzer2</td>\n<td>6.5</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Water</td>\n<td>Analyzer1</td>\n<td>55</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Water</td>\n<td>Analyzer2</td>\n<td>64</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Water</td>\n<td>Analyzer1</td>\n<td>6.3</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Water</td>\n<td>Analyzer2</td>\n<td>6.8</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Water</td>\n<td>Analyzer1</td>\n<td>50</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Water</td>\n<td>Analyzer2</td>\n<td>68</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Buffer</td>\n<td>Analyzer1</td>\n<td>5.9</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Buffer</td>\n<td>Analyzer2</td>\n<td>6.4</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Buffer</td>\n<td>Analyzer1</td>\n<td>48</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Buffer</td>\n<td>Analyzer2</td>\n<td>71</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Buffer</td>\n<td>Analyzer1</td>\n<td>6.4</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Buffer</td>\n<td>Analyzer2</td>\n<td>6.9</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Buffer</td>\n<td>Analyzer1</td>\n<td>51</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Buffer</td>\n<td>Analyzer2</td>\n<td>64</td>\n</tr>\n</tbody>\n</table></div>\n<p>The result I am after looks like this:</p>\n<div class=\"s-table-container\"><table class=\"s-table\">\n<thead>\n<tr>\n<th>Test</th>\n<th>Type</th>\n<th>Name</th>\n<th>Mean</th>\n<th>SD</th>\n<th>MU</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>pH</td>\n<td>Water</td>\n<td>Analyzer1</td>\n<td>6.2</td>\n<td>0.35</td>\n<td>0.69</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Water</td>\n<td>Analyzer2</td>\n<td>6.7</td>\n<td>0.35</td>\n<td>0.69</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Buffer</td>\n<td>Analyzer1</td>\n<td>6.2</td>\n<td>0.14</td>\n<td>0.28</td>\n</tr>\n<tr>\n<td>pH</td>\n<td>Buffer</td>\n<td>Analyzer2</td>\n<td>6.7</td>\n<td>0.21</td>\n<td>0.42</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Water</td>\n<td>Analyzer1</td>\n<td>52.5</td>\n<td>3.54</td>\n<td>6.93</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Water</td>\n<td>Analyzer2</td>\n<td>66.0</td>\n<td>2.83</td>\n<td>5.54</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Buffer</td>\n<td>Analyzer1</td>\n<td>49.5</td>\n<td>2.12</td>\n<td>4.16</td>\n</tr>\n<tr>\n<td>pO2</td>\n<td>Buffer</td>\n<td>Analyzer2</td>\n<td>67.5</td>\n<td>4.95</td>\n<td>9.70</td>\n</tr>\n</tbody>\n</table></div>\n<p>I am trying to automate this as much as possible, but don't want to use VBA. Unless I am missing something, I can't use a PivotTable as I have to use the Mean/SD to calculate the MU. Thus far, I have tried creating a new table using:</p>\n<p><code>=UNIQUE(FILTER(B:B,A:A=&quot;pH&quot;))</code></p>\n<p>which generates an array containing Buffer and Water, but I can't include AND() in the FILTER() function to further parse the data. I have tried a bit of XLOOKUP() but that doesn't seem to work either.</p>\n<p>Very interested to hear an approach!</p>\n<p>***Edits:\nI am using Microsoft® Excel® for Microsoft 365 MSO (Version 2408 Build 16.0.17928.20336) 32-bit\nPrevious responses have employed <code>GROUPBY()</code> or <code>PIVOTBY()</code> but these functions do not appear present in this version of Excel.</p>\n"
    },
    {
        "tags": [
            "search",
            "solr",
            "coldfusion",
            "tokenize"
        ],
        "owner": {
            "account_id": 21003938,
            "reputation": 119,
            "user_id": 15434177,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/85ee8c4e6d6ea57df8ea60c94e24fde4?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "jadedQuail",
            "link": "https://stackoverflow.com/users/15434177/jadedquail"
        },
        "is_answered": false,
        "view_count": 18,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741901690,
        "creation_date": 1741901690,
        "question_id": 79507680,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507680/how-to-get-an-exact-substring-match-search-with-wildcards-for-solr-in-coldfusion",
        "title": "How to get an exact substring match search with wildcards for Solr in ColdFusion?",
        "body": "<p>I am trying to implement a search in ColdFusion (with indexing through Solr) where it gets a match on exact substrings and exact substrings only.</p>\n<p>Here's my sample code:</p>\n<pre><code>&lt;cfset criteriaString = '*#ARGUMENTS.query_term#*' /&gt;\n\n&lt;cfsearch\n    name=&quot;searchResults&quot;\n    criteria=&quot;#criteriaString#&quot;\n    collection=&quot;#courseCollection#&quot;\n    suggestions=&quot;always&quot;\n    maxrows=&quot;1500&quot;\n&gt;\n</code></pre>\n<p>Where <code>ARGUMENTS.query_term</code> is the string that the user searches for. I have a full string of <code>tomato</code> and this search works great for that - if I search <code>t</code>, <code>oma</code>, <code>tomat</code>, or <code>tomato</code>, it finds it perfectly with the <code>*</code> wildcard.</p>\n<p>This doesn't work, however, with spaces. I have another string <code>tomato project</code>, and if I search for <code>tomato pro</code> or <code>ato p</code>, it doesn't work.</p>\n<p>I tried escaping the space by doing this to my <code>criteriaString</code>:</p>\n<pre><code>&lt;cfset criteriaString = '*#replace(ARGUMENTS.query_term, ' ', '\\ ', 'all')#*' /&gt;\n</code></pre>\n<p>But that didn't work. I also tried adding quotes around the query term instead:</p>\n<pre><code>&lt;cfset criteriaString = '&quot;#replace(ARGUMENTS.query_term, ' ', '\\ ', 'all')#&quot;' /&gt;\n</code></pre>\n<p>But that didn't work either.</p>\n<p>For what it's worth, I believe the tokenizer being used on the fields in my index is the White Space Tokenizer (<a href=\"https://solr.apache.org/guide/6_6/tokenizers.html\" rel=\"nofollow noreferrer\">https://solr.apache.org/guide/6_6/tokenizers.html</a>). Any guidance would be greatly appreciated.</p>\n"
    },
    {
        "tags": [
            "r",
            "string",
            "duplicates",
            "cpu-word"
        ],
        "owner": {
            "account_id": 16050212,
            "reputation": 824,
            "user_id": 11584327,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9d75a5e6fe1249f5667dbe5062536f7d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "denis",
            "link": "https://stackoverflow.com/users/11584327/denis"
        },
        "is_answered": true,
        "view_count": 65,
        "accepted_answer_id": 79507801,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741907772,
        "creation_date": 1741904823,
        "question_id": 79507769,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507769/remove-duplicate-names-while-replacing-underscores-with-spaces-in-r",
        "title": "Remove duplicate names while replacing underscores with spaces in R",
        "body": "<p>I have last names (left) and first names (right) separated by a comma.<br />\nAmong the last names, I often (but not always) have duplicates separated by an underscore. How to remove the duplicates and, for compound names, replace the underscore with a space?<br />\nAlso, first names never have duplicates but always begin with an underscore, which I would like to replace with a space. For compound first names also separated by an underscore, I would like to replace this underscore with a space.<br />\nI have thousands of lines and I'm struggling to find the solution.<br />\nThanks for help</p>\n<p><strong>Input data:</strong></p>\n<pre><code>&gt; dat0\n                  name_ko\n1           BLA_BLA,_BLIM\n2 CLO_CLO,_SPITCH_SPLOTCH\n3           BAD_BOY,_GOOD  \n4      GOOD_BOY,_BAD_GIRL  \n</code></pre>\n<p><strong>Desired output:</strong></p>\n<pre><code>&gt; dat1\n              name_ok\n1           BLA, BLIM\n2 CLO, SPITCH SPLOTCH\n3       BAD BOY, GOOD\n4  GOOD BOY, BAD GIRL\n</code></pre>\n<p><strong>Data:</strong></p>\n<pre><code>name_ko &lt;- c(\n  &quot;BLA_BLA,_BLIM&quot;,\n  &quot;CLO_CLO,_SPITCH_SPLOTCH&quot;,\n  &quot;BAD_BOY,_GOOD&quot;,\n  &quot;GOOD_BOY,_BAD_GIRL&quot;)\ndat0 &lt;- data.frame(name_ko)\n</code></pre>\n"
    },
    {
        "tags": [
            "git",
            "git-rebase"
        ],
        "owner": {
            "account_id": 16603256,
            "reputation": 3455,
            "user_id": 11998382,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/afe398e67513b42df32066dcdeed4fd6?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Tom Huntington",
            "link": "https://stackoverflow.com/users/11998382/tom-huntington"
        },
        "is_answered": true,
        "view_count": 79,
        "accepted_answer_id": 79508010,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1741935837,
        "creation_date": 1741904831,
        "last_edit_date": 1741935837,
        "question_id": 79507770,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507770/undo-commit-b-keeping-commits-c-and-d",
        "title": "Undo commit B keeping commits C and D",
        "body": "<p>Say my commit history looks like this:</p>\n<pre><code>A -- B -- C -- D (HEAD)\n</code></pre>\n<p>With a file test.txt, where each letter was added in the respective commit</p>\n<pre><code>A\nB\nC\nD\n</code></pre>\n<p>Without changing the git history (just changing the working directory), I would like to undo the changes of commit B, while keeping the changes of commits C and D. If there is a conflict, add in the &quot;conflict dividers&quot;</p>\n<pre class=\"lang-none prettyprint-override\"><code>diff --git a/t.txt b/t.txt\nindex 8422d40..d9a85ba 100644\n--- a/t.txt\n+++ b/t.txt\n@@ -1,4 +1,3 @@\n A\n-B\n C\n D\n</code></pre>\n<h2>edit</h2>\n<p><code>git revert -n B</code> was what I tried, but it just put all the changes in C and D into a conflict...</p>\n<pre><code>$ git revert -n 440e9c\nAuto-merging t.txt\nCONFLICT (content): Merge conflict in t.txt\nerror: could not revert 440e9c1... B\nhint: after resolving the conflicts, mark the corrected paths\nhint: with 'git add &lt;paths&gt;' or 'git rm &lt;paths&gt;'\n\n$ git diff\ndiff --cc t.txt\nindex 8422d40,760a73a..0000000\n--- a/t.txt\n+++ b/t.txt\n@@@ -1,4 -1,2 +1,8 @@@\n  A\n++&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD\n +B\n +C\n +D\n++=======\n+\n++&gt;&gt;&gt;&gt;&gt;&gt;&gt; parent of 440e9c1 (B)\n</code></pre>\n"
    },
    {
        "tags": [
            "html",
            "css",
            "containers",
            "horizontal-line"
        ],
        "owner": {
            "account_id": 40819871,
            "reputation": 21,
            "user_id": 29973382,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/2f43c1e8807185104b8df902a124ba86?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "DenardRaps",
            "link": "https://stackoverflow.com/users/29973382/denardraps"
        },
        "is_answered": true,
        "view_count": 48,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741909682,
        "creation_date": 1741906297,
        "last_edit_date": 1741908938,
        "question_id": 79507808,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507808/code-to-create-notebook-paper-look-and-feel",
        "title": "Code to create notebook paper look and feel",
        "body": "<p>Here is the problem — my vertical line does not properly fill the page when I want to add text to page. I have created the vertical line and the horizontal line with <code>&lt;div&gt;</code>, and they gave me much flexibility. However, now, when I try to input text, everything moves and can't center without jacking up the lines. The view is supposed to look like a notebook sheet of paper. I am not sure if there is a way I can create an image or background and then add text over top. I prefer to have the text inline as if this is pencil on paper. Sorry if this is confusing.</p>\n<p>The larger I make the font or top margin - then the lines move down.</p>\n<p><a href=\"https://i.sstatic.net/gwND8dlI.png\" rel=\"nofollow noreferrer\">HTML code</a><br/>\n<a href=\"https://i.sstatic.net/kZHiHHb8.png\" rel=\"nofollow noreferrer\">CSS code</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n\n.container {\n  min-width: 100%;\n  width: 100%;\n  min-height: 100%;\n  height: 100%;\n  position: relative; /* Needed for absolute positioning of lines */\n}\n\n.topheader {\n    font-family: Patrick Hand, \"cursive\";\n    display: flex;\n    justify-content: center;\n  align-items: center;\n  font-size: larger;\n  font-weight: 100;\n  \n}\n    \n\n\n.redline {\n  min-height: 100vh;\n  height: 100%;\n  background: red;\n  margin-left: 15%;\n  width: 2px;\n  position: relative;\n}\n\n.blackline1,\n.blkline2,\n.blkline3,\n.blkline4,\n.blkline5,\n.blkline6,\n.blkline7,\n.blkline8,\n.blkline9,\n.blkline10,\n.blkline11,\n.blkline12,\n.blkline13,\n.blkline14,\n.blkline15,\n.blkline16,\n.blkline17,\n.blkline18,\n.blkline19,\n.blkline20,\n.blkline21,\n.blkline22,\n.blkline23,\n.blkline24,\n.blkline25,\n.blkline26,\n.blkline27,\n.blkline28,\n.blkline29,\n.blkline30 {\n  height: 3px;\n  min-width: 100vh;\n  width: 100%;\n  background: lightskyblue;\n  position: absolute;\n  /* following 2 code is excellent center  for second line. */\n}\n\n.blackline1 {\n  top: 15%;\n}\n\n.blkline2 {\n  top: 18%;\n}\n\n.blkline3 {\n  top: 21%;\n}\n\n.blkline4 {\n  top: 24%;\n}\n\n.blkline5 {\n  top: 27%;\n}\n\n.blkline6 {\n  top: 30%;\n}\n\n.blkline7 {\n  top: 33%;\n}\n\n.blkline8 {\n  top: 36%;\n}\n\n.blkline9 {\n  top: 39%;\n}\n\n.blkline10 {\n  top: 42%;\n}\n\n.blkline11 {\n  top: 45%;\n}\n\n.blkline12 {\n  top: 48%;\n}\n\n.blkline13 {\n  top: 51%;\n}\n\n.blkline14 {\n  top: 54%;\n}\n\n.blkline15 {\n  top: 57%;\n}\n\n.blkline16 {\n  top: 60%;\n}\n\n.blkline17 {\n  top: 63%;\n}\n\n.blkline18 {\n  top: 66%;\n}\n\n.blkline19 {\n  top: 69%;\n}\n\n.blkline20 {\n  top: 72%;\n}\n\n.blkline21 {\n  top: 75%;\n}\n\n.blkline22 {\n  top: 78%;\n}\n\n.blkline23 {\n  top: 81%;\n}\n\n.blkline24 {\n  top: 84%;\n}\n\n.blkline25 {\n  top: 87%;\n}\n\n.blkline26 {\n  top: 90%;\n}\n\n.blkline27 {\n  top: 93%;\n}\n\n.blkline28 {\n  top: 96%;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\n\n       &lt;div class=\"container\"&gt;\n       &lt;div class=\"topheader\"&gt;\n        &lt;h1 class=\"header\"&gt;DenardRaps&lt;/h1&gt;\n       &lt;/div&gt;\n      &lt;div class=\"redline\"&gt;&lt;/div&gt;\n      &lt;div class=\"blackline1\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline2\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline3\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline4\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline5\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline6\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline7\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline8\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline9\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline10\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline11\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline12\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline13\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline14\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline15\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline16\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline17\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline18\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline19\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline20\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline21\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline22\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline23\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline24\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline25\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline26\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline27\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline28\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline29\"&gt;&lt;/div&gt;\n      &lt;div class=\"blkline30\"&gt;&lt;/div&gt;\n      &lt;div class=\"redline2\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"
    },
    {
        "tags": [
            "python",
            "python-typing"
        ],
        "owner": {
            "account_id": 6527533,
            "reputation": 5068,
            "user_id": 5049813,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/373f50cb30240c30697a6f94ac7ebc17?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Pro Q",
            "link": "https://stackoverflow.com/users/5049813/pro-q"
        },
        "is_answered": false,
        "view_count": 82,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741916689,
        "creation_date": 1741913756,
        "last_edit_date": 1741916689,
        "question_id": 79507953,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79507953/what-type-hint-should-i-use-for-an-object-that-can-be-iterated-through-multiple",
        "title": "What type hint should I use for an object that can be iterated through multiple times?",
        "body": "<p>Sometimes I have a function that takes a parameter, and I need to be able to loop through that parameter multiple times. For example:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def loop_twice(param: MultiIterable):\n    for thing in param:\n        print(thing)\n\n    for thing in param:\n        print(f&quot;{thing} again&quot;)\n</code></pre>\n<p>Importantly, I don't care about ordering (if I did, I would use <code>Sequence</code>). I just want to be able to iterate through the data twice. It could be a <code>Set</code>, a <code>Tuple</code>, a <code>List</code>, or any custom object that supports <code>iter</code> being called on it twice.</p>\n<p><strong>What's the best type-hint for such a parameter?</strong></p>\n<p>Using <code>Iterable</code> doesn't seem right because generators are iterable, but it's also allowed for them to only run once.</p>\n<p><code>Sequence</code> seems closer, but requires <code>__getitem__</code> which I don't need. <code>Collection</code> currently seems like the best option, but I also don't need <code>__contains__</code>. How should I type-hint this?</p>\n"
    },
    {
        "tags": [
            "c",
            "libcurl",
            "nintendo"
        ],
        "owner": {
            "account_id": 32508463,
            "reputation": 21,
            "user_id": 25256919,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/668a82fc09aabc45886281c87ac0356d?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "MonkeyFeet10",
            "link": "https://stackoverflow.com/users/25256919/monkeyfeet10"
        },
        "is_answered": false,
        "view_count": 29,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741923484,
        "creation_date": 1741923204,
        "last_edit_date": 1741923484,
        "question_id": 79508101,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508101/curl-undefined-references-nintendo-homebrew",
        "title": "Curl Undefined References [NINTENDO HOMEBREW]",
        "body": "<p>I'm trying to create a Nintendo Homebrew Application that makes use of curl in libnx. It gives me a bunch of errors for undefined references, and I don't know what to do. Here, I saw people using curl with gcc, which isn't what I need, and solutions for libnx curl I found did not help. I'll provide details below.\nError:</p>\n<pre><code>PS C:\\Users\\{USER}\\Downloads\\Programming\\C\\Homebrew\\applications\\DiscordLogin&gt; make clean &amp;&amp; nacptool --create &quot;Discord Login&quot; &quot;MonkeyFeet10&quot; &quot;1.0.0-DEV&quot; &quot;DiscordLogin.nacp&quot; &amp;&amp; make\nclean ...\nmain.c\nlinking DiscordLogin.elf\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: main.o: in function `tempSendMessage':\nC:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:15:(.text.tempSendMessage+0xc): undefined reference to `curl_global_init'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:16:(.text.tempSendMessage+0x10): undefined reference to `curl_easy_init'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:20:(.text.tempSendMessage+0x2c): undefined reference to `curl_slist_append'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:21:(.text.tempSendMessage+0x38): undefined reference to `curl_slist_append'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:22:(.text.tempSendMessage+0x50): undefined reference to `curl_easy_setopt'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:23:(.text.tempSendMessage+0x60): undefined reference to `curl_easy_setopt'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:24:(.text.tempSendMessage+0x70): undefined reference to `curl_easy_setopt'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:25:(.text.tempSendMessage+0x84): undefined reference to `curl_easy_setopt'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:26:(.text.tempSendMessage+0x8c): undefined reference to `curl_easy_perform'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:30:(.text.tempSendMessage+0x98): undefined reference to `curl_slist_free_all'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:31:(.text.tempSendMessage+0xa0): undefined reference to `curl_easy_cleanup'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:33:(.text.tempSendMessage+0xac): undefined reference to `curl_global_cleanup'\nC:/devkitpro/devkitA64/bin/../lib/gcc/aarch64-none-elf/14.2.0/../../../../aarch64-none-elf/bin/ld.exe: C:/Users/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/source/main.c:28:(.text.tempSendMessage+0xb0): undefined reference to `curl_easy_strerror'\ncollect2.exe: error: ld returned 1 exit status\nmake[1]: *** [C:\\devkitpro/libnx/switch_rules:81: /home/{USER}/Downloads/Programming/C/Homebrew/applications/DiscordLogin/DiscordLogin.elf] Error 1\nmake: *** [Makefile:169: build] Error 2\nPS C:\\Users\\{USER}\\Downloads\\Programming\\C\\Homebrew\\applications\\DiscordLogin&gt; \n</code></pre>\n<ul>\n<li>Operating System: Windows</li>\n<li>DevKitPro Install Directory: &quot;C:\\devkitPro\\&quot;</li>\n<li>Running In Visual Studio Code</li>\n</ul>\n<p>I tried modifying the Makefile according to what I saw for the same error in libnx curl on the internet, but it didn't work.</p>\n<p>{PROJECT}\\source\\main.c (minimal):</p>\n<pre><code>#include &lt;switch.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;netinet/in.h&gt;\n#include &lt;arpa/inet.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;curl/curl.h&gt;\n\n#define API &quot;https://discord.com/api/v10/channels/CHANNELID/messages&quot;\n#define TOKEN &quot;BOT TOKEN&quot;\n\nint main(int argc, char* argv[]) {\n    //Initialize\n    consoleInit(NULL);\n    padConfigureInput(1, HidNpadStyleSet_NpadStandard);\n    PadState pad;\n    padInitializeDefault(&amp;pad);\n    //Curl\n    curl_global_init(CURL_GLOBAL_DEFAULT);\n    CURL *curl = curl_easy_init();\n    if (curl) {\n        char *json = &quot;{\\&quot;content\\&quot;: \\&quot;NXDiscord Message Received! Hello from Nintendo Switch!\\&quot;}&quot;;\n        struct curl_slist *headers = NULL;\n        headers = curl_slist_append(headers, &quot;Content-Type: application/json&quot;);\n        headers = curl_slist_append(headers, &quot;Authorization: Bot &quot; TOKEN);\n        curl_easy_setopt(curl, CURLOPT_URL, API);\n        curl_easy_setopt(curl, CURLOPT_HTTPHEADER, headers);\n        curl_easy_setopt(curl, CURLOPT_POST, 1L);\n        curl_easy_setopt(curl, CURLOPT_POSTFIELDS, json);\n        CURLcode res = curl_easy_perform(curl);\n        if (res != CURLE_OK) {\n            printf(&quot;Error: curl_easy_perform() failed. Details: %s\\n&quot;, curl_easy_strerror(res));\n        }\n        curl_slist_free_all(headers);\n        curl_easy_cleanup(curl);\n    }\n    curl_global_cleanup();\n    while (appletMainLoop()) {\n        padUpdate(&amp;pad);\n        u64 kDown = padGetButtonsDown(&amp;pad);\n        if (kDown &amp; HidNpadButton_Plus) {\n            break;\n        consoleUpdate(NULL);\n        }\n    }\n    consoleExit(NULL);\n    return 0;\n}\n</code></pre>\n<p>{PROJECT}\\Makefile:</p>\n<pre><code>#---------------------------------------------------------------------------------\n.SUFFIXES:\n#---------------------------------------------------------------------------------\n\nifeq ($(strip $(DEVKITPRO)),)\n$(error &quot;Please set DEVKITPRO in your environment. export DEVKITPRO=&lt;path to&gt;/devkitpro&quot;)\nendif\n\nTOPDIR ?= $(CURDIR)\ninclude $(DEVKITPRO)/libnx/switch_rules\n\n#---------------------------------------------------------------------------------\n# TARGET is the name of the output\n# BUILD is the directory where object files &amp; intermediate files will be placed\n# SOURCES is a list of directories containing source code\n# DATA is a list of directories containing data files\n# INCLUDES is a list of directories containing header files\n# ROMFS is the directory containing data to be added to RomFS, relative to the Makefile (Optional)\n#\n# NO_ICON: if set to anything, do not use icon.\n# NO_NACP: if set to anything, no .nacp file is generated.\n# APP_TITLE is the name of the app stored in the .nacp file (Optional)\n# APP_AUTHOR is the author of the app stored in the .nacp file (Optional)\n# APP_VERSION is the version of the app stored in the .nacp file (Optional)\n# APP_TITLEID is the titleID of the app stored in the .nacp file (Optional)\n# ICON is the filename of the icon (.jpg), relative to the project folder.\n#   If not set, it attempts to use one of the following (in this order):\n#     - &lt;Project name&gt;.jpg\n#     - icon.jpg\n#     - &lt;libnx folder&gt;/default_icon.jpg\n#\n# CONFIG_JSON is the filename of the NPDM config file (.json), relative to the project folder.\n#   If not set, it attempts to use one of the following (in this order):\n#     - &lt;Project name&gt;.json\n#     - config.json\n#   If a JSON file is provided or autodetected, an ExeFS PFS0 (.nsp) is built instead\n#   of a homebrew executable (.nro). This is intended to be used for sysmodules.\n#   NACP building is skipped as well.\n#---------------------------------------------------------------------------------\nTARGET      :=  $(notdir $(CURDIR))\nBUILD       :=  build\nSOURCES     :=  source\nDATA        :=  data\nINCLUDES    :=  include\n#ROMFS  :=  romfs\n\n#---------------------------------------------------------------------------------\n# options for code generation\n#---------------------------------------------------------------------------------\nARCH    :=  -march=armv8-a+crc+crypto -mtune=cortex-a57 -mtp=soft -fPIE\n\nCFLAGS  :=  -g -Wall -O2 -ffunction-sections \\\n            $(ARCH) $(DEFINES)\n\nCFLAGS  +=  $(INCLUDE) -D__SWITCH__\n\nCXXFLAGS    := $(CFLAGS) -fno-rtti -fno-exceptions\n\nASFLAGS :=  -g $(ARCH)\nLDFLAGS =   -specs=$(DEVKITPRO)/libnx/switch.specs -g $(ARCH) -Wl,-Map,$(notdir $*.map)\n\nLIBS    := -lnx\n\n#---------------------------------------------------------------------------------\n# list of directories containing libraries, this must be the top level containing\n# include and lib\n#---------------------------------------------------------------------------------\nLIBDIRS := $(PORTLIBS) $(LIBNX)\n\n\n#---------------------------------------------------------------------------------\n# no real need to edit anything past this point unless you need to add additional\n# rules for different file extensions\n#---------------------------------------------------------------------------------\nifneq ($(BUILD),$(notdir $(CURDIR)))\n#---------------------------------------------------------------------------------\n\nexport OUTPUT   :=  $(CURDIR)/$(TARGET)\nexport TOPDIR   :=  $(CURDIR)\n\nexport VPATH    :=  $(foreach dir,$(SOURCES),$(CURDIR)/$(dir)) \\\n            $(foreach dir,$(DATA),$(CURDIR)/$(dir))\n\nexport DEPSDIR  :=  $(CURDIR)/$(BUILD)\n\nCFILES      :=  $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.c)))\nCPPFILES    :=  $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.cpp)))\nSFILES      :=  $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.s)))\nBINFILES    :=  $(foreach dir,$(DATA),$(notdir $(wildcard $(dir)/*.*)))\n\n#---------------------------------------------------------------------------------\n# use CXX for linking C++ projects, CC for standard C\n#---------------------------------------------------------------------------------\nifeq ($(strip $(CPPFILES)),)\n#---------------------------------------------------------------------------------\n    export LD   :=  $(CC)\n#---------------------------------------------------------------------------------\nelse\n#---------------------------------------------------------------------------------\n    export LD   :=  $(CXX)\n#---------------------------------------------------------------------------------\nendif\n#---------------------------------------------------------------------------------\n\nexport OFILES_BIN   :=  $(addsuffix .o,$(BINFILES))\nexport OFILES_SRC   :=  $(CPPFILES:.cpp=.o) $(CFILES:.c=.o) $(SFILES:.s=.o)\nexport OFILES   :=  $(OFILES_BIN) $(OFILES_SRC)\nexport HFILES_BIN   :=  $(addsuffix .h,$(subst .,_,$(BINFILES)))\n\nexport INCLUDE  :=  $(foreach dir,$(INCLUDES),-I$(CURDIR)/$(dir)) \\\n            $(foreach dir,$(LIBDIRS),-I$(dir)/include) \\\n            -I$(CURDIR)/$(BUILD)\n\nexport LIBPATHS :=  $(foreach dir,$(LIBDIRS),-L$(dir)/lib)\n\nifeq ($(strip $(CONFIG_JSON)),)\n    jsons := $(wildcard *.json)\n    ifneq (,$(findstring $(TARGET).json,$(jsons)))\n        export APP_JSON := $(TOPDIR)/$(TARGET).json\n    else\n        ifneq (,$(findstring config.json,$(jsons)))\n            export APP_JSON := $(TOPDIR)/config.json\n        endif\n    endif\nelse\n    export APP_JSON := $(TOPDIR)/$(CONFIG_JSON)\nendif\n\nifeq ($(strip $(ICON)),)\n    icons := $(wildcard *.jpg)\n    ifneq (,$(findstring $(TARGET).jpg,$(icons)))\n        export APP_ICON := $(TOPDIR)/$(TARGET).jpg\n    else\n        ifneq (,$(findstring icon.jpg,$(icons)))\n            export APP_ICON := $(TOPDIR)/icon.jpg\n        endif\n    endif\nelse\n    export APP_ICON := $(TOPDIR)/$(ICON)\nendif\n\nifeq ($(strip $(NO_ICON)),)\n    export NROFLAGS += --icon=$(APP_ICON)\nendif\n\nifeq ($(strip $(NO_NACP)),)\n    export NROFLAGS += --nacp=$(CURDIR)/$(TARGET).nacp\nendif\n\nifneq ($(APP_TITLEID),)\n    export NACPFLAGS += --titleid=$(APP_TITLEID)\nendif\n\nifneq ($(ROMFS),)\n    export NROFLAGS += --romfsdir=$(CURDIR)/$(ROMFS)\nendif\n\n.PHONY: $(BUILD) clean all\n\n#---------------------------------------------------------------------------------\nall: $(BUILD)\n\n$(BUILD):\n    @[ -d $@ ] || mkdir -p $@\n    @$(MAKE) --no-print-directory -C $(BUILD) -f $(CURDIR)/Makefile\n\n#---------------------------------------------------------------------------------\nclean:\n    @echo clean ...\nifeq ($(strip $(APP_JSON)),)\n    @rm -fr $(BUILD) $(TARGET).nro $(TARGET).nacp $(TARGET).elf\nelse\n    @rm -fr $(BUILD) $(TARGET).nsp $(TARGET).nso $(TARGET).npdm $(TARGET).elf\nendif\n\n\n#---------------------------------------------------------------------------------\nelse\n.PHONY: all\n\nDEPENDS :=  $(OFILES:.o=.d)\n\n#---------------------------------------------------------------------------------\n# main targets\n#---------------------------------------------------------------------------------\nifeq ($(strip $(APP_JSON)),)\n\nall :   $(OUTPUT).nro\n\nifeq ($(strip $(NO_NACP)),)\n$(OUTPUT).nro   :   $(OUTPUT).elf $(OUTPUT).nacp\nelse\n$(OUTPUT).nro   :   $(OUTPUT).elf\nendif\n\nelse\n\nall :   $(OUTPUT).nsp\n\n$(OUTPUT).nsp   :   $(OUTPUT).nso $(OUTPUT).npdm\n\n$(OUTPUT).nso   :   $(OUTPUT).elf\n\nendif\n\n$(OUTPUT).elf   :   $(OFILES)\n\n$(OFILES_SRC)   : $(HFILES_BIN)\n\n#---------------------------------------------------------------------------------\n# you need a rule like this for each extension you use as binary data\n#---------------------------------------------------------------------------------\n%.bin.o %_bin.h :   %.bin\n#---------------------------------------------------------------------------------\n    @echo $(notdir $&lt;)\n    @$(bin2o)\n\n-include $(DEPENDS)\n\n#---------------------------------------------------------------------------------------\nendif\n#---------------------------------------------------------------------------------------\n</code></pre>\n"
    },
    {
        "tags": [
            "python",
            "c",
            "serialization"
        ],
        "owner": {
            "account_id": 40816787,
            "reputation": 23,
            "user_id": 29971104,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9bc78cedb412e9f550ef2cf9e60e6f5a?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user29971104",
            "link": "https://stackoverflow.com/users/29971104/user29971104"
        },
        "is_answered": true,
        "view_count": 62,
        "accepted_answer_id": 79508183,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741939009,
        "creation_date": 1741925617,
        "last_edit_date": 1741939009,
        "question_id": 79508139,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508139/how-to-transfer-this-part-of-code-from-c-to-python-using-dataclass",
        "title": "How to transfer this part of code from C to Python using dataclass",
        "body": "<p>I have this structure in C:</p>\n<pre class=\"lang-c prettyprint-override\"><code>MAX_NUMBER_OF_ITEMS = 9\n\ntypedef struct {   \n   uint64_t status;    \n   uint8_t serial_number_of_items [MAX_NUMBER_OF_ITEMS];   \n   uint8_t version;\n} Items_Info_t;\n</code></pre>\n<p>How can I convert it to Python, specifically the part:</p>\n<pre class=\"lang-c prettyprint-override\"><code>uint8_t number_of_items [MAX_NUMBER_OF_ITEMS]\n</code></pre>\n<p>I try to do this way:</p>\n<pre><code>class SensorInfo:\n    status: int\n    serial_number_of_items: List[int] \n    version: int\n</code></pre>\n<p>Also, how can I perform serialization using <code>struct.pack</code> after that?</p>\n"
    },
    {
        "tags": [
            "spring-boot",
            "maven"
        ],
        "owner": {
            "account_id": 6524069,
            "reputation": 785,
            "user_id": 5047297,
            "user_type": "registered",
            "accept_rate": 53,
            "profile_image": "https://www.gravatar.com/avatar/5871acbd29a8728b33becc2267a57291?s=256&d=identicon&r=PG",
            "display_name": "WestFarmer",
            "link": "https://stackoverflow.com/users/5047297/westfarmer"
        },
        "is_answered": false,
        "view_count": 22,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741933527,
        "creation_date": 1741933527,
        "question_id": 79508282,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508282/why-spring-boot-maven-plugin-exclude-my-resource-file-in-final-jar",
        "title": "Why spring-boot maven plugin exclude my resource file in final jar",
        "body": "<p>I have spring-boot 3.4.3 project:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;add-source&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;sources&gt;\n            &lt;source&gt;src/main/generated&lt;/source&gt;\n          &lt;/sources&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>I add a dir as source directory using the plugin <code>build-helper-maven-plugin</code>, In that <code>src/main/generated</code> folder, there are java files and XML files, after run <code>mvn clean package</code>, only java class files was included, all XML files wrere missing..</p>\n<p>but both java classes files and XML files were in <code>target/classes</code></p>\n<p>I tried to look into configs of both <code>build-helper-maven-plugin</code> and <code>spring-boot-maven-plugin</code>, can't found suspicious config.</p>\n"
    },
    {
        "tags": [
            "c",
            "ctags"
        ],
        "owner": {
            "account_id": 12937647,
            "reputation": 1094,
            "user_id": 9354476,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/3e8303c8b7e4901524556e05b723c54e?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Syed Waris",
            "link": "https://stackoverflow.com/users/9354476/syed-waris"
        },
        "is_answered": false,
        "view_count": 64,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1742031974,
        "creation_date": 1741934603,
        "last_edit_date": 1741940345,
        "question_id": 79508304,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508304/c-code-base-ctags-only-adds-entry-of-the-function-declaration-and-not-function",
        "title": "C Code base: ctags only adds entry of the function declaration and not function definition",
        "body": "<p>I am having C code base on Ubuntu Linux and I am using <code>ctags</code> for code browsing.</p>\n<pre><code>$ ctags --version\nExuberant Ctags 5.9~svn20110310, Copyright (C) 1996-2009 Darren Hiebert\n  Addresses: &lt;dhiebert@users.sourceforge.net&gt;, http://ctags.sourceforge.net\n  Optional compiled features: +wildcards, +regex\n</code></pre>\n<p>In my project root, I run the command:<br />\n<code>ctags -R *</code><br />\nThis generates <code>tags</code> file</p>\n<p><code>ctags</code> only adds entry of the function declaration and not function definition in the <code>tags</code> file.</p>\n<p>Suppose my C file is:</p>\n<pre><code>static int fxn(int conn_handle, int attr_handle, \n                        int q);\n\n\n// later\n\nstatic int fxn(int conn_handle, int attr_handle, \n                        int q) {\n                                 \n    int ret = 0;\n                                 \n}\n\n\n</code></pre>\n<p>in the <code>tags</code> file, only the declaration of <code>fxn</code> is present. I want both the entries of the <code>fxn</code> tag (declaration + definition) in the <code>tags</code> file. How can I have this ??</p>\n<p>I have also tried with <code>universal-ctags</code> but the same problem persists.</p>\n<p><strong>FURTHER TESTS:</strong><br />\n<code>universal ctags</code> behaves differently on below <strong>same</strong> codes:</p>\n<pre><code>static int fxn(int conn_handle, int attr_handle, int q);\n\n\n// later\n\nstatic int fxn(int conn_handle, int attr_handle, int q) {\n\n        int ret = 0;\n\n}\n\n</code></pre>\n<p>On above code <code>universal-ctags -R *</code> adds only the <strong>definition</strong> of <code>fxn</code> in the <code>tags</code> file. But if I move the 3rd argument to the next line, ctags behaves differently. See below:</p>\n<pre><code>static int fxn(int conn_handle, int attr_handle, \n                        int q);\n\n\n// later\n\nstatic int fxn(int conn_handle, int attr_handle, \n                        int q) {\n                                 \n    int ret = 0;\n                                 \n}\n\n</code></pre>\n<p>Now, <code>universal-ctags -R *</code> adds only the <strong>declaration</strong> of <code>fxn</code> in the <code>tags</code> file.</p>\n"
    },
    {
        "tags": [
            "angular",
            "angular-routing",
            "angular-router"
        ],
        "owner": {
            "account_id": 15212766,
            "reputation": 495,
            "user_id": 10976980,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/-6RDdC3hZ7Mg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP1DGlLfeThirN3JoOUV6sLWrsFkQ/mo/photo.jpg?sz=256",
            "display_name": "Michał B",
            "link": "https://stackoverflow.com/users/10976980/micha%c5%82-b"
        },
        "is_answered": true,
        "view_count": 33,
        "accepted_answer_id": 79508511,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741946527,
        "creation_date": 1741941283,
        "question_id": 79508493,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508493/cannot-match-children-routes-of-blank-path",
        "title": "Cannot match children routes of blank path",
        "body": "<p>I have this configuration in my routing in Angular:</p>\n<pre><code>...\n{\n          path: 'account',\n          canActivate: [AuthGuardService],\n          children: [\n            {\n              path: '',\n              component: AccountPageComponent,\n              outlet: 'modal',\n              children: [\n                {\n                  path: 'pets',\n                  component: PetsComponent,\n                  children: [\n                    {\n                      path: ':id',\n                      component: PetComponent,\n                    }\n                  ]\n                },\n                {\n                  path: 'user',\n                  component: UserComponent,\n                }\n              ]\n            }\n          ]\n        }\n...\n</code></pre>\n<p>Account route is working as expected and opening in desired outlet. <code>AccountPageComponent</code> has his own nameless outlet for this route children. But when I'm navigating to any of them I'm receiving following errors:</p>\n<blockquote>\n<p>NG04002: Cannot match any routes. URL Segment: 'account/user'</p>\n<p>NG04002: Cannot match any routes. URL Segment: 'account/pets'</p>\n</blockquote>\n<p>How can I fix this?</p>\n<p>Thanks</p>\n"
    },
    {
        "tags": [
            "java",
            "datetime",
            "deserialization",
            "jackson-databind",
            "java-21"
        ],
        "owner": {
            "account_id": 2643205,
            "reputation": 437,
            "user_id": 2286446,
            "user_type": "registered",
            "accept_rate": 50,
            "profile_image": "https://i.sstatic.net/n1Mrf.jpg?s=256",
            "display_name": "Zoe",
            "link": "https://stackoverflow.com/users/2286446/zoe"
        },
        "is_answered": false,
        "view_count": 78,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741964831,
        "creation_date": 1741942682,
        "last_edit_date": 1741962883,
        "question_id": 79508544,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508544/java-8-date-time-type-serialization-fails",
        "title": "Java 8 date/time type serialization fails",
        "body": "<p>I am using Java 21 with Spring Boot 3 and Spring 6 to send a custom object to an SQS queue.</p>\n<pre><code>public class Event {\n    String eventName;\n    Instant dateTime;\n}\n</code></pre>\n<p>My SQS message listener is set up as follows:</p>\n<pre><code>@SqsListener(value = &quot;${sqs.queue.event.in}&quot;, acknowledgementMode = SqsListenerAcknowledgementMode.MANUAL)\n   public void receiveHourEvent(Acknowledgement acknowledgement, String event) {\n  ///do something \n}\n\n</code></pre>\n<p>To handle JSON serialization and deserialization properly, I have configured a custom ObjectMapper in my Spring configuration:</p>\n<pre><code>public class MyConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = JsonMappers.getObjectMapper();\n        // Register the JavaTimeModule to support Java 8 date/time types\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        return objectMapper;\n\n    }\n\n    @Bean\n    public SqsMessagingMessageConverter sqsMessagingMessageConverter(SqsExtendedClient sqsExtendedClient, ObjectMapper objectMapper) {\n        ExtendedSqsMessagingMessageConverter converter = new ExtendedSqsMessagingMessageConverter(sqsExtendedClient);\n        converter.setObjectMapper(objectMapper);\n        return converter;\n    }\n}\n\n    @Bean\n    SqsTemplate sqsTemplate(SqsAsyncClient sqsAsyncClient, SqsMessagingMessageConverter sqsMessagingMessageConverter, MappingJackson2MessageConverter mappingJackson2MessageConverter) {\n        SqsTemplate sqsTemplate = SqsTemplate.builder()\n                .sqsAsyncClient(sqsAsyncClient)\n                .messageConverter(sqsMessagingMessageConverter)\n                .build();\n        return sqsTemplate;\n    }\n</code></pre>\n<p>I have ensured there are no dependency conflicts and that the required Jackson modules for Java 8 date/time support are included:</p>\n<pre><code>        &lt;!--JSON serialization--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When sending a message to the queue:</p>\n<pre><code>        sqsTemplate.send(queueName, event);\n\n</code></pre>\n<p>The message is sent as a custom object, but since my listener accepts a String, it fails to deserialize the Instant dateTime field properly.</p>\n<p>Full error log:</p>\n<pre><code>org.springframework.messaging.converter.MessageConversionException: Could not read JSON: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 122] (through reference chain: no.embriq.quant.flow.typelib.common.QFEvent[&quot;dateCreated&quot;])\n    at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:256)\n    at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:183)\n    at org.springframework.messaging.converter.AbstractMessageConverter.fromMessage(AbstractMessageConverter.java:174)\n    at org.springframework.messaging.converter.CompositeMessageConverter.fromMessage(CompositeMessageConverter.java:57)\n    at io.awspring.cloud.sqs.support.converter.AbstractMessagingMessageConverter.convertPayload(AbstractMessagingMessageConverter.java:182)\n    at io.awspring.cloud.sqs.support.converter.AbstractMessagingMessageConverter.toMessagingMessage(AbstractMessagingMessageConverter.java:163)\n    at io.awspring.cloud.sqs.listener.source.AbstractMessageConvertingMessageSource.convertMessage(AbstractMessageConvertingMessageSource.java:99)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at io.awspring.cloud.sqs.listener.source.AbstractMessageConvertingMessageSource.convertMessages(AbstractMessageConvertingMessageSource.java:90)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncApiCallMetricCollectionStage.lambda$execute$0(AsyncApiCallMetricCollectionStage.java:58)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncApiCallTimeoutTrackingStage.lambda$execute$2(AsyncApiCallTimeoutTrackingStage.java:69)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.AsyncRetryableStage$RetryingExecutor.lambda$attemptExecute$1(AsyncRetryableStage.java:177)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$execute$0(MakeAsyncHttpRequestStage.java:110)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.completeResponseFuture(MakeAsyncHttpRequestStage.java:253)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$executeHttpRequest$3(MakeAsyncHttpRequestStage.java:167)\n    at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)\n    at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)\n    at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 122] (through reference chain: no.embriq.quant.flow.typelib.common.QFEvent[&quot;dateCreated&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1887)\n    at com.fasterxml.jackson.databind.deser.impl.UnsupportedTypeDeserializer.deserialize(UnsupportedTypeDeserializer.java:48)\n    at com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:138)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:399)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4905)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3848)\n    at org.springframework.messaging.converter.MappingJackson2MessageConverter.convertFromInternal(MappingJackson2MessageConverter.java:251)\n    ... 45 common frames omitted\n</code></pre>\n<p>How can I ensure that my custom ObjectMapper is correctly injected and used for deserialization in the listener?</p>\n"
    },
    {
        "tags": [
            "android",
            "sdk",
            "callkit",
            "trtc.io"
        ],
        "owner": {
            "account_id": 30408260,
            "reputation": 41,
            "user_id": 27156870,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/lGW0DsD9.png?s=256",
            "display_name": "Echo",
            "link": "https://stackoverflow.com/users/27156870/echo"
        },
        "is_answered": true,
        "view_count": 23,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1741949381,
        "creation_date": 1741944025,
        "last_edit_date": 1741949381,
        "question_id": 79508602,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508602/manifest-merger-failed-due-to-allowbackup-attribute-in-tuicallkit",
        "title": "Manifest merger failed due to allowBackup attribute in TUICallKit",
        "body": "<p>I'm facing an issue during the build process of my Android application that uses TUICallKit. The error message I receive is:</p>\n<pre><code>Manifest merger failed : Attribute application@allowBackup value=(true) from AndroidManifest.xml\n</code></pre>\n<p>I would like to know how to resolve this conflict and properly set the allowBackup attribute in my AndroidManifest.xml.</p>\n"
    },
    {
        "tags": [
            "spring",
            "spring-webflux",
            "server-sent-events",
            "retrywhen"
        ],
        "owner": {
            "account_id": 1010858,
            "reputation": 897,
            "user_id": 1023458,
            "user_type": "registered",
            "accept_rate": 36,
            "profile_image": "https://www.gravatar.com/avatar/37123ebe18e71cf6a7ee4a30b133adeb?s=256&d=identicon&r=PG",
            "display_name": "Maarten Boekhold",
            "link": "https://stackoverflow.com/users/1023458/maarten-boekhold"
        },
        "is_answered": false,
        "view_count": 28,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741973746,
        "creation_date": 1741952562,
        "question_id": 79508967,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508967/spring-webflux-sse-connection-retries-and-updating-header-on-each-retry",
        "title": "Spring WebFlux SSE connection, retries and updating header on each retry",
        "body": "<p>I establish a ServerSentEvent connection using the code below. The GET request must have a &quot;Last-Event-ID&quot; HTTP Header set that indicates the last fully processed event. Occasionally the Server can close the connection, upon which I need to retry it. On each retry however I need to <strong>update</strong> the value of the &quot;Last-Event-ID&quot; header.</p>\n<p>The code below works, including the retries. But it does not update the value of &quot;Last-Event-ID&quot; header before retrying. It always uses the value that was assigned initially.</p>\n<p>Can anybody point me in the right direction on how to implement this correctly?</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ParameterizedTypeReference&lt;ServerSentEvent&lt;String&gt;&gt; type\n                = new ParameterizedTypeReference&lt;&gt;() {\n        };\n\n        var req = webClient.get()\n                .uri(&quot;/the/end/point&quot;);\n\n        String lastEventId = loadLastId();\n        if (lastEventId != null &amp;&amp; !lastEventId.isEmpty()) {\n            req = req.header(&quot;Last-Event-ID&quot;, lastEventId);\n        }\n\n        req\n            .retrieve()\n            .bodyToFlux(type)\n            .retryWhen(Retry\n                .backoff(\n                    maxRetries,\n                    Duration.ofSeconds(retryBackoffStep)\n                )\n                .maxBackoff(Duration.ofSeconds(10))\n                .transientErrors(true)\n                .filter(t -&gt; {\n                    log.warn(&quot;SSE Notification Channel: connection error detected&quot;, t);\n                    return !(t instanceof ClientAuthorizationException)\n                        &amp;&amp; !(t instanceof WebClientResponseException.Forbidden)\n                        &amp;&amp; !(t instanceof WebClientResponseException.NotFound);\n                })\n                .doBeforeRetry(signal -&gt; {\n                    // How can I do the following?\n                    // req.header(&quot;Last-Event-ID&quot;, loadLastId());\n                    log.warn(&quot;SSE Notification Channel: retry SSE connection, attempt {}&quot;,\n                                    signal.totalRetriesInARow() + 1)\n                })\n                .doAfterRetry(signal -&gt;\n                    log.warn(&quot;SSE Notification Channel: retried SSE connection, attempt {}, successful = {}&quot;,\n                                    signal.totalRetriesInARow() + 1, signal.failure() == null))\n                .onRetryExhaustedThrow((retryBackoffSpec, signal) -&gt; {\n                    log.error(&quot;SSE Notification Channel: SSE connection retries exhausted&quot;);\n                    return signal.failure();\n                })\n            )\n            .subscribe(\n                this::handleContent,\n                this::handleError,\n                () -&gt; log.error(&quot;SSE Notification Channel: SSE connection closed&quot;)\n            );\n</code></pre>\n"
    },
    {
        "tags": [
            "c#",
            "wpf",
            "xaml",
            "button"
        ],
        "owner": {
            "account_id": 38748406,
            "reputation": 55,
            "user_id": 28944487,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/33707901366f8c68560c43057f89ed75?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "RoDeZ",
            "link": "https://stackoverflow.com/users/28944487/rodez"
        },
        "is_answered": true,
        "view_count": 36,
        "accepted_answer_id": 79509382,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741963652,
        "creation_date": 1741952875,
        "question_id": 79508986,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79508986/how-do-i-make-a-smooth-transition-in-the-slider-switch",
        "title": "How do I make a smooth transition in the slider switch?",
        "body": "<p>I'm trying to make a slider switch in XAML, but when you click on this button, the circle of the switch does not move, I seem to have written everything correctly, but alas, I can't find the error, as well as its solution. Here is the code that I managed to write:</p>\n<pre><code>&lt;ToggleButton x:Name=&quot;toggleSwitch&quot; Width=&quot;30&quot; Height=&quot;18&quot; \n                    Style=&quot;{StaticResource CustomToggleSwitch}&quot;/&gt;\n\n&lt;Style TargetType=&quot;ToggleButton&quot; x:Key=&quot;CustomToggleSwitch&quot;&gt;\n    &lt;Setter Property=&quot;Template&quot;&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=&quot;ToggleButton&quot;&gt;\n                &lt;StackPanel&gt;\n                    &lt;Border x:Name=&quot;BorderElement&quot; CornerRadius=&quot;8&quot; Width=&quot;28&quot; Height=&quot;18&quot;&gt;\n                        &lt;Border.Background&gt;\n                            &lt;SolidColorBrush Color=&quot;#252525&quot;/&gt;\n                        &lt;/Border.Background&gt;\n                        &lt;Border.BorderBrush&gt;\n                            &lt;SolidColorBrush Color=&quot;#333333&quot;/&gt;\n                        &lt;/Border.BorderBrush&gt;\n                        &lt;Border.BorderThickness&gt;\n                            &lt;Thickness&gt;2&lt;/Thickness&gt;\n                        &lt;/Border.BorderThickness&gt;\n                        &lt;Ellipse x:Name=&quot;SwitchEllipse&quot; \n                             Fill=&quot;#848386&quot; \n                             Width=&quot;10&quot; \n                             Height=&quot;10&quot; \n                             HorizontalAlignment=&quot;Left&quot;\n                             VerticalAlignment=&quot;Center&quot;\n                             Margin=&quot;2&quot;&gt;\n                            &lt;Ellipse.RenderTransform&gt;\n                                &lt;TranslateTransform x:Name=&quot;EllipseTranslateTransform&quot; /&gt;\n                            &lt;/Ellipse.RenderTransform&gt;\n                        &lt;/Ellipse&gt;\n                    &lt;/Border&gt;\n                &lt;/StackPanel&gt;\n                &lt;ControlTemplate.Triggers&gt;\n                    &lt;Trigger Property=&quot;IsChecked&quot; Value=&quot;True&quot;&gt;\n                        &lt;Setter TargetName=&quot;SwitchEllipse&quot; Property=&quot;Fill&quot; Value=&quot;#F5F1FF&quot;/&gt;\n                        &lt;Setter TargetName=&quot;BorderElement&quot; Property=&quot;Background&quot; Value=&quot;#725DFF&quot;/&gt;\n                        &lt;Trigger.EnterActions&gt;\n                            &lt;BeginStoryboard&gt;\n                                &lt;Storyboard&gt;\n                                    &lt;DoubleAnimation Storyboard.TargetName=&quot;EllipseTranslateTransform&quot;\n                                                 Storyboard.TargetProperty=&quot;X&quot;\n                                                 To=&quot;25&quot; Duration=&quot;0:0:0.2&quot;/&gt;\n                                    &lt;!-- Движение вправо --&gt;\n                                &lt;/Storyboard&gt;\n                            &lt;/BeginStoryboard&gt;\n                        &lt;/Trigger.EnterActions&gt;\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=&quot;IsChecked&quot; Value=&quot;False&quot;&gt;\n                        &lt;Setter TargetName=&quot;SwitchEllipse&quot; Property=&quot;Fill&quot; Value=&quot;#848386&quot;/&gt;\n                        &lt;Setter TargetName=&quot;BorderElement&quot; Property=&quot;Background&quot; Value=&quot;#252525&quot;/&gt;\n                        &lt;Trigger.EnterActions&gt;\n                            &lt;BeginStoryboard&gt;\n                                &lt;Storyboard&gt;\n                                    &lt;DoubleAnimation Storyboard.TargetName=&quot;EllipseTranslateTransform&quot;\n                                                 Storyboard.TargetProperty=&quot;X&quot;\n                                                 To=&quot;0&quot; Duration=&quot;0:0:0.2&quot;/&gt;\n                                    &lt;!-- Возвращение влево --&gt;\n                                &lt;/Storyboard&gt;\n                            &lt;/BeginStoryboard&gt;\n                        &lt;/Trigger.EnterActions&gt;\n                    &lt;/Trigger&gt;\n                &lt;/ControlTemplate.Triggers&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n<p>this is how it should look like:</p>\n<p><a href=\"https://i.sstatic.net/CUfEixTr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/CUfEixTr.png\" alt=\"enter image description here\" /></a></p>\n"
    },
    {
        "tags": [
            "sql",
            "sql-server",
            "t-sql",
            "transactions"
        ],
        "owner": {
            "account_id": 4874019,
            "reputation": 185,
            "user_id": 3929669,
            "user_type": "registered",
            "accept_rate": 0,
            "profile_image": "https://i.sstatic.net/YFQ6J.jpg?s=256",
            "display_name": "rezdm",
            "link": "https://stackoverflow.com/users/3929669/rezdm"
        },
        "is_answered": true,
        "view_count": 93,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741984437,
        "creation_date": 1741958161,
        "last_edit_date": 1741967965,
        "question_id": 79509183,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509183/transaction-deadlock-when-using-nvarcharmax",
        "title": "Transaction deadlock when using nvarchar(max)",
        "body": "<p>We came across an behaviour that I cannot explain. For context: SQL Server 2022 (v16.00.1135). A stored procedure has the following code:</p>\n<pre><code>begin try\n    begin transaction\n      drop table if exists #reports;\n      drop table if exists #details;\n        select\n          reportId\n        , reportName\n        , details\n      into #reports\n      from openjson(@parameter) with (\n          reportId int '$.reportId'\n        , reportName nvarchar(100) '$.reportName'\n        , details nvarchar(max) '$.reportDetails' as json\n      )\n\n      select\n          #reports.reportId\n        , details.detailId\n        , details.text -- (*)\n      into #details\n      from #reports\n      outer apply openjson(#reports.details) with (\n          detailId nvarchar(50) '$.detailId'\n        , text nvarchar(max) '$.text' -- (**)\n      ) as details\n      \n      -- acutal data processing goes here\n      select * from #reports\n      select * from #details\n      -- further create/update/... records in tables\n    commit transaction\n  end try\n    begin catch\n      -- process error ...\n      rollback transaction;\n  end catch;\n</code></pre>\n<p>An example of data is:</p>\n<pre><code>    declare @parameter nvarchar(max) = '[\n      {\n        &quot;reportId&quot;: 1,\n        &quot;reportName&quot;: &quot;repN&quot;,\n        &quot;reportDetails&quot;: [\n          {&quot;detailId&quot;: &quot;9&quot;, &quot;text&quot;: &quot;aaa&quot;},\n          {&quot;detailId&quot;: &quot;8&quot;, &quot;text&quot;: &quot;bbb&quot;}\n        ]\n      },\n      {\n        &quot;reportId&quot;: 2,\n        &quot;reportName&quot;: &quot;repII&quot;,\n        &quot;reportDetails&quot;: []\n      }\n    ]'\n</code></pre>\n<pre><code>The result is:\n</code></pre>\n<pre><code>reportId    reportName  details\n1   repN    &quot;[ ...&quot;\n2   repII   &quot;[]&quot;\n\n\nreportId    detailId    text\n1   a   9\n1   b   8\n2   (null)  (null)\n</code></pre>\n<p>The above is as expected.</p>\n<p>This is a bit simplified code -- in real code I have 25 columns in &quot;reports&quot; and about 30 in details.</p>\n<p>In certain conditions I receive the following error message:</p>\n<pre><code>        2 Procedure ...name... . \nError 1205, Severity 13, State 78, Line 114, \nMessage: [Transaction (Process ID 51) was deadlocked on lock | \ncommunication buffer resources with another process and has been \nchosen as the deadlock victim. Rerun the transaction.]          \n</code></pre>\n<p>Now what I figured out is:</p>\n<ol>\n<li><p>The problem raised when @parameter array was relatively large (41 reports and overall 47). Using 1-2-3 does not create an issue</p>\n</li>\n<li><p>I narrowed down the problem to one column(!) see in code marked with (*) and (**). If I make column text <code>nvarchar(200)</code> it all works ok.</p>\n</li>\n<li><p>Trying to play around, we found another workaround:</p>\n</li>\n</ol>\n<pre><code>    declare @td as table (\n         reportId int\n       , detailId int\n       , text nvarchar(max)\n    )\n    insert into @td\n    select\n        #reports.reportId\n      , details.detailId\n      , details.text\n    from #reports\n    outer apply openjson(#reports.details) with (\n        detailId nvarchar(50) '$.detailId'\n      , text nvarchar(max) '$.text'\n    ) as details\n</code></pre>\n<p>These are all workarounds so far, not a solution. Restarting SQL Server does not help.</p>\n<p>My obvious question is -- does anybody observe or have an idea why this might happen?</p>\n<p>Thanks.</p>\n<p><a href=\"https://i.sstatic.net/2AyIvqM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/2AyIvqM6.png\" alt=\"enter image description here\" /></a></p>\n<p>another upd: settting maxdop to 1 helps , but this does not explain the issues</p>\n"
    },
    {
        "tags": [
            "c#",
            "asp.net",
            ".net",
            "dependency-injection"
        ],
        "owner": {
            "account_id": 18080107,
            "reputation": 91,
            "user_id": 17591511,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GicjZ23k9xNjPAy7gAblxnWyS1JcB8CvXLeGqCoS30=k-s256",
            "display_name": "Dalival",
            "link": "https://stackoverflow.com/users/17591511/dalival"
        },
        "is_answered": false,
        "view_count": 40,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741960105,
        "creation_date": 1741958442,
        "question_id": 79509189,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509189/how-to-register-in-di-single-options-instance-as-two-classes",
        "title": "How to register in DI single options instance as two classes?",
        "body": "<p>I'm writing a library that can be configured with my custom <code>BaseOptions</code> class.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class BaseOptions\n{\n    public string Mode { get; set; }\n}\n</code></pre>\n<p>But user also can extend these options, creating an inherited class.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class CustomOptions : BaseOptions\n{\n    public int OperationsCount { get; set; }\n}\n</code></pre>\n<p>In my library, I allow user to specify his options class, through the generic registration.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddMyLibrary&lt;CustomOptions&gt;();\n</code></pre>\n<p>Inside my library, there are some services that reads <code>BaseOptions</code>. I do inject <code>IOptions&lt;BaseOptions&gt;</code> there. But also, there are some services that are generic, and they're working with user's custom options. In them, I inject <code>IOptions&lt;TOptions&gt;</code>.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class SomeServiceInMyLib&lt;TOptions&gt; where TOptions : BaseOptions\n{\n    public SomeServiceInMyLib&lt;TOptions&gt;(IOptions&lt;TOptions&gt; options)\n    {\n        // read custom options here from 'options' variable\n    }\n}\n</code></pre>\n<p>The thing is, I don't know how to properly register my options in DI. Inside my lib. This is how I did that.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public static IServiceCollection AddMyLibrary&lt;TOptions&gt;(this IServiceCollection services)\n{\n    var optionsSection = _appBuilder.Configuration.GetSection(typeof(TOptions).Name);\n\n    return services\n        .Configure&lt;BaseOptions&gt;(optionsSection)\n        .Configure&lt;TOptions&gt;(optionsSection);\n}\n</code></pre>\n<p>Here, I register <code>BaseOptions</code> and <code>TOptions</code> as two standalone instances. But, I have some post-configuration, and it affects only <code>TOptions</code>, not <code>BaseOptions</code>. As a result, I have two different states for <code>TOptions</code> and <code>BaseOptions</code>. That why I want to have a single option instance in DI. I want the <code>IOptions&lt;TOptions&gt;.Value</code> and <code>IOptions&lt;BaseOptions&gt;.Value</code> to return the same object.</p>\n<p>I tried the following.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public static IServiceCollection AddMyLibrary&lt;TOptions&gt;(this IServiceCollection services)\n{\n    var optionsSection = _appBuilder.Configuration.GetSection(typeof(TOptions).Name);\n\n    return services\n        .Configure&lt;TOptions&gt;(optionsSection)\n        .AddSingleton&lt;IOptions&lt;BaseOptions&gt;&gt;(sp =&gt;\n        {\n            BaseOptions options = sp.GetRequiredService&lt;IOptions&lt;TOptions&gt;&gt;().Value;\n            return Options.Create(options);\n        });\n}\n</code></pre>\n<p>But this doesn't work. It's produce circular dependency, or infinite loop. If you put a breakpoint on the <code>GetRequiredService</code>, it will be hitting over and over again, infinitely.</p>\n<p>Next, I decided to compromise (crutch). Inside my library, I can inject <code>BaseOptions</code> directly, not through the <code>IOptions</code> wrapper. So, I need to add <code>BaseOptions</code> in DI as a usual service, not as options.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public static IServiceCollection AddMyLibrary&lt;TOptions&gt;(this IServiceCollection services)\n{\n    var optionsSection = _appBuilder.Configuration.GetSection(typeof(TOptions).Name);\n    \n    return services\n        .Configure&lt;TOptions&gt;(optionsSection)\n        .AddSingleton&lt;BaseOptions&gt;(sp =&gt; sp.GetRequiredService&lt;IOptions&lt;TOptions&gt;&gt;().Value);\n}\n</code></pre>\n<p>But it still resulting an infinite loop!</p>\n<p>How can I achieve my goal? I want to register <code>BaseOptions</code> as options class, and <code>TOptions</code> of options class (<code>where TOptions : BaseOptions</code>), but having a single instance of a class <code>TOptions</code> for both these DI elements. In other words, when I inject <code>IOptions&lt;BaseOptions&gt;</code> and <code>IOptions&lt;TOptions&gt;</code>, their <code>Value</code> property should give me the same object.</p>\n"
    },
    {
        "tags": [
            "ruby-on-rails",
            "nginx",
            "ssl",
            "websocket",
            "haproxy"
        ],
        "owner": {
            "account_id": 12591911,
            "reputation": 63,
            "user_id": 13627106,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/pA6Kc.jpg?s=256",
            "display_name": "7minutesdead",
            "link": "https://stackoverflow.com/users/13627106/7minutesdead"
        },
        "is_answered": false,
        "view_count": 32,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1742001208,
        "creation_date": 1741963183,
        "last_edit_date": 1742001208,
        "question_id": 79509380,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509380/websockets-failing-to-work-from-haproxy-to-nginx-passenger-to-rails",
        "title": "Websockets failing to work from HAProxy to nginx/passenger to Rails",
        "body": "<p>I'm at my wit's end and I need the help of someone far smarter than me.</p>\n<p>I'm modifying our web app to be able to ingest (and pass along) real time events from Kafka. Since this is a rails app, I'm using the built-in Action Cable. The frontend is React and is using @rails/actioncable consumer to connect to &quot;/cable&quot; endpoint for this. In local development, this works perfectly. Naturally, in a production environment once pushed to the servers, it doesn't. Specifically, the websocket connection fails to connect but everything else is working in the application layer in development.</p>\n<p>The user is first required to be connected to a VPN, then through Okta SSO layer, then they're able to access the application.</p>\n<p>From there, it's client -&gt; HAProxy reverse proxy (load balancing between web servers) -&gt; identical nginx/passenger web servers -&gt; rails</p>\n<p>I'm trying to preserve the upgrade headers through each hop, but I don't think I fully understand what I'm doing.</p>\n<p>In the frontend in production, the websocket simply fails:\n<code>actioncable.esm.js:164  WebSocket connection to 'wss://app.host.com/cable' failed</code></p>\n<p>Testing with js WebSocket constructor to the same endpoint reveals an error code <code>1006</code>.</p>\n<p>I can confirm that redis is configured properly and connecting successfully from the rails app.</p>\n<p>Doing a curl test for the websocket connection either from local command line, postman or prod server command line reveal similar results. The initial https request succeeds, but the subsequent websocket upgrade request receives a &quot;404 Not Found&quot; response.</p>\n<pre><code>❯ curl -v -i -N -H &quot;Connection: Upgrade&quot; -H &quot;Upgrade: websocket&quot; -H &quot;Sec-WebSocket-Version: 13&quot; -H &quot;Sec-WebSocket-Key: some_key==&quot; -H &quot;Sec-WebSocket-Protocol: actioncable-v1-json&quot; https://app.host.com/cable\n*   Trying ip_address:443...\n* Connected to app.host.com (ip_address) port 443 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n*  CAfile: /etc/ssl/certs/ca-certificates.crt\n*  CApath: /etc/ssl/certs\n* TLSv1.0 (OUT), TLS header, Certificate Status (22):\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\n* TLSv1.2 (IN), TLS header, Certificate Status (22):\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS header, Finished (20):\n* TLSv1.2 (IN), TLS header, Supplemental data (23):\n* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):\n* TLSv1.2 (IN), TLS header, Supplemental data (23):\n* TLSv1.3 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (IN), TLS header, Supplemental data (23):\n* TLSv1.3 (IN), TLS handshake, CERT verify (15):\n* TLSv1.2 (IN), TLS header, Supplemental data (23):\n* TLSv1.3 (IN), TLS handshake, Finished (20):\n* TLSv1.2 (OUT), TLS header, Finished (20):\n* TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):\n* TLSv1.2 (OUT), TLS header, Supplemental data (23):\n* TLSv1.3 (OUT), TLS handshake, Finished (20):\n* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384\n* ALPN, server accepted to use h2\n* Server certificate:\n*  subject: C=_; ST=_; L=_; O=_; CN=app.host.com\n*  start date: Jul 25 00:00:00 2024 GMT\n*  expire date: Aug 15 23:59:59 2025 GMT\n*  subjectAltName: host &quot;app.host.com&quot; matched cert's &quot;app.host.com&quot;\n*  issuer: C=etc etc\n*  SSL certificate verify ok.\n* Using HTTP2, server supports multiplexing\n* Connection state changed (HTTP/2 confirmed)\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* TLSv1.2 (OUT), TLS header, Supplemental data (23):\n* TLSv1.2 (OUT), TLS header, Supplemental data (23):\n* TLSv1.2 (OUT), TLS header, Supplemental data (23):\n* Using Stream ID: 1 (easy handle 0x555d01e0d9f0)\n* TLSv1.2 (OUT), TLS header, Supplemental data (23):\n&gt; GET /cable HTTP/2\n&gt; Host: app.host.com\n&gt; user-agent: curl/7.81.0\n&gt; accept: */*\n&gt; connection: Upgrade\n&gt; upgrade: websocket\n&gt; sec-websocket-version: 13\n&gt; sec-websocket-key: some_key==\n&gt; sec-websocket-protocol: actioncable-v1-json\n&gt;\n* TLSv1.2 (IN), TLS header, Supplemental data (23):\n* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\n* TLSv1.2 (IN), TLS header, Supplemental data (23):\n* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):\n* old SSL session ID is stale, removing\n* TLSv1.2 (IN), TLS header, Supplemental data (23):\n* TLSv1.2 (OUT), TLS header, Supplemental data (23):\n* TLSv1.2 (IN), TLS header, Supplemental data (23):\n&lt; HTTP/2 404\nHTTP/2 404\n&lt; content-type: text/plain; charset=utf-8\ncontent-type: text/plain; charset=utf-8\n&lt; status: 404 Not Found\nstatus: 404 Not Found\n&lt; cache-control: no-cache\ncache-control: no-cache\n&lt; x-request-id: some_id\nx-request-id: some_id\n&lt; x-runtime: 0.003727\nx-runtime: 0.003727\n&lt; date: Fri, 14 Mar 2025 13:59:13 GMT\ndate: Fri, 14 Mar 2025 13:59:13 GMT\n&lt; x-powered-by: Phusion Passenger(R) 6.0.17\nx-powered-by: Phusion Passenger(R) 6.0.17\n&lt; server: nginx/1.14.1 + Phusion Passenger(R) 6.0.17\nserver: nginx/1.14.1 + Phusion Passenger(R) 6.0.17\n\n&lt;\nPage not found* TLSv1.2 (IN), TLS header, Supplemental data (23):\n</code></pre>\n<p>HAProxy is configured as such:</p>\n<pre><code>global\n   log /dev/log local0\n   log /dev/log local1 notice\n   chroot /var/lib/haproxy\n   stats timeout 30s\n   user haproxy\n   group haproxy\n   daemon #disable when debugging\n\n   # ssl config\n   # intermediate configuration\n   ssl-default-bind-ciphers {large string}\n   ssl-default-bind-options prefer-client-ciphers no-sslv3 no-tlsv10 no-tlsv11 no-tls-tickets\n\n   ssl-default-server-ciphers {large string}\n   ssl-default-server-options no-sslv3 no-tlsv10 no-tlsv11 no-tls-tickets\n\n# TCP services\ndefaults\n  log global\n  mode tcp\n  option tcplog\n  timeout connect  4s\n  timeout server  30s\n  timeout client  30s\n  timeout tunnel 8h # for websocket connections, typical user work day length to leave report up and running\n\nfrontend redis_front\n   bind *:6379\n   default_backend redis_back\n\nbackend redis_back\n   option tcp-check\n   tcp-check send AUTH\\ {some string}\n   tcp-check expect string +OK\n   tcp-check send PING\\r\\n\n   tcp-check expect string +PONG\n   tcp-check send INFO\\ REPLICATION\\r\\n\n   tcp-check expect string role:master\n   tcp-check send QUIT\\r\\n\n   tcp-check expect string +OK\n   server fruit redis.host.com:6379 check inter 1s\n\n# HTTP services\ndefaults\n   log global\n   mode http\n   option httplog\n   option dontlognull #disable when debugging\n   timeout connect 5s\n   timeout client 2m\n   timeout server 2m\n   timeout tunnel 8h\n\nfrontend stats\n   bind *:81\n   stats enable\n   stats uri /stats\n   stats refresh 15s\n   stats auth {some login}\n   stats admin if TRUE\n\nfrontend http_front\n   bind *:80\n   http-request redirect scheme https if { hdr(host) -i app.host.com } !{ ssl_fc }\n\nfrontend https_front\n   bind *:443 ssl crt /etc/ssl alpn h2,http/1.1\n\n   acl h_xff_exists req.hdr(X-Forwarded-For) -m found\n   http-request set-header X-Forwarded-For %[src] unless h_xff_exists\n   use_backend app_back if { hdr(host) -i app.host.com }\n\nbackend app_back\n   balance source\n   option forwardfor\n   # Newly added, trying to get websockets to work\n   # --------------------------------------------------\n   http-request set-header X-Forwarded-Proto https if { ssl_fc }\n   http-request set-header Upgrade $http_upgrade if { hdr(Upgrade) -i WebSocket }\n   http-request set-header Connection Upgrade if { hdr(Upgrade) -i WebSocket }\n   # --------------------------------------------------\n   server 01 app01.host.com:8082 check ssl verify none alpn h2\n   server 02 app02.host.com:8082 check ssl verify none alpn h2\n   server 03 etc etc\n</code></pre>\n<p>And then the configuration for nginx/passenger. First the default configuration:</p>\n<pre><code>user nginx;\nworker_processes auto;\nerror_log /var/log/nginx/error.log;\npid /run/nginx.pid;\n\n# Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.\ninclude /usr/share/nginx/modules/*.conf;\n\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    log_format  main  '$host $remote_addr - $remote_user [$time_local] &quot;$request&quot; '\n                      '$status $body_bytes_sent &quot;$http_referer&quot; '\n                      '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';\n\n    gzip on;\n    gzip_types text/plain text/css application/json application/javascript text/javascript font/woff2;\n    passenger_max_pool_size 100;\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile            on;\n    tcp_nopush          on;\n    tcp_nodelay         on;\n    keepalive_timeout   65;\n    types_hash_max_size 2048;\n\n    include             /etc/nginx/mime.types;\n    default_type        application/octet-stream;\n\n    # Load modular configuration\n    include /etc/nginx/conf.d/*.conf;\n\n    resolver {internal DNS servers} valid=300s;\n\n    set_real_ip_from  {some ip}/24;  # Production server subnet\n    set_real_ip_from  {some ip}/24;  # Disaster Recovery server subnet\n    real_ip_header    X-Forwarded-For; # The original client IP request, forwarded from HAProxy.\n}\n</code></pre>\n<p>And the configuration specific to this application, as part of the include statement:</p>\n<pre><code># Dynamically handle websocket upgrade request headers.\n# https://nginx.org/en/docs/http/websocket.html\nmap $http_upgrade $connection_upgrade {\n    default upgrade;\n    ''      close;\n}\n\nserver {\n  listen 8082 ssl http2;\n  server_name app.host.com;\n\n  ssl_certificate /etc/ssl/app.host.com.cer;\n  ssl_certificate_key /etc/ssl/app.host.com.key;\n\n  root /opt/webapps/app/current/public;\n  passenger_enabled on;\n  passenger_app_env staging;\n  passenger_env_var RAILS_LOG_TO_STDOUT true;\n  client_max_body_size 5M;\n\n  location ~ ^/assets/ {\n    expires 1y;\n    add_header Cache-Control public;\n\n    add_header ETag &quot;&quot;;\n  }\n\n  location /cable {\n    passenger_app_group_name app_staging_action_cable;\n    passenger_force_max_concurrent_requests_per_process 0;\n\n    # Standard Nginx WebSocket proxy directives\n    # proxy_pass https://app.host.com/cable;\n    proxy_http_version 1.1;\n    # proxy_set_header Upgrade $http_upgrade;\n    # proxy_set_header Connection &quot;Upgrade&quot;;\n\n    # proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    # proxy_set_header Host $http_host;\n    # proxy_set_header X-Real-IP $remote_addr;\n    # proxy_set_header X-Forwarded-Proto https;\n    # proxy_redirect off;\n\n    # Existing Passenger directives\n    passenger_set_header Upgrade $http_upgrade;\n    passenger_set_header Connection &quot;upgrade&quot;;\n    # passenger_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    # passenger_set_header Host $http_host;\n\n    # passenger_intercept_errors off;\n\n    # Long timeout for WebSockets\n    # passenger_read_timeout 86400;\n    proxy_read_timeout 86400;\n  }\n}\n</code></pre>\n<p>Finally on the rails side, we have our route setup here:</p>\n<pre class=\"lang-rb prettyprint-override\"><code>Rails.application.routes.draw do\n  mount ActionCable.server =&gt; '/cable'\n  # etc...\n</code></pre>\n<p>and then in config/environments/staging.rb, we have (for relevant bits):</p>\n<pre class=\"lang-rb prettyprint-override\"><code>Rails.application.configure do\n  ...\n  # websocket setup\n  config.action_cable.mount_path = &quot;/cable&quot;\n  config.action_cable.disable_request_forgery_protection = true\n  config.action_cable.allowed_request_origins = %w[\n    https://app.host.com\n    https://app_prod.host.com\n  ]\n  config.action_cable.log_tags = [\n    :action_cable,\n    -&gt; request { request.uuid }\n  ]\n  config.action_cable.url = 'wss://app.host.com/cable'\n</code></pre>\n<p>As you can see I've tried many things and commented many things out, or disabled certain security checks while trying to debug the issue. Does any of this stand out as a fundamental misunderstanding or as odd, or am I missing other crucial components in maintaining the websocket headers/request through each hop? Or is it a dependency problem where an update is needed?</p>\n<p>What does your experience tell you? Apologies for the length of this.</p>\n<p>Edit: I'm seeing nginx errors that to me indicate it's trying to serve a static file rather than passing websocket requests over to passenger / rails.</p>\n<p>&quot;2025/03/15 00:16:09 [error] 1932621#0: *2267 open() &quot;/opt/webapps/app/current/public/cable&quot; failed (2: No such file or directory), client: {ip}, server: app.host.com, request: &quot;GET /cable HTTP/1.1&quot;, host: &quot;app.host.com&quot;&quot;</p>\n<p>I'm assuming my nginx config is wrong in this case.</p>\n"
    },
    {
        "tags": [
            "bash"
        ],
        "owner": {
            "account_id": 13391178,
            "reputation": 6488,
            "user_id": 9663497,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/db9946375977277c1b3ac9092d81cf3e?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Vincenzo",
            "link": "https://stackoverflow.com/users/9663497/vincenzo"
        },
        "is_answered": true,
        "view_count": 77,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1741975282,
        "creation_date": 1741963776,
        "question_id": 79509411,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509411/random-is-not-random-when-used-inside-a-function-in-bash",
        "title": "RANDOM is not random when used inside a function in bash",
        "body": "<p>I am pretty new to bash scripting and I'm facing a behavior I can't explain.\nI need to create random plate numbers, however the plate generated from the function I wrote always creates the same plate number as calling it in a loop shown.</p>\n<pre><code>generate_plate() {\n\n    RANDOM=$$$(date +%s)\n    first_letter=(A B C D E F )\n    other_letters=(A B C D E F G H J K L M N P R S T V W X Y Z)\n    numbers=( {0..9} )\n\n    first_random_letter=${first_letter[$(($RANDOM % ${#first_letter[@]} + 1 ))]}\n    second_random_letter=${other_letters[$(($RANDOM % ${#other_letters[@]} + 1 ))]}\n    first_number=${numbers[$(($RANDOM % ${#numbers[@]} + 1 ))]}\n    second_number=${numbers[$(($RANDOM % ${#numbers[@]} + 1 ))]}\n    third_number=${numbers[$(($RANDOM % ${#numbers[@]} + 1 ))]}\n    third_random_letter=${other_letters[$(($RANDOM % ${#other_letters[@]} + 1 ))]}\n    fourth_random_letter=${other_letters[$(($RANDOM % ${#other_letters[@]} + 1 ))]}\n    plate=&quot;$first_random_letter$second_random_letter$first_number$second_number$third_number$third_random_letter$fourth_random_letter&quot;\n\n    echo &quot;$plate&quot;\n\n}\n\nfor i in {1..5}; do\n  targa_random=$(generate_plate)\n  echo &quot;Plate $i: $targa_random&quot;\ndone\n</code></pre>\n<p>If instead i call each line  of the method in a loop then it will create all different plate numbers.</p>\n<pre><code>while [ 1 ]\ndo\nfirst_letter=(A B C D E F )\nother_letters=(A B C D E F G H J K L M N P R S T V W X Y Z)\nnumbers=( {0..9} )\nRANDOM=$$$(date +%s)\n\n    first_random_letter=${first_letter[$(($RANDOM % ${#first_letter[@]} + 1 ))]}\n    second_random_letter=${other_letters[$(($RANDOM % ${#other_letters[@]} + 1 ))]}\n    first_number=${numbers[$(($RANDOM % ${#numbers[@]} + 1 ))]}\n    second_number=${numbers[$(($RANDOM % ${#numbers[@]} + 1 ))]}\n    third_number=${numbers[$(($RANDOM % ${#numbers[@]} + 1 ))]}\n    third_random_letter=${other_letters[$(($RANDOM % ${#other_letters[@]} + 1 ))]}\n    fourth_random_letter=${other_letters[$(($RANDOM % ${#other_letters[@]} + 1 ))]}\n    plate=&quot;$first_random_letter$second_random_letter$first_number$second_number$third_number$third_random_letter$fourth_random_letter&quot;\n    echo $plate\n    sleep 1 \ndone\n</code></pre>\n<p>Using seed for RANDOM won't make a difference.\nWhy is it so? what's different between the two approaches?\nCan you spot what I'm doing wrong?\nThe +1 in the array index is because I'm using the zsh shell which has the array index starting at 1 as I found out here <a href=\"https://stackoverflow.com/questions/2388488/select-a-random-item-from-an-array-in-bash\">Select a random item from an array in Bash</a></p>\n<p>Many thanks</p>\n"
    },
    {
        "tags": [
            "javascript",
            "r",
            "shiny",
            "r-leaflet"
        ],
        "owner": {
            "account_id": 40822451,
            "reputation": 21,
            "user_id": 29975284,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/c4290d2b6712d6def8c4b3f35d831b15?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Moody",
            "link": "https://stackoverflow.com/users/29975284/moody"
        },
        "is_answered": true,
        "view_count": 46,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1742034697,
        "creation_date": 1741964457,
        "last_edit_date": 1741973669,
        "question_id": 79509445,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509445/how-to-add-popupmovable-plugin-to-a-leaflet-map",
        "title": "How to add popupmovable plugin to a leaflet map?",
        "body": "<p>I'm using R shiny to build a web application for users to plot past and present data. Many of these data points are close together, so when the user opens the popups, they overlap. The user needs all popups they want to be open at once to view the data from the station, and shift them so that they can view them at one time, save the map, and export it into a report.</p>\n<p>I've tried adding in this java plugin, but to no success. I'm not very experienced with creating and adding plugins, have only done it a couple times for minor things, so I know that I am missing something, but cannot seem to figure it out. Below is some R script showing a small example of how I'm trying to use it.</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(leaflet)\nlibrary(leaflet.esri)\nlibrary(htmltools)\nlibrary(htmlwidgets)\nlibrary(shiny)\nlibrary(shinyjs)\n\ndata &lt;-data.frame(lat=c(34.85,34.89,34.92,34.89),\n                  lon=c(-72.89,-72.96,-72.95,-72.85),\n                  station=c('1A','2A','3A','4A'),year=c(2017,2018,2019,2020))\n\naddPopupMove = htmltools::htmlDependency(&quot;leaflet.PopupMovable&quot;,&quot;1.0.0&quot;,\n                                         src = c(href = 'https://raw.githubusercontent.com/wrwrh/leaflet-popupmovable/refs/heads/main/leaflet.PopupMovable.js'),\n                                         script = 'leaflet.PopupMovable.js')\n\nregisterPlugin &lt;- function(map, plugin) {\n  map$dependencies &lt;- c(map$dependencies, list(plugin))\n  map}\n\nui =  fluidPage(\n  tags$head(\n    includeScript(&quot;https://raw.githubusercontent.com/wrwrh/leaflet-popupmovable/refs/heads/main/leaflet.PopupMovable.js&quot;),\n    useShinyjs()),\n  mainPanel(leafletOutput(&quot;map&quot;,width = 900,height = 600)))\n\n\nserver = shinyServer(function(input, output, session){\n\n  map = function(){leaflet(options = leafletOptions(worldCopyJump = FALSE, preferCanvas = TRUE)) %&gt;%\n  setView(lng = 0,lat = 0,zoom = 2)%&gt;%\n  addEsriBasemapLayer(esriBasemapLayers$Oceans,\n                      autoLabels = TRUE, \n                      options = providerTileOptions(noWrap = FALSE,updateWhenIdle = TRUE),\n                      group = 'Oceans') %&gt;% \n      addMarkers(lat = data$lat,lng = data$lon,\n                 popup = paste(data$station,&quot;&lt;br&gt;&quot;,\n                               &quot;Lat: &quot;,data$lat,&quot;&lt;br&gt;&quot;,\n                               &quot;Lon: &quot;,data$lon,&quot;&lt;br&gt;&quot;,\n                               &quot;Est.: &quot;,data$year),\n                 popupOptions = popupOptions(autoClose = FALSE, closeOnClick = FALSE))%&gt;% \n      registerPlugin(addPopupMove)%&gt;%\n      onRender(&quot;function (el,x){\n        var popmove = L.Map.PopupMovable(options = { popupMovable: true\n             });\n              popmove.addTo(this);\n               &quot;)\n    }\n  \n  react_map = reactiveVal(map())\n  output$map = renderLeaflet({react_map() })\n\n})\n\n\nshinyApp(ui,server)\n\n</code></pre>\n<p>The goal is to allow the user to click and drag the popups out of the way, but still have the lead lines to the marker.</p>\n"
    },
    {
        "tags": [
            "fortran"
        ],
        "owner": {
            "account_id": 3663785,
            "reputation": 443,
            "user_id": 3355169,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/1f048f27d6fe83431209d91d9c3902fa?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Sean1708",
            "link": "https://stackoverflow.com/users/3355169/sean1708"
        },
        "is_answered": false,
        "view_count": 32,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1741965784,
        "creation_date": 1741964810,
        "last_edit_date": 1741965784,
        "question_id": 79509463,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509463/why-is-the-interface-writeformatted-block-being-ignored-here",
        "title": "Why is the &quot;interface write(formatted)&quot; block being ignored here?",
        "body": "<p>Based on information found <a href=\"https://fortran-lang.org/learn/oop_features_in_fortran/object_based_programming_techniques/#performing-i-o-with-objects-of-container-like-type\" rel=\"nofollow noreferrer\">here</a> and in the book Modern Fortran Explained (Incorporating Fortran 2018) by Metcalf, Reid, and Cohen (see section 11.6), I would expect to be able to customise the output of a derived type using an <code>interface write(formatted)</code> block. However, while no compilation errors occur, the interface seems to be ignored.</p>\n<p>A self-contained MWE would be:</p>\n<pre><code>module foo\n    type range\n        integer :: lower, upper\n    end type\n\n    interface write(formatted)\n        module procedure formatted_io_range\n    end interface\n\n    private\n\n    public formatted_io_range, range\ncontains\n    subroutine formatted_io_range(value, unit, iotype, vlist, iostat, iomsg)\n        class(range), intent(in) :: value\n        integer, intent(in) :: unit\n        character(len=*), intent(in) :: iotype\n        integer, dimension(:), intent(in) :: vlist\n        integer, intent(out) :: iostat\n        character(len=*), intent(inout) :: iomsg\n\n        write (unit, &quot;('range ',a,': ',i0,',',i0,*(i0))&quot;, iostat=iostat, iomsg=iomsg) iotype, value%lower, value%upper, vlist\n    end subroutine\nend\n\nprogram main\n    use foo\n\n    type(range) :: r\n\n    r = range(1, 2)\n\n    print *, r\n    write (*, *) r\n    print &quot;(dt)&quot;, r\n    write (*, &quot;(dt)&quot;) r\nend\n</code></pre>\n<p>I would expect the output of this program to be</p>\n<pre><code> range LISTDIRECTED: 1,2\n range LISTDIRECTED: 1,2\nrange DT: 1,2\nrange DT: 1,2\n</code></pre>\n<p>but compiling with</p>\n<pre><code>gfortran -Wall -Wextra -Wpedantic --std=f2018 -Og -fcheck=all foo.f90\n</code></pre>\n<p>and running what I get instead is:</p>\n<pre><code>           1           2\n           1           2\nAt line 39 of file foo.f90 (unit = 6, file = 'stdout')\nFortran runtime error: Missing DTIO procedure or intrinsic type passed for item 1 in formatted transfer\n(dt)\n  ^\n\nError termination. Backtrace:\n#0  0x101111bcf\n#1  0x101112777\n#2  0x101113047\n#3  0x1011f932b\n#4  0x10120822f\n#5  0x10120833b\n#6  0x100f63907\n#7  0x100f63c7b\n</code></pre>\n<p>I can get the expected output by replacing the type definition with</p>\n<pre><code>type range\n    integer :: lower, upper\ncontains\n    procedure :: formatted_io_range\n    generic :: write(formatted) =&gt; formatted_io_range\nend type\n</code></pre>\n<p>but then the <code>interface write(formatted)</code> block isn't needed at all.</p>\n<p>Is it possible to use the interface, or is the information in these resources incorrect (or have I misunderstood them)?</p>\n<hr />\n<p>Follow up question: both resources say that you can use <code>type(range)</code> instead of <code>class(range)</code> in the formatting routine, but if I try that I get a compilation error:</p>\n<pre><code>foo.f90:14:39:\n\n   14 |     subroutine formatted_io_range(value, unit, iotype, vlist, iostat, iomsg)\n      |                                       1\nError: DTIO dummy argument at (1) must be of type CLASS\n</code></pre>\n<p>Again, am I doing something wrong or have I misunderstood something?</p>\n"
    },
    {
        "tags": [
            "django"
        ],
        "owner": {
            "account_id": 30730202,
            "reputation": 107,
            "user_id": 23564004,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/kJjUa.jpg?s=256",
            "display_name": "Anup Barua",
            "link": "https://stackoverflow.com/users/23564004/anup-barua"
        },
        "is_answered": true,
        "view_count": 31,
        "accepted_answer_id": 79509770,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1742020686,
        "creation_date": 1741964832,
        "last_edit_date": 1741969107,
        "question_id": 79509468,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509468/how-to-delete-onetoonefield-of-a-model-class-in-django",
        "title": "how to delete OneToOneField of a model class in django",
        "body": "<p>in my django app student_management_system, Student is connected to User by OneToOneField. if i delete a Student it gets deleted, but User (django's built in User) is not getting deleted,  it still exists in database,  ie. in auth_user of db.sqlite3. how to fix this. github code: <a href=\"https://github.com/anup30/student_management_system\" rel=\"nofollow noreferrer\">https://github.com/anup30/student_management_system</a> the problem is also written in problem.txt there.</p>\n"
    },
    {
        "tags": [
            "r",
            "ggplot2",
            "fonts",
            "ggfittext"
        ],
        "owner": {
            "account_id": 2831794,
            "reputation": 1165,
            "user_id": 2433233,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/731087fb3496f8746f4591cb0137212b?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "swolf",
            "link": "https://stackoverflow.com/users/2433233/swolf"
        },
        "is_answered": true,
        "view_count": 27,
        "accepted_answer_id": 79509540,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1741966662,
        "creation_date": 1741964877,
        "question_id": 79509471,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79509471/ggfittextgeom-bar-text-does-not-place-text-in-centre-when-fontface-bold-is",
        "title": "ggfittext::geom_bar_text does not place text in centre when fontface = &quot;bold&quot; is involved, also values are mixed up",
        "body": "<p>I want to use <code>ggfittext::geom_bar_text()</code> to plot values into a horizontal stacked bar plot with a certain value in bold font. There is a <code>fontface</code> aesthetic available. The problem is: As soon as I use a <code>bold</code> fontface, the labels are not centered anymore <em>and</em> the values get mixed up.</p>\n<p>Please have a look at this MRE:</p>\n<pre><code>library(ggplot2)\nlibrary(ggfittext)\nlibrary(scales)\n</code></pre>\n<p>This is the case <em>without</em> any bold labels:</p>\n<pre><code>df2 &lt;- data.frame(cat1 = rep(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), each = 3),\n                 cat2 = rep(c(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;), 3),\n                 perc = c(0, .6, .4,\n                          .26, .24, .5,\n                          .3, .3, .4),\n                 fface = &quot;plain&quot;)\n\nggplot(df2, aes(y = cat1, fill = cat2, x = perc, fontface = fface)) +\n  geom_col() +\n  geom_bar_text(aes(label = percent(perc, accuracy = .1),\n                    fontface = fface),\n                position = &quot;stack&quot;, place = &quot;centre&quot;)\n</code></pre>\n<p><a href=\"https://i.sstatic.net/lG1bk169.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/lG1bk169.png\" alt=\"correct plot\" /></a></p>\n<p>Now for the problematic case:</p>\n<pre><code>df &lt;- data.frame(cat1 = rep(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;), each = 3),\n                 cat2 = rep(c(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;), 3),\n                 perc = c(0, .6, .4,\n                          .26, .24, .5,\n                          .3, .3, .4),\n                 fface = c(&quot;plain&quot;, &quot;bold&quot;, &quot;plain&quot;,\n                           &quot;bold&quot;, &quot;plain&quot;, &quot;plain&quot;,\n                           &quot;plain&quot;, &quot;plain&quot;, &quot;bold&quot;))\n\nggplot(df, aes(y = cat1, fill = cat2, x = perc, fontface = fface)) +\n  geom_col() +\n  geom_bar_text(aes(label = percent(perc, accuracy = .1),\n                    fontface = fface),\n                position = &quot;stack&quot;, place = &quot;centre&quot;)\n</code></pre>\n<p><a href=\"https://i.sstatic.net/82jsy6DT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/82jsy6DT.png\" alt=\"incorrect plot\" /></a></p>\n<p>What is happening? <code>df</code> is exactly identical except for the three bold cases in column <code>fface</code> and the <code>ggplot()</code> calls are also exactly identical. But the labels for <code>cat1 == &quot;C&quot;</code> are off and they are switched, too.</p>\n<p>Am I missing something? Is this a bug? Thank you for your help!</p>\n"
    }
]