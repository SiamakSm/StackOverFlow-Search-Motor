[
    {
        "index": 1,
        "question_id": 79669030,
        "title": "Why are disabled overloads required to be unique?",
        "body": "<p>The following class has four overloads of function <code>f</code>. When <code>T!=int</code>, all overloads have unique parameter lists, but when <code>T=int</code>, all overloads have the same parameter lists. To make it compile even when <code>int</code> and <code>T</code> are identical, I tried to disable three of the functions using a concept. Despite that, the compiler generates an error because <strong>the three disabled overloads</strong> have identical signatures (<a href=\"https://godbolt.org/z/8aeWdrTs6\" rel=\"noreferrer\">https://godbolt.org/z/8aeWdrTs6</a>):</p>\n<pre><code>#include &lt;concepts&gt;\ntemplate &lt;class T&gt;\nstruct S {\n    void f(T, T) { /*...*/ }\n    void f(T, int) requires (!std::same_as&lt;int, T&gt;) { /*...*/ }\n    void f(int, T) requires (!std::same_as&lt;int, T&gt;) { /*...*/ }\n    void f(int, int) requires (!std::same_as&lt;int, T&gt;) { /*...*/ }\n};\n\nint main() {\n    S&lt;int&gt; s;\n}\n</code></pre>\n<p>clang says <code>error: multiple overloads of 'f' instantiate to the same signature 'void (int, int)'</code>, and gcc says something similar.</p>\n<p>I can work around this by introducing artificial syntactic differences in the constraints, e.g. (<a href=\"https://godbolt.org/z/TajvPYPo4\" rel=\"noreferrer\">https://godbolt.org/z/TajvPYPo4</a>):</p>\n<pre><code>    void f(int, T) requires (!std::same_as&lt;int, T&gt; &amp;&amp; true) { /*...*/ }\n    void f(int, int) requires (!std::same_as&lt;int, T&gt; &amp;&amp; true &amp;&amp; true) { /*...*/ }\n</code></pre>\n<ol>\n<li>Why is the language specified so that <strong>disabled</strong> overloads must have unique signatures? I understand that all <strong>viable</strong> overloads must be unique because the compiler must know which one to invoke. But <strong>non-viable</strong> overloads are not invoked, so requiring uniqueness seems unnecessary in this case.</li>\n<li>Is there a better/nicer/more elegant workaround, for example, one that is easier to scale when there are many overloads?</li>\n</ol>\n",
        "tags": [
            "c++",
            "overloading",
            "c++-concepts"
        ]
    },
    {
        "index": 2,
        "question_id": 79669208,
        "title": "What is &quot;[core] language undefined behavior&quot; as opposed to &quot;undefined behavior&quot;?",
        "body": "<p>Herb Sutter refers to that in <a href=\"https://www.youtube.com/watch?v=FNi1-x4pojs\" rel=\"nofollow noreferrer\">Peering Forward - C++’s Next Decade - Herb Sutter - CppCon 2024</a>, and it stresses <em>language</em> several times (e.g. <a href=\"https://youtu.be/FNi1-x4pojs?t=2158\" rel=\"nofollow noreferrer\">here</a>), so I'd like to understand how to tell it apart from UB in general (not sure if I heard <em>library undefined behavior</em> in the same talk).</p>\n<hr />\n<p>Is <em>language</em> UB something like this</p>\n<pre><code>int x = std::numeric_limits&lt;int&gt;::max() + 1;\n</code></pre>\n<p>because I'm invoking UB by overflowing an <code>int</code> which is not a library entity, as opposed to something like this</p>\n<pre><code>std::vector&lt;int&gt; v = getvec();\nv[v.size()] = 3;\n</code></pre>\n<p>Where I'm doing out-of-bound access for a library entity like <code>std::vector</code>? (Well, at the end I'm still overflowing a an <code>int[]</code>, though...)</p>\n",
        "tags": [
            "c++",
            "language-lawyer",
            "c++20",
            "undefined-behavior",
            "c++23"
        ]
    },
    {
        "index": 3,
        "question_id": 79669665,
        "title": "How to use Process.ProcessorAffinity in a 32-bit process to address 32 logical cores?",
        "body": "<p>I have a process in 32-bit mode (WOW64) and the system has 32 logical cores. <code>Environment.ProcessorCount</code> returns 32 so I'm assuming that all 32 cores are addressable.</p>\n<p>Setting the processor affinity using <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.process.processoraffinity?view=netframework-4.8\" rel=\"nofollow noreferrer\">Process.ProcessorAffinity</a>, it takes an <code>IntPtr</code> as the argument.</p>\n<p>Now, <code>IntPtr</code> is supposed to be a 32-bit mask with each bit representing a logical processor but in a 32-bit environment an <code>IntPtr</code> is implemented as a SIGNED 32-bit structure (Int32). i.e. its values can range from -2147483648 to 2147483647.</p>\n<p>I want to set the mask to use logical processors, 2 through 32, so I need a value of 0xFFFFFFFE.</p>\n<p>But given the way <code>IntPtr</code> is implemented in a 32 bit environment:</p>\n<p><strong>THROWS EXCEPTION</strong> -&gt; <code>IntPtr mask = new IntPtr(4294967295);</code>, which is expected because IntPtr is a Int32</p>\n<p><strong>WORKS</strong> -&gt; <code>IntPtr mask = new IntPtr(-2);</code></p>\n<p>The problem here is that if I use <code>IntPtr(-2)</code> then <code>Process.ProcessorAffinity</code> throws an exception.</p>\n<blockquote>\n<p>System.ComponentModel.Win32Exception (0x80004005): The parameter is incorrect</p>\n</blockquote>\n<p>So that brings me to the root of the question - how does one address ALL 32 cores in a 32-bit environment using <code>Process.ProcessorAffinity</code> or is it limited to 31 cores only because IntPtr, i.e. Int32, only allows for 31 bits and reserves one bit for the sign?</p>\n",
        "tags": [
            "c#",
            ".net",
            "windows",
            "x86",
            "affinity"
        ]
    },
    {
        "index": 4,
        "question_id": 79666928,
        "title": "Why is memcpy listed in the symbols despite not being explicitly used in my function?",
        "body": "<p>I noticed that compiling a file with a single simple function on a type involving nested unions somehow causes nm to list <code>memcpy</code> among the symbols as undefined (&quot;U&quot;) despite <code>memcpy</code> not being used.</p>\n<p>Why?\nIs there some implicit use of it due to the way my types are designed?</p>\n<h1>MRE:</h1>\n<ul>\n<li><code>MRE.h</code>:</li>\n</ul>\n<pre><code>#ifndef MRE_H\n# define MRE_H\n\n# include &lt;stddef.h&gt;\n\n# define HISTORY_SIZE   1024\n\ntypedef                 enum e_call_ent_type {\n    E_MALLOC_ENT = 0,\n    E_FREE_ENT = 1,\n    E_REALLOC_ENT = 2\n}                       t_call_ent_type;\n\ntypedef                 struct s_call_ent {\n    t_call_ent_type     type;\n}                       t_call_ent;\n\ntypedef                 enum e_lock_ent_type {\n    E_LOCKBASE_ENT = 0,\n    E_UNLOCKBASE_ENT = 1\n}                       t_lock_ent_type;\n\ntypedef                 struct s_lock_ent {\n    t_lock_ent_type type;\n}                       t_lock_ent;\n\ntypedef                 enum e_ent_type {\n    E_VOID_ENT = 0,\n    E_CALL_ENT = 1,\n    E_LOCK_ENT = 2\n}                       t_ent_type;\n\ntypedef                 struct s_ent\n{\n    t_ent_type          type;\n    union u_ent         {\n        t_call_ent      call_ent;\n        t_lock_ent      lock_ent;\n    }                   ent;\n    int                 errno_val;\n}                       t_ent;\n\ntypedef                 struct s_history {\n    t_ent               entries[HISTORY_SIZE];\n}                       t_history;\n\n\nt_history               init_history(void);\n\n#endif\n</code></pre>\n<ul>\n<li><code>init_history.c</code>:</li>\n</ul>\n<pre><code>#include &quot;MRE.h&quot;\n\nt_history       init_history(void) {\n    t_history   res;\n\n    res.entries[0].type = E_VOID_ENT;\n    return (res);\n}\n</code></pre>\n<hr />\n<p>Compiling and running nm:</p>\n<pre><code>&gt; gcc -Wall -Werror -Wextra -c -o init_history.o init_history.c\n&gt; nm init_history.o\n0000000000000000 T init_history\n                 U memcpy\n                 U __stack_chk_fail\n</code></pre>\n<hr />\n<h2>Update:</h2>\n<ul>\n<li><code>objdump -d init_history.o</code>:</li>\n</ul>\n<pre><code>\ninit_history.o:     file format elf64-x86-64\n\n\nDisassembly of section .text:\n\n0000000000000000 &lt;init_history&gt;:\n   0:   f3 0f 1e fa             endbr64 \n   4:   55                      push   %rbp\n   5:   48 89 e5                mov    %rsp,%rbp\n   8:   48 81 ec 00 10 00 00    sub    $0x1000,%rsp\n   f:   48 83 0c 24 00          orq    $0x0,(%rsp)\n  14:   48 81 ec 00 10 00 00    sub    $0x1000,%rsp\n  1b:   48 83 0c 24 00          orq    $0x0,(%rsp)\n  20:   48 81 ec 00 10 00 00    sub    $0x1000,%rsp\n  27:   48 83 0c 24 00          orq    $0x0,(%rsp)\n  2c:   48 83 ec 20             sub    $0x20,%rsp\n  30:   48 89 bd e8 cf ff ff    mov    %rdi,-0x3018(%rbp)\n  37:   64 48 8b 04 25 28 00    mov    %fs:0x28,%rax\n  3e:   00 00 \n  40:   48 89 45 f8             mov    %rax,-0x8(%rbp)\n  44:   31 c0                   xor    %eax,%eax\n  46:   c7 85 f0 cf ff ff 00    movl   $0x0,-0x3010(%rbp)\n  4d:   00 00 00 \n  50:   48 8b 85 e8 cf ff ff    mov    -0x3018(%rbp),%rax\n  57:   48 89 c1                mov    %rax,%rcx\n  5a:   48 8d 85 f0 cf ff ff    lea    -0x3010(%rbp),%rax\n  61:   ba 00 30 00 00          mov    $0x3000,%edx\n  66:   48 89 c6                mov    %rax,%rsi\n  69:   48 89 cf                mov    %rcx,%rdi\n  6c:   e8 00 00 00 00          call   71 &lt;init_history+0x71&gt;\n  71:   48 8b 45 f8             mov    -0x8(%rbp),%rax\n  75:   64 48 2b 04 25 28 00    sub    %fs:0x28,%rax\n  7c:   00 00 \n  7e:   74 05                   je     85 &lt;init_history+0x85&gt;\n  80:   e8 00 00 00 00          call   85 &lt;init_history+0x85&gt;\n  85:   48 8b 85 e8 cf ff ff    mov    -0x3018(%rbp),%rax\n  8c:   c9                      leave  \n  8d:   c3                      ret    \n</code></pre>\n",
        "tags": [
            "c",
            "symbols"
        ]
    },
    {
        "index": 5,
        "question_id": 79667281,
        "title": "Full calendar shrunk when initial display is hidden",
        "body": "<p>I experience a bug on the <a href=\"https://fullcalendar.io/\" rel=\"noreferrer\">full calendar</a> library (with Angular), when the calendar is initially hidden (using display:none).\n<a href=\"https://i.sstatic.net/2lpWNRM6.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/2lpWNRM6.png\" alt=\"enter image description here\" /></a>\nAs shown on the image, the whole calendar seems shrunk.\nI managed to fix it by simply triggering a window resize event manually (when the calendar is supposed to be visible (this more like a workaround).</p>\n<pre><code>  triggerResize() {\n    setTimeout(function () {\n      window.dispatchEvent(new Event('resize'));\n    }, 1);\n  }\n</code></pre>\n<p>Here is a link to a stackblitz (forked from fullcaldendar's official demo) that illustrates the bug.\nI just added a &quot;hidden&quot; checkbox (checked by default) the adds a class &quot;hidden&quot; to the parent div.\nYou can also check my workaround by uncommenting the following\n<code>// this.triggerResize();</code>.</p>\n<p><a href=\"https://stackblitz.com/edit/github-mwasuksj?file=src%2Fapp%2Fapp.component.ts\" rel=\"noreferrer\">https://stackblitz.com/edit/github-mwasuksj?file=src%2Fapp%2Fapp.component.ts</a></p>\n",
        "tags": [
            "css",
            "angular",
            "fullcalendar"
        ]
    },
    {
        "index": 6,
        "question_id": 79667853,
        "title": "How can you enable compiler warning on array argument decaying to pointer",
        "body": "<p>I learned that in C++, array arguments decay to pointer arguments. As a result,</p>\n<pre><code>void PrintArray(int arr[4])\n{\n    std::cout &lt;&lt; arr[0] &lt;&lt; std::endl;\n    std::cout &lt;&lt; arr[1] &lt;&lt; std::endl;\n    std::cout &lt;&lt; arr[2] &lt;&lt; std::endl;\n    std::cout &lt;&lt; arr[3] &lt;&lt; std::endl;\n}\n</code></pre>\n<p>decays to <code>void PrintArray(int arr*) { ... }</code></p>\n<p>If the declaration was written in the pointer form, my amateur interns would not assume there were 4 members in the array.</p>\n<p>I figure the array form syntax on arguments is historical. With C++20 and modern compilers, are there compiler warnings or options to disallow this form? We primarily use Microsoft Visual C++.</p>\n<p>If so, I will ask my coworkers to compile code with this option, so they will not make stupid mistakes!</p>\n<p><strong>I am seeking a solution on Static Analysis or something I can deploy on Continuous Integration.</strong></p>\n",
        "tags": [
            "c++"
        ]
    },
    {
        "index": 7,
        "question_id": 79668364,
        "title": "How to correctly determine the seed type for the various random number engines in the c++ standard library",
        "body": "<p>Recently there was a discussion on the reddit c++ subedit pertaining to the difficulties of using the random library. One of the issues was how to correctly seed a random number engines.</p>\n<pre><code>std::random_device r;\nstd::array&lt;XXXXXXXXX,std::mt19937::state_size&gt; seed;\nstd::generate_n(seed.data(),seed.size(),std::ref(r));\nstd::seed_seq seq(std::begin(seed),std::end(seed));\n</code></pre>\n<p>It seems based on how two of the major STL implementations do it, figuring out the input type of the seed sequence is not trivially knowable - not even attainable from the type traits by the looks of it.</p>\n<p>MSVC: unsigned long 32 to 64 bits depending on the architecture\nlibstdc++: always at least 32 bits but could potentially be larger depending on the definition of std::uint_least32_t</p>\n<hr />\n<p>MSVC ( Microsoft Visual Studio Community 2022 Version 17.14.0 )</p>\n<pre><code>template &lt;class _Seed_seq, _Enable_if_seed_seq_t&lt;_Seed_seq, mersenne_twister_engine&gt; = 0&gt;\nvoid seed(_Seed_seq&amp; _Seq) { // reset sequence from seed sequence\n    constexpr int _Kx = (_Wx + 31) / 32;\n    unsigned long _Arr[_Kx * _Nx];  &lt;=================|||||\n    _Seq.generate(&amp;_Arr[0], &amp;_Arr[_Kx * _Nx]);\n</code></pre>\n<p><a href=\"https://github.com/microsoft/STL/blob/main/stl/inc/random#L1489\" rel=\"noreferrer\">https://github.com/microsoft/STL/blob/main/stl/inc/random#L1489</a></p>\n<hr />\n<p>GNU libstdc++</p>\n<pre><code>template&lt;typename _UIntType,\n    size_t __w, size_t __n, size_t __m, size_t __r,\n    _UIntType __a, size_t __u, _UIntType __d, size_t __s,\n    _UIntType __b, size_t __t, _UIntType __c, size_t __l,\n    _UIntType __f&gt;\n  template&lt;typename _Sseq&gt;\n    auto\n    mersenne_twister_engine&lt;_UIntType, __w, __n, __m, __r, __a, __u, __d,\n             __s, __b, __t, __c, __l, __f&gt;::\n    seed(_Sseq&amp; __q)\n    -&gt; _If_seed_seq&lt;_Sseq&gt;\n    {\n  const _UIntType __upper_mask = (~_UIntType()) &lt;&lt; __r;\n  const size_t __k = (__w + 31) / 32;\n  uint_least32_t __arr[__n * __k];  &lt;=================|||||\n  __q.generate(__arr + 0, __arr + __n * __k);\n</code></pre>\n<p><a href=\"https://github.com/gcc-mirror/gcc/tree/master/libstdc++-v3/include/bits/random.tcc#L359\" rel=\"noreferrer\">https://github.com/gcc-mirror/gcc/tree/master/libstdc++-v3/include/bits/random.tcc#L359</a></p>\n<hr />\n<p><strong>Question</strong> What should the type of XXXXXXXXX be and is there a way to determine this programmatically that is also portable between conforming compilers and standard library implementations?</p>\n",
        "tags": [
            "c++",
            "random",
            "std",
            "random-seed"
        ]
    },
    {
        "index": 8,
        "question_id": 79669730,
        "title": "C macro expansion order (need to understand why)",
        "body": "<p>Consider the macros:</p>\n<pre><code>#define B(y,z) B##y##z\n#define C(z) C##z\n#define A(x) B(x, C(x))\n\n\nA(1)\n</code></pre>\n<p>Everywhere I look, people say arguments are replaced first. Which implies this <strong>should</strong> happen:</p>\n<pre><code>A(1) =&gt; B(1, C(1)) =&gt; B(1, C1) (Argument C(1) first) =&gt; B1C1\n</code></pre>\n<p>However, what I get from <code>gcc -E</code> is</p>\n<pre><code>B1C(1)\n</code></pre>\n<p>Which implies B() was replaced first.</p>\n<p><em>Note: The C standard section 6.10.3.1 says arguments get expanded first. Also, I dont think 6.10.3.4.2 (name of macro in replacement list) applies here.</em></p>\n<p>(Swapping first 2 lines gives the same result.)</p>\n<p>In fact, the following gives me the expected result:</p>\n<pre><code>#define B(y,z) B##y##z\n#define B_H(y,z) B(y,z)\n#define C(z) C##z\n#define A(x) B_H(x, C(x))\n\n\nA(1)\n</code></pre>\n<p>gives <code>B1C1</code> . Which implies... both macros were simultaneously replaced?</p>\n<pre><code>A(1) =&gt; B_H(1, C(1)) =&gt; B(1, C1) (2 replacements) =&gt; B1C1\n</code></pre>\n<p>My question is: what is going on here? What rules are being applied?</p>\n",
        "tags": [
            "c",
            "c-preprocessor"
        ]
    },
    {
        "index": 9,
        "question_id": 79667070,
        "title": "Linux character class matching not working for this expression",
        "body": "<p>I'm trying to write a matcher that matches any of v1.65.x, v1.66.x or v1.67.x. But the moment I introduce a character class, it doesn't work with either a list of characters or a range:</p>\n<pre><code>if [[ &quot;v1.67.x&quot; =~ &quot;v1.67&quot; ]]; then echo matches; else echo no match fi\n</code></pre>\n<p>outputs</p>\n<pre><code>matches\n</code></pre>\n<p>With Character class</p>\n<pre><code>if [[ &quot;v1.67.x&quot; =~ &quot;v1.6[7]&quot; ]]; then echo matches; else echo no match; fi\n</code></pre>\n<p>outputs</p>\n<pre><code> no match\n</code></pre>\n<p>What am I doing wrong?</p>\n",
        "tags": [
            "regex",
            "bash"
        ]
    },
    {
        "index": 10,
        "question_id": 79667762,
        "title": "constant expression error when consteval function called from another",
        "body": "<p>I am trying to use the return value from a consteval function <code>UniqueSize()</code> inside another consteval function <code>UniqueArra</code> to declare an array, but this results in a compiler error saying that <code>UniqueSize()</code> is not a constant expression.</p>\n<p>However, if I use <code>UniqueSize()</code> inside <code>main()</code> and use its return value to declare an array the compiler just accepts it.\nWhy is this happening ? Can someone please explain the difference of constant expressions in these contexts ?</p>\n<p>Thank you in advane.</p>\n<p>See the code below.\n<a href=\"https://godbolt.org/z/nd18WE8M5\" rel=\"nofollow noreferrer\">https://godbolt.org/z/nd18WE8M5</a></p>\n<pre><code>template &lt;typename... Args&gt;\nconsteval auto UniqueSize(Args&amp;&amp;... args)\n{\n    std::vector v{std::forward&lt;Args&gt;(args)...};\n    std::sort(v.begin(), v.end());\n    auto newEnd = std::unique(v.begin(), v.end());\n    return std::distance(v.begin(), newEnd);\n}\n\ntemplate &lt;typename... Args&gt;\nconsteval auto UniqueArray(Args&amp;&amp;... args)\n{\n    // Calling UniqueSize to determine the size of the array returned\n    constexpr auto sz = UniqueSize(std::forward&lt;Args&gt;(args)...);\n    std::array&lt;int, sz&gt; arr{};\n\n    std::vector v{std::forward&lt;Args&gt;(args)...};\n    std::sort(v.begin(), v.end());\n    auto newEnd = std::unique(v.begin(), v.end());\n    std::copy(v.begin(), v.end(), arr.begin());\n    return arr;\n}\n\nint main()\n{\n    // This compiles fine\n    constexpr auto sz = UniqueSize(2, 3, 4, 4, 5, 5);\n    static_assert(sz == 4);\n    std::array&lt;int, sz&gt; array{};\n\n    // This gives an error complaining that `sz` inside UniqueArray is not a constant expression. \n    // auto arr = UniqueArray(2, 3, 4, 4, 5, 5);\n}\n</code></pre>\n",
        "tags": [
            "c++",
            "arrays",
            "c++20",
            "constexpr",
            "consteval"
        ]
    },
    {
        "index": 11,
        "question_id": 79668459,
        "title": "C++ argv with UTF-8 values are incorrect in the program",
        "body": "<p>I'm using Windows 11. I have a program &quot;Hello.exe&quot;</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n\nint main(int argc, char* argv[])\n{\n    for (int i = 0; i &lt; argc; i++)\n    {\n        std::cout &lt;&lt; argv[i] &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n<p>If I pass in a Japanese UTF-8 character to this program</p>\n<pre><code>Hello.exe う\n</code></pre>\n<p>Then nothing is printed. And strangely, the content of this character, as recorded in argv, is <code>3f</code>. But the actual encoding of this character should be <code>e3 81 86</code>.</p>\n<p><strong>What I've tried</strong></p>\n<p>(1) However, if I directly print this character in my code, the encoding would be correct in memory, and the character can be printed to stdout.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>SetConsoleOutputCP(CP_UTF8);\nprintf(&quot;う&quot;)\n</code></pre>\n<p>(2) I also tried using <code>wmain</code> instead of <code>main</code>, can't be printed either. The value stored in argv is <code>46 30</code></p>\n<pre><code>#include &lt;iostream&gt;\n\nint wmain(int argc, wchar_t** argv)\n{\n    for (int i = 0; i &lt; argc; i++)\n    {\n        std::wcout &lt;&lt; argv[i] &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n<p>(3) I also wrote a Python program, which does the same thing, and the character can be printed.</p>\n<p>What am I missing?</p>\n",
        "tags": [
            "c++",
            "utf-8"
        ]
    },
    {
        "index": 12,
        "question_id": 79669219,
        "title": "How to use ValidateScript on a collection instead of the elements in the collection?",
        "body": "<p><a href=\"https://learn.microsoft.com/en-us/powershell/scripting/developer/cmdlet/validatescript-attribute-declaration?view=powershell-7.4\" rel=\"nofollow noreferrer\">Microsoft docs</a> mention that if I apply the ValidateScript attribute to a collection, it will evaluate each element of the collection:</p>\n<blockquote>\n<p>If this attribute is applied to a collection, each element in the collection must match the pattern.</p>\n</blockquote>\n<p>I am trying to validate the collection itself. For example its type:</p>\n<pre><code>function testme {\n    param(\n        [ValidateScript({$_ -is [array] -or $_ -is [hashtable]}, ErrorMessage = &quot;The item '{0}' did not pass validation of script '{1}'&quot;)]\n        [psobject]$args\n    )\n}\n\n$arr = [psobject]@(&quot;aaa&quot;, &quot;bbb&quot;)\n$arr -is [array] #returns True \ntestme -args $arr\n</code></pre>\n<p>This - as expected - nets me this result:\n<code>Cannot validate argument on parameter 'args'. The item 'aaa' did not pass validation of script '$_ -is [array] -or $_ -is [hashtable]'</code></p>\n<p>I am not able to figure out how to match the input collection instead of the elements in the collection.</p>\n",
        "tags": [
            "powershell",
            "validation",
            "parameters",
            "attributes"
        ]
    },
    {
        "index": 13,
        "question_id": 79669572,
        "title": "With reference to ANSI C or C99, why does printf(&quot;%f&quot;,float_var) work?",
        "body": "<p><a href=\"https://wwwbroy.in.tum.de/%7Emalkis/howToReviewPapers.htm\" rel=\"noreferrer\">It is generally believed that</a></p>\n<pre class=\"lang-c prettyprint-override\"><code>float v;\nprintf(&quot;%f&quot;, v);\n</code></pre>\n<p>is the way to print a value stored in a float-type variable (cf., e.g., <a href=\"https://stackoverflow.com/questions/8345581/c-printf-a-float-value\">C: printf a float value</a> or <a href=\"https://stackoverflow.com/questions/5522051/printing-a-float-in-c-while-avoiding-variadic-parameter-promotion-to-double\">Printing a float in C while avoiding variadic parameter promotion to double</a>). However, there is no <em>single</em> spot in the ANSI C and C99 standards that supports this claim. Therefore, to me, this claim/belief seems to result from a combination of several rules concerning printf, variadic functions, and the promotion of floating-point types. Which rules specifically are involved? Quotations from any of the two standards are welcome.</p>\n<p>I don't have copies of all the standards, but if you wish to quote from any up to ISO C17 (which is, up to GNU extensions and according to the man pages, the default for GCC on Debian stable as of now), please feel free.</p>\n",
        "tags": [
            "c",
            "printf",
            "standards",
            "floating-point-conversion",
            "type-promotion"
        ]
    },
    {
        "index": 14,
        "question_id": 79666915,
        "title": "javafx MediaPlayer: why are hundreds and thousands of threads running?",
        "body": "<p>I noticed hundreds and thousands of threads running while debugging my <code>javafx</code> <code>MediaPlayer</code> application in <code>Netbeans</code>.</p>\n<p>So I went to this simple demo code, ran it in the debugger, and again saw hundreds of threads while playing a single track.</p>\n<p>Many threads remain running after the media player is stopped, some threads die.</p>\n<p>What is the reason for so many threads running and how to reduce the number of running threads?</p>\n<pre><code>public class MediaExample extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public void start(Stage primaryStage) throws MalformedURLException {\n        File mediaFile = new File(&quot;assets/media/Golden-48569.mp4&quot;);\n        Media media = new Media(mediaFile.toURI().toURL().toString());\n\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n\n        MediaView mediaView = new MediaView(mediaPlayer);\n\n        Scene scene = new Scene(new Pane(mediaView), 1024, 800);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n        mediaPlayer.play();\n    }\n}\n</code></pre>\n<p>Environment: <code>MacOS</code> 11.7.10, <code>Java JDK 24</code>, <code>javafx</code> versions 21,24,25, Apache NetBeans IDE 25</p>\n<p>Here is command line to run my application in Netbeans &quot;/Applications/Apache NetBeans.app/Contents/Resources/netbeans/java/maven/bin/mvn&quot; &quot;-Dexec.vmArgs=--module-path '/Users/dev/javafx-sdk-24/lib' --add-modules javafx.controls,javafx.media,javafx.swing&quot; &quot;-Dexec.args=${exec.vmArgs} -classpath %classpath ${exec.mainClass} ${exec.appArgs}&quot; -Dexec.appArgs= -Dexec.mainClass=my.Test -Dexec.executable=/Library/Java/JavaVirtualMachines/24.jdk/Contents/Home/bin/java --no-transfer-progress process-classes org.codehaus.mojo:exec-maven-plugin:3.1.0:exec</p>\n<p>The print screens below show over 10 000 running threads while playing a 4 minutes video and High Idle Wake Ups time 400 ms because JVM is switching between threads.</p>\n<p><a href=\"https://i.sstatic.net/xQ66d0iI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/xQ66d0iI.jpg\" alt=\"Over 10 000 running threads while playing a 4 minutes video\" /></a></p>\n<p><a href=\"https://i.sstatic.net/HlWAPrNO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/HlWAPrNO.jpg\" alt=\"High Idle Wake Ups time 400 ms\" /></a></p>\n<p><a href=\"https://i.sstatic.net/E4OHPpdZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/E4OHPpdZ.jpg\" alt=\"JConsole\" /></a></p>\n",
        "tags": [
            "javafx",
            "concurrency",
            "media-player",
            "java-threads"
        ]
    },
    {
        "index": 15,
        "question_id": 79667091,
        "title": "Google Chat API suddenly returns 500 Internal Server Error after 2 years of stable operation",
        "body": "<p>I have a production Java application that has been sending messages to Google Chat spaces using the <a href=\"https://developers.google.com/chat/api/reference/rest\" rel=\"nofollow noreferrer\">Google Chat API</a> for over two years with absolutely no issues. The relevant code and Google Cloud configuration have not changed at all during this time. Suddenly, starting today (2025-06-16), every attempt to send a message is failing with a 500 Internal Server Error from the API.</p>\n<p>To emphasize:\nThis part of our codebase has been stable and untouched for two years, always working fine until today. No deployments, configuration, or permission changes have been made recently.</p>\n<p>Java Code:</p>\n<pre><code>try {\n    HangoutsChat hangoutsChat =\n        hangoutsChatManager.getChatService(TenantContextHolderUtil.getTenantCode());\n    if (hangoutsChat != null) {\n        hangoutsChat.spaces().messages().create(item.getUnionId(), reply).execute();\n    }\n    return true;\n} catch (Exception e) {\n    log.error(&quot;send msg to google chat error&quot;, e);\n    return false;\n}\n</code></pre>\n<p>The error occurs specifically at this line:</p>\n<pre><code>hangoutsChat.spaces().messages().create(item.getUnionId(), reply).execute();\n</code></pre>\n<p>Error Message and Stack Trace</p>\n<pre><code>com.google.api.client.googleapis.json.GoogleJsonResponseException: 500 Internal Server Error\nPOST https://chat.googleapis.com/v1/spaces/pkuYy0AAAAE/messages\n{\n  &quot;code&quot;: 500,\n  &quot;errors&quot;: [\n    {\n      &quot;domain&quot;: &quot;global&quot;,\n      &quot;message&quot;: &quot;Internal error encountered.&quot;,\n      &quot;reason&quot;: &quot;backendError&quot;\n    }\n  ],\n  &quot;message&quot;: &quot;Internal error encountered.&quot;,\n  &quot;status&quot;: &quot;INTERNAL&quot;\n}\n    at com.google.api.client.googleapis.json.GoogleJsonResponseException.from(GoogleJsonResponseException.java:146)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:118)\n    at com.google.api.client.googleapis.services.json.AbstractGoogleJsonClientRequest.newExceptionOnError(AbstractGoogleJsonClientRequest.java:37)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest$3.interceptResponse(AbstractGoogleClientRequest.java:479)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1111)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:565)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:506)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:616)\n</code></pre>\n<p>Environment</p>\n<p>Java 21\nGoogle API Client Library for Java (version: v1-rev20240912-2.0.0)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-services-chat&lt;/artifactId&gt;\n    &lt;version&gt;v1-rev20240912-2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Google Workspace Enterprise\nService account authentication</p>\n<p>What I’ve Tried</p>\n<p>Verified that the service account, authentication, and all permissions are still valid and unchanged.\nTried sending a simple plain text message (&quot;test&quot;) to rule out formatting/content issues.\nTried using a different space (spaceId) and a different user.\nChecked <a href=\"https://www.google.com/appsstatus\" rel=\"nofollow noreferrer\">Google Workspace Status Dashboard</a> and <a href=\"https://status.cloud.google.com/\" rel=\"nofollow noreferrer\">Google Cloud Status Dashboard</a> — no reported outages.\nSearched for any recent changes or incidents related to Google Chat API — nothing found.\nThere have been no recent changes in Google Workspace domain policies or API quotas.</p>\n<p>Questions</p>\n<p>Has anyone experienced a similar sudden onset of 500 Internal Server Error with the Google Chat API?\nIs there any way to further debug what’s going wrong with this API endpoint when the error is so generic?\nAre there any known recent changes in Google Chat API, permissions, or backend that could cause this?</p>\n",
        "tags": [
            "java",
            "google-cloud-platform",
            "http-status-code-500",
            "google-chat"
        ]
    },
    {
        "index": 16,
        "question_id": 79667441,
        "title": "How can I cache video content with the &lt;video&gt; tag in React?",
        "body": "<p>I have this piece of code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;video\n  ref={videoEl}\n  width={videoWidth}\n  height={videoHeight}\n  controls={true}\n  preload=&quot;auto&quot;\n  onPlay={onPlayClick}&gt;\n  &lt;source src={videoUrl} type=&quot;video/webm&quot; /&gt;\n&lt;/video&gt;\n</code></pre>\n<p><code>videoUrl</code> comes to the component via props. I'm trying to do HTTP caching of the video. In the header of the response from the server via <code>videoUrl</code>, I have the header <code>Cache-Control: public,max-age=86400</code>. While the video is cached and subsequent requests no longer go to this URL.</p>\n<p>However, at the same time in the player, I do not have access to the entire video. For example, the video starts at 0:00 and the entire video is loaded as if it was watched to the end. Only then I would see 0:05/0:07. In Firefox, it seems like caching works every other time and the entire video is loaded. Responses from the server come to me as <code>206 Partial Content</code>.</p>\n<p>Is it possible to cache video in the player via the <code>&lt;video&gt;</code> tag or is this some kind of default limitation? Maybe it has something to do with the the <code>video/webm</code> type. I'm open to any discussions and questions, and I really want to figure out what's going on.</p>\n<p>I tried caching via Service Workers, but in my opinion it's not a very good solution, and I want to understand if it can be done via HTTP caching. Maybe I somehow misunderstood the principle of HTTP caching and I need to change something in the server?</p>\n<p>Here is an example of the HTTP Response headers that come from the server:</p>\n<pre class=\"lang-none prettyprint-override\"><code>accept-ranges\n    bytes\ncache-control\n    public, max-age=86400\ncontent-length\n    2214284\ncontent-range\n    bytes 0-2214283/2214284\ncontent-type\n    video/mp4\ndate\n    Mon, 16 Jun 2025 12:24:29 GMT\netag\n    &quot;a73be86458dbdc5b076cf0a582bc152b&quot;\nlast-modified\n    Fri, 13 Jun 2025 11:37:31 GMT\nserver\n    nginx\nvary\n    Origin, Access-Control-Request-Headers, Access-Control-Request-Method\n</code></pre>\n",
        "tags": [
            "javascript",
            "html",
            "reactjs"
        ]
    },
    {
        "index": 17,
        "question_id": 79667488,
        "title": "Flutter Text widget not displaying",
        "body": "<p>Can you tell me why the text in this code is not displayed?</p>\n<pre><code>  @override\n  Widget build(BuildContext context) {\n    return Row(\n      children: [\n        Flexible(child: Text(&quot;Hello, world!&quot;, textDirection: TextDirection.ltr))\n      ],\n    );\n  }\n</code></pre>\n<p>I am using sdk: ^3.8.1</p>\n<p>Thanks.</p>\n",
        "tags": [
            "flutter",
            "dart"
        ]
    },
    {
        "index": 18,
        "question_id": 79667512,
        "title": "How to use ParamArray correctly with Class",
        "body": "<p>I have a Class ReportError</p>\n<pre><code>Option Explicit\nPublic ID As String\nPublic bookType As String\nPublic msg As String\nPublic sheetName As String\nPublic c As Long\nPublic r As Long\nPrivate pValues() As Variant\nPublic Property Get Values() As Variant()\n    Values = pValues\nEnd Property\nPublic Property Let Values(ByRef arr() As Variant)\n    pValues = arr\nEnd Property\n</code></pre>\n<p>And Sub CreateErrorForReport</p>\n<pre><code>Public Sub CreateErrorForReport(ByVal errID As String, ByVal errSheetName As String, ByVal errRow As Long, ByVal errCol As Long, ParamArray Fields() As Variant)\n    Dim shtSource As Worksheet\n    Dim i As Long, row As Long\n    Dim err As New ReportError\n    Set shtSource = Worksheets(ERR_WS_NAME)\n\n    If UBound(Fields) &gt;= LBound(Fields) Then\n            err.Values = Fields  \n    End If\n\n    error_index = error_index + 1\n    errorDict.Add error_index, err\nEnd Sub\n</code></pre>\n<p>In my main module i have row</p>\n<pre><code>CreateErrorForReport &quot;010&quot;, ws.Name, i, 15, 16, 17, 18, 19, 20\n</code></pre>\n<p>But have Type Missmatch error on row</p>\n<pre><code>err.Values = Fields\n</code></pre>\n<p>How to add Param Array Fields to object property Values correctly?</p>\n",
        "tags": [
            "vba"
        ]
    },
    {
        "index": 19,
        "question_id": 79667569,
        "title": "How to handle procedure overloads of signals in VHDL-2008",
        "body": "<p>I have a general question regarding the calling of procedures with other types. In the general sense, what is the correct way to declare an overload of a procedure so it may be called later using multiple types?</p>\n<p>Consider the dummy case of a simple procedure that should work the same for both <code>std_logic_vector</code> / <code>unsigned</code> / <code>std_logic</code>. The <code>unsigned</code> variant in my example will fail bc of a looped call to itself, and the <code>std_logic</code> variant will fail because of an ambiguous call. However, directly converting in the procedure call is not allowed and will cause an error as well (ref: <em>IEEE Std 1076-2008 section 4.2.2.3 &quot;Signal parameters&quot;</em>). Creating an intermediate signal is also not an option, as signals cannot be declared in a procedure's declarative part.</p>\n<p>What is the best practice for making overloads when knowing the core procedure will handle all cases the same way (as with my dummy case of using the &quot;=&quot; operator)?</p>\n<pre><code>package body dummy_pkg is\n    procedure dummy_procedure(\n        signal value_1 : std_logic_vector;\n        signal value_2 : std_logic_vector\n    ) is\n    begin\n        assert value_1 = value_2\n            report &quot;dummy_procedure: value_1 and value_2 are not equal&quot;\n            severity error;\n        wait until value_1'event or value_2'event;\n    end procedure dummy_procedure;\n\n    procedure dummy_procedure(\n        signal value_1 : unsigned;\n        signal value_2 : unsigned\n    ) is\n    begin\n        dummy_procedure(\n            value_1 =&gt; value_1,\n            value_2 =&gt; value_2\n        );\n    end procedure dummy_procedure;\n\n    procedure dummy_procedure(\n        signal value_1 : std_logic;\n        signal value_2 : std_logic\n    ) is\n    begin\n        dummy_procedure(\n            value_1(0) =&gt; value_1,\n            value_2(0) =&gt; value_2\n        );\n    end procedure dummy_procedure;\n\nend package body dummy_pkg;\n</code></pre>\n<p>I understand I can work around this by simply writing the procedure out for each type, but if I am missing an obvious solution, it would be nice to learn for future use.</p>\n",
        "tags": [
            "vhdl",
            "vhdl-2008"
        ]
    },
    {
        "index": 20,
        "question_id": 79667827,
        "title": "tomcat multipart upload for many attachments (&gt;10) not working after update to 9.0.106",
        "body": "<p>Awe have upgraded our Tomcat version from 9.0.102 to 9.0.106. Since then, it is no longer possible to upload more than 10 files in a single POST request, which is from the client's side initiated by:</p>\n<pre><code>&lt;form ... enctype=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\n  &lt;input type=&quot;file&quot; name=&quot;attachments&quot; multiple=&quot;1&quot;&gt;\n</code></pre>\n<p>Before the update, it was possible to upload many files in one POST request without any issue. Now, if the user uploads more files, we receive the following exception:</p>\n<pre><code>org.apache.tomcat.util.http.fileupload.impl.FileCountLimitExceededException\n</code></pre>\n<p>This happens while evaluating in the servlet's doPost method:</p>\n<pre><code>Log.println(&quot;upload: parts=&quot; + request.getParts().size() + &quot; contentLength=&quot; + request.getContentLength());\n</code></pre>\n<p>So it seems that something has changed in Tomcat between version 9.0.102 and 9.0.106 related to the property:</p>\n<pre><code>FileUploadBase.fileCountMax\n</code></pre>\n<p>However, when checking the source code, the default value is still initialized with -1 (which should mean &quot;unlimited&quot;), but in the deployment environment it somehow behaves as if it was set to 10.</p>\n<p>We have downloaded the Tomcat binary directly from Apache.org and are not using any packaged version provided by the Linux distribution.</p>\n<p>Even explicitly setting</p>\n<pre><code>org.apache.tomcat.util.http.fileupload.FileUploadBase.fileCountMax=200\n</code></pre>\n<p>in catalina.properties has no effect.</p>\n<p>Any ideas where this new default limit might be coming from?</p>\n",
        "tags": [
            "java",
            "file-upload",
            "tomcat9"
        ]
    },
    {
        "index": 21,
        "question_id": 79667833,
        "title": "Why does the C++ Core Guideline C.46 recommend explicit only for single-argument constructors?",
        "body": "<p>According to the C++ Core Guidelines, rule C.46:</p>\n<blockquote>\n<p>By default, declare single-argument constructors explicit.</p>\n</blockquote>\n<p>The reason is to avoid unintended conversions.</p>\n<p>However, why is the explicit keyword recommended to avoid unintended conversions only for constructors with a single argument? Wouldn't implicit conversions with multiple arguments also be potentially problematic?</p>\n<p>EDIT:</p>\n<p>For example, in the code below, can't <code>ComplexC</code> and <code>ComplexD</code> be used for implicit conversion (see function calls below)? If so, wouldn't the rule apply to <code>ComplexD</code> as well?</p>\n<pre><code>class ComplexA {            // example from C.46        \npublic:\n    ComplexA(double r) {}\n};\n\nclass ComplexB {\npublic:\n    explicit ComplexB(double r) {}\n};\n\nclass ComplexC {\npublic:\n    ComplexC(double r, double i) {}\n};\n\nclass ComplexD {\npublic:\n    explicit ComplexD(double r, double i) {}\n};\n\nvoid f_non_explicit(ComplexA a) {\n    std::cout &lt;&lt; &quot;Called f_non_explicit for ComplexA\\n&quot; ; }\n\nvoid f_explicit(ComplexB b) {\n    std::cout &lt;&lt; &quot;Called f_explicit for ComplexB\\n&quot; ; }\n\nvoid f_non_explicit(ComplexC c) {\n    std::cout &lt;&lt; &quot;Called f_non_explicit for ComplexC\\n&quot; ; }\n\nvoid f_explicit(ComplexD d) {\n    std::cout &lt;&lt; &quot;Called f_explicit for ComplexD\\n&quot; ; }\n\nint main()\n{\n    ComplexA za = {10.7};\n    // ComplexB zb = {10.7};        // error: constructor is explicit in copy-initialization\n\n    ComplexC zc = {10.7, 11};\n    // ComplexD zd = {10.7, 11};     // error: constructor is explicit in copy-initialization\n\n    f_non_explicit({100.1});            // prints &quot;Called f_non_explicit for ComplexA&quot;\n    f_non_explicit({200.1, 300.1});     // prints &quot;Called f_non_explicit for ComplexC&quot;\n\n    // f_explicit({100.1});             // error: error: no matching function\n    // f_explicit({200.1, 300.1});      // error: error: no matching function\n}\n</code></pre>\n",
        "tags": [
            "c++",
            "explicit",
            "cpp-core-guidelines"
        ]
    },
    {
        "index": 22,
        "question_id": 79667918,
        "title": "Fastest way to find the indices of two Numpy arrays that meet a condition",
        "body": "<p>Say I have two large numpy arrays <code>a1</code> and <code>a2</code> (each with 10000 numbers). I want to find the indices in each array that meet the condition of <code>f(x1, x2) &gt; 0</code>. To be clear, for each number in <code>a1</code> (or <code>a2</code>), if there's <strong>any</strong> number in <code>a2</code> (or <code>a1</code>) that meets the condition, then it is a valid number. For now I am using one loop over <code>a1</code> and only using numpy vectorization for calculations on <code>a2</code>:</p>\n<pre><code>import numpy as np\n\na1 = np.random.rand(10000)\na2 = np.random.rand(10000)\n\ndef f(x1, x2):\n    return np.exp(x2 - x1) / 1.2 - 1\n\nvalid_i1_set = set()\nvalid_i2_set = set()\nfor i1 in range(len(a1)):\n    valid_i2 = np.nonzero(f(a1[i1], a2) &gt; 0)[0].tolist()\n    valid_i2_set.update(valid_i2)\n    if len(valid_i2) &gt; 0:\n        valid_i1_set.add(i1)\nprint(sorted(valid_i1_set))\nprint(sorted(valid_i2_set))\n</code></pre>\n<p>I imagine there should be a faster way to do this without a for loop. Making a product array of 10000x10000 numbers also doesn't feel right. Any suggestions?</p>\n",
        "tags": [
            "python",
            "arrays",
            "algorithm",
            "numpy",
            "performance"
        ]
    },
    {
        "index": 23,
        "question_id": 79668006,
        "title": "DuckDB drop column: no column named that way",
        "body": "<p>Why DuckDB tells me there is no column named that way when I try to drop a column?</p>\n<pre><code>D DESCRIBE oa_pub;\n┌──────────────┬─────────────┬─────────┬─────────┬──────────────────────────┬─────────┐\n│ column_name  │ column_type │  null   │   key   │         default          │  extra  │\n│   varchar    │   varchar   │ varchar │ varchar │         varchar          │ varchar │\n├──────────────┼─────────────┼─────────┼─────────┼──────────────────────────┼─────────┤\n│ id           │ INTEGER     │ NO      │ PRI     │ nextval('oa_pub_id_seq') │ NULL    │\n│ project_id   │ INTEGER     │ NO      │ UNI     │ NULL                     │ NULL    │\n│ oa_author_id │ VARCHAR     │ NO      │ UNI     │ NULL                     │ NULL    │\n│ oa_pub_id    │ VARCHAR     │ NO      │ UNI     │ NULL                     │ NULL    │\n│ oa_pub_json  │ JSON        │ YES     │ NULL    │ NULL                     │ NULL    │\n│ oa_pub_id_2  │ VARCHAR     │ YES     │ NULL    │ NULL                     │ NULL    │\n└──────────────┴─────────────┴─────────┴─────────┴──────────────────────────┴─────────┘\nD ALTER TABLE oa_pub DROP COLUMN oa_pub_id;\nCatalog Error:\ntable &quot;oa_pub&quot; does not have a column named oa_pub_id\n</code></pre>\n",
        "tags": [
            "duckdb"
        ]
    },
    {
        "index": 24,
        "question_id": 79668522,
        "title": "How to migrate my CRA .eslintrc.js config to eslint.config.js in a new Vite + React 19 app",
        "body": "<p>I'm trying to set up the same ESLint configuration in my new React 19 + Vite app using the modern <code>eslint.config.js</code> format. However, it's not working — the linter doesn’t show any errors or warnings in the editor.\nNew <code>eslint.config.js</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>import globals from &quot;globals&quot;;\nimport pluginReact from &quot;eslint-plugin-react&quot;;\nimport { defineConfig } from &quot;eslint/config&quot;;\n\nimport reactHooks from &quot;eslint-plugin-react-hooks&quot;;\nimport reactRefresh from &quot;eslint-plugin-react-refresh&quot;;\nimport prettier from &quot;eslint-plugin-prettier&quot;;\nimport importPlugin from &quot;eslint-plugin-import&quot;;\nimport react from &quot;eslint-plugin-react&quot;;\nimport jsxA11y from &quot;eslint-plugin-jsx-a11y&quot;;\n\nexport default defineConfig([\n  { ignores: [&quot;dist&quot;] },\n  {\n    files: [&quot;**/*.{js,mjs,cjs,jsx}&quot;],\n    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n      parserOptions: {\n        ecmaVersion: &quot;latest&quot;,\n        ecmaFeatures: { jsx: true },\n        sourceType: &quot;module&quot;,\n      },\n    },\n    plugins: {\n      &quot;react-hooks&quot;: reactHooks,\n      &quot;react-refresh&quot;: reactRefresh,\n      prettier,\n      import: importPlugin,\n      react,\n      &quot;jsx-a11y&quot;: jsxA11y,\n    },\n    rules: {\n      ...js.configs.recommended.rules,\n      ...reactHooks.configs.recommended.rules,\n      // &quot;no-unused-vars&quot;: [&quot;error&quot;, { varsIgnorePattern: &quot;^[A-Z_]&quot; }],\n      // &quot;no-undef&quot;: [&quot;error&quot;, { globals: { process: true } }],\n      // Vite React specific\n      &quot;react-refresh/only-export-components&quot;: [\n        &quot;warn&quot;,\n        { allowConstantExport: true },\n      ],\n\n      // Your custom rules from old config\n      &quot;prettier/prettier&quot;: &quot;off&quot;,\n      &quot;no-nested-ternary&quot;: &quot;off&quot;,\n      &quot;no-underscore-dangle&quot;: &quot;off&quot;,\n      &quot;default-param-last&quot;: &quot;off&quot;,\n      &quot;prefer-arrow-callback&quot;: &quot;error&quot;,\n      camelcase: [&quot;error&quot;, { properties: &quot;never&quot;, ignoreDestructuring: true }],\n      &quot;no-else-return&quot;: [&quot;error&quot;, { allowElseIf: true }],\n      &quot;no-param-reassign&quot;: [&quot;error&quot;, { props: false }],\n\n      // Import rules\n      &quot;import/no-extraneous-dependencies&quot;: [\n        &quot;error&quot;,\n        {\n          devDependencies: false,\n          optionalDependencies: false,\n          peerDependencies: false,\n        },\n      ],\n      &quot;import/order&quot;: [\n        &quot;error&quot;,\n        {\n          pathGroups: [\n            {\n              pattern: &quot;react&quot;,\n              group: &quot;external&quot;,\n              position: &quot;before&quot;,\n            },\n          ],\n          pathGroupsExcludedImportTypes: [&quot;builtin&quot;],\n        },\n      ],\n      &quot;import/no-unused-modules&quot;: [&quot;error&quot;, { unusedExports: true }],\n\n      // React rules\n      &quot;react/require-default-props&quot;: &quot;off&quot;,\n      &quot;react/jsx-no-undef&quot;: [&quot;error&quot;, { allowGlobals: true }],\n      &quot;react/jsx-uses-vars&quot;: &quot;error&quot;,\n\n      // Best Practices\n      eqeqeq: &quot;error&quot;,\n      &quot;no-invalid-this&quot;: &quot;error&quot;,\n      &quot;no-return-assign&quot;: &quot;error&quot;,\n      &quot;no-unused-expressions&quot;: [&quot;error&quot;, { allowTernary: true }],\n      &quot;no-useless-concat&quot;: &quot;error&quot;,\n      &quot;no-useless-return&quot;: &quot;error&quot;,\n      &quot;no-use-before-define&quot;: &quot;error&quot;,\n      &quot;no-duplicate-imports&quot;: &quot;error&quot;,\n      &quot;no-plusplus&quot;: [&quot;error&quot;, { allowForLoopAfterthoughts: true }],\n\n      // Variable and import rules\n      &quot;no-undef&quot;: &quot;error&quot;,\n      &quot;no-unused-vars&quot;: [\n        &quot;error&quot;,\n        {\n          vars: &quot;all&quot;,\n          args: &quot;after-used&quot;,\n          ignoreRestSiblings: true,\n          varsIgnorePattern: &quot;^[A-Z_]&quot;, // Keep the pattern from new config\n        },\n      ],\n    },\n    settings: {\n      react: {\n        version: &quot;detect&quot;,\n      },\n    },\n  },\n  pluginReact.configs.recommended,\n]);\n</code></pre>\n<p>This is the ESLint config I used successfully in my older CRA app <code>(.eslintrc.js)</code>:</p>\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = {\n  env: {\n    browser: true,\n    es2021: true,\n    node: true,\n  },\n  extends: [&quot;prettier&quot;],\n\n  plugins: [&quot;prettier&quot;, &quot;import&quot;, &quot;react&quot;, &quot;react-hooks&quot;, &quot;jsx-a11y&quot;],\n  parserOptions: {\n    ecmaFeatures: {\n      jsx: true,\n    },\n    ecmaVersion: 12,\n    sourceType: &quot;module&quot;,\n  },\n  rules: {\n    &quot;prettier/prettier&quot;: &quot;off&quot;,\n    &quot;no-nested-ternary&quot;: &quot;off&quot;,\n    &quot;react/require-default-props&quot;: &quot;off&quot;,\n    &quot;no-underscore-dangle&quot;: [&quot;off&quot;],\n    &quot;default-param-last&quot;: &quot;off&quot;,\n    &quot;prefer-arrow-callback&quot;: &quot;error&quot;,\n    camelcase: [&quot;error&quot;, { properties: &quot;never&quot;, ignoreDestructuring: true }],\n    &quot;no-else-return&quot;: [&quot;error&quot;, { allowElseIf: true }],\n    &quot;no-param-reassign&quot;: [&quot;error&quot;, { props: false }],\n    // Best Practices\n    &quot;import/no-extraneous-dependencies&quot;: [\n      &quot;error&quot;,\n      {\n        devDependencies: false,\n        optionalDependencies: false,\n        peerDependencies: false,\n      },\n    ],\n    eqeqeq: &quot;error&quot;,\n    &quot;no-invalid-this&quot;: &quot;error&quot;,\n    &quot;no-return-assign&quot;: &quot;error&quot;,\n    &quot;no-unused-expressions&quot;: [&quot;error&quot;, { allowTernary: true }],\n    &quot;no-useless-concat&quot;: &quot;error&quot;,\n    &quot;no-useless-return&quot;: &quot;error&quot;,\n    &quot;no-use-before-define&quot;: &quot;error&quot;,\n    &quot;no-duplicate-imports&quot;: &quot;error&quot;,\n    &quot;no-plusplus&quot;: [&quot;error&quot;, { allowForLoopAfterthoughts: true }],\n    &quot;import/order&quot;: [\n      &quot;error&quot;,\n      {\n        pathGroups: [\n          {\n            pattern: &quot;react&quot;,\n            group: &quot;external&quot;,\n            position: &quot;before&quot;,\n          },\n        ],\n        pathGroupsExcludedImportTypes: [&quot;builtin&quot;],\n      },\n    ],\n    // Ensure components are imported if used\n    &quot;react/jsx-no-undef&quot;: [&quot;error&quot;, { allowGlobals: true }],\n    // Ensure all variables are declared before use\n    &quot;no-undef&quot;: &quot;error&quot;,\n    // Ensure there are no unused variables\n    &quot;no-unused-vars&quot;: [&quot;error&quot;, { vars: &quot;all&quot;, args: &quot;after-used&quot;, ignoreRestSiblings: true }],\n    // Ensure there are no unused imports\n    &quot;import/no-unused-modules&quot;: [&quot;error&quot;, { unusedExports: true }],\n    // Mark variables used in JSX as used\n    &quot;react/jsx-uses-vars&quot;: &quot;error&quot;,\n  },\n  settings: {\n    react: {\n      version: &quot;detect&quot;,\n    },\n  },\n};\n</code></pre>\n<p>I did try <code>npm run lint</code> but I get this:</p>\n<blockquote>\n<p>Oops! Something went wrong! :(</p>\n<p>ESLint: 9.28.0</p>\n<p>ESLint couldn't find a configuration file. To set up a configuration file for this project, please run:</p>\n<p><code>npm init @eslint/config@latest</code></p>\n</blockquote>\n<p>And if I run this command, it resets full eslint.config.js file</p>\n<p>But I’m not sure how to properly convert or apply it to the new flat config (eslint.config.js).\nAny ideas on how to correctly set it up so ESLint works in the new environment?</p>\n",
        "tags": [
            "javascript",
            "reactjs",
            "vite",
            "eslint",
            "prettier"
        ]
    },
    {
        "index": 25,
        "question_id": 79668550,
        "title": "Understanding sizeof for C Structures with bit-fields: alignment and packing",
        "body": "<p>I am trying to understand how the <code>sizeof</code> operator works for C structures with bit-fields, particularly regarding packing and alignment. Below is a C program I wrote:</p>\n<pre><code>#include &lt;stdio.h&gt;\n\ntypedef struct {\n    unsigned char x : 4;\n    short int y : 8;\n    short int z : 8;\n} test;\n\ntypedef struct {\n    char x : 4;\n    short int y : 10;\n    short int z : 10;\n} test2;\n\nint main() {\n    printf(&quot;%d\\n&quot;, sizeof(test));\n    printf(&quot;%d\\n&quot;, sizeof(test2));\n    return 0;\n}\n</code></pre>\n<p>I calculated the sizes as follows:</p>\n<ol>\n<li><code>test</code>: 4 bytes. I think <code>x</code> (4 bits) takes 1 byte (8 bits). Because\nthe <code>next</code> bit-field can't store in the remaining 4 bits. And padding also\napplied of 1 byte. <code>y</code> (8 bits) and <code>z</code> (8 bits) are packed into a\n16-bit <code>short int</code>, totaling 4 bytes.</li>\n<li><code>test2</code>: 6 bytes. I think <code>x</code> (4 bits) takes 1 byte (8 bits) with\npadding 4 bits, <code>y</code> (10 bits) takes a new 2-byte <code>short int</code> unit with\npadding, and <code>z</code> (10 bits) takes another 2-byte unit with padding,\ntotaling 6 bytes.</li>\n</ol>\n<p>Actual output:</p>\n<pre><code>4\n4\n</code></pre>\n<p>My compiler is <strong>gcc</strong> and my machine is windows x64.</p>\n<p>Why does this happen? How are bit-fields implemented?</p>\n",
        "tags": [
            "c",
            "struct",
            "padding",
            "bit-fields"
        ]
    },
    {
        "index": 26,
        "question_id": 79668807,
        "title": "How does click event behavior work when dragging?",
        "body": "<p>I'm experiencing unexpected behavior click and drag events between a div and the body in JavaScript.</p>\n<p>Here's the behavior I'm seeing when I click and drag:</p>\n<ul>\n<li>Start in the floating div, release in body → logs Body Event</li>\n<li>Start and release in floating → logs Floating Event</li>\n<li>Start in body, release in floating → logs Body Event</li>\n<li>Start and release in body → logs Body Event</li>\n</ul>\n<p>The surprising case is the third one: <strong>Why doesn't the click event fire on the floating div when I release the mouse over it, even though the mouseup happens on it?</strong></p>\n<p>Here's the setup:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById('floating').addEventListener('click', (e) =&gt; {\n  e.stopPropagation();\n  console.log('Floating Event');\n});\n\ndocument.body.addEventListener('click', () =&gt; {\n  console.log('Body Event');\n});</code></pre>\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body, html {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.floating-object {\n  position: absolute;\n  top: 60px;\n  left: 200px;\n  width: 150px;\n  height: 150px;\n  background: orange;\n  border-radius: 50%;\n  z-index: 1002;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);\n}</code></pre>\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"floating-object\" id=\"floating\"&gt;&lt;/div&gt;</code></pre>\n</div>\n</div>\n</p>\n",
        "tags": [
            "javascript",
            "html"
        ]
    },
    {
        "index": 27,
        "question_id": 79668993,
        "title": "GluonFX Native Image MIDI Issues",
        "body": "<p>I have a JavaFX App where I use a MIDI device (Akai APC mini mk2) and I need to make a native image using GluonFX. Issue is concerning GluonFX native image and the use of MIDI.</p>\n<p><strong>Remember to read below Update 1 and 2.</strong></p>\n<p>The App is built in IntelliJ and this is MRE:</p>\n<pre><code>package org.example;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport javax.sound.midi.MidiDevice.Info;\nimport javax.sound.midi.MidiSystem;\n\npublic class FindMidiApp extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        primaryStage.setTitle(&quot;Find Midi&quot;);\n        ListView&lt;String&gt; listView = new ListView&lt;&gt;();\n        VBox vbox = new VBox(10, listView);\n\n        try {\n\n            Info[] midiInfos = MidiSystem.getMidiDeviceInfo();\n\n            for (Info info : midiInfos) {\n\n                listView.getItems().add(String.format(&quot;%s - %s&quot;, info.getName(), info.getDescription()));\n                \n            }\n\n        } catch (Exception e) {\n\n            e.printStackTrace();\n\n        }\n\n        Scene scene = new Scene(vbox, 500, 300);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n    }\n\n    public static void main(String[] args) {\n\n        launch(args);\n\n    }\n\n}\n</code></pre>\n<p>Using maven so this is the pom:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ListMidi&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;23&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n                &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0.26&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.example.FindMidiApp&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.example.FindMidiApp&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And this is the  module-info.java:</p>\n<pre><code>module org.example {\n    requires javafx.controls;\n    requires java.desktop;\n    exports org.example;\n}\n</code></pre>\n<ul>\n<li>Using Windows 11.</li>\n<li>Maven 3.9.10</li>\n<li>graalvm-java23-windows-amd64-gluon-23+25.1-dev (for building native image)</li>\n<li>JavaFX 23 (when running in IntelliJ)</li>\n<li>gluonfx-maven-plugin 1.0.26</li>\n<li>OpenJDK 23 (when running in IntelliJ)</li>\n</ul>\n<p>In IntelliJ the App works fine and it finds the APC Mini.</p>\n<p>I have read and followed this: <a href=\"https://docs.gluonhq.com/#platforms_windows\" rel=\"nofollow noreferrer\">https://docs.gluonhq.com/#platforms_windows</a> so now I want to turn the App into a native image with GluonFX so I open X64 native tool prompt and first browse to the folder with the project. Now I run (on computer a):</p>\n<p><em>mvn clean</em></p>\n<p>And then:</p>\n<p><em>mvn gluonfx:runagent</em></p>\n<p>App opens and finds APC mini.\nNow I run:</p>\n<p><em>mvn gluonfx:build</em></p>\n<p>Native image is built, and I run:</p>\n<p><em>mvn gluonfx:nativerun</em></p>\n<p>App opens and APC Mini is found and the same is going on if I open the native image directly from the folder, so far all is good.</p>\n<p><strong>This is the issue:</strong></p>\n<p>If I move the native image to another computer (computer b) and plugs the APC Mini into that computer only “Gervill – Software Midi Synthesizer” and “Real Time Sequencer – Software sequencer” are found.\nNo APC Mini is found and not “Microsoft Midi Mapper – Windows Midi_mapper” and “Microsoft GS WaveTable Synth – Internal Software synthesizer” that was found on computer a.</p>\n<p>If I copy the entire project to computer b, and runs it in IntelliJ then all the midi devices are found. All devices are also found on computer b if i run mvn glunfx:runagent but mvn gluonfx:nativerun (after gluonfx:build) only finds “Gervill – Software Midi Synthesizer” and “Real Time Sequencer – Software sequencer” and the same is happening if I run the generated native image directly from the folder.</p>\n<p>So native image works on computer a and not (when moved) on computer b. And native image generated on computer b is not working working on computer b.\nAnd! when native image generated on computer b runs on computer a then it works so all in all native image works on computer a, no matter where it is generated.</p>\n<p>I'm not sure this is related to the code or general Windows. Both computers have the same Windows version and updates. I have tested the APC Mini with a third party app, <a href=\"https://hautetechnique.com/midi/midiview/\" rel=\"nofollow noreferrer\">https://hautetechnique.com/midi/midiview/</a>, and it finds the APC Mini on both computers.</p>\n<p><strong>Update 1:</strong></p>\n<p>When running below simple java from cmd in windows all devices are found on computer b (and computer a):</p>\n<pre><code>import javax.sound.midi.MidiDevice;\nimport javax.sound.midi.MidiSystem;\n\npublic class Main {\n    public static void main(String[] args) {\n        \n        MidiDevice.Info[] midiInfos = MidiSystem.getMidiDeviceInfo();\n        for (MidiDevice.Info info : midiInfos) {\n            System.out.println(info.getName() + &quot; &quot; + info.getDescription());\n        }\n    }\n}\n</code></pre>\n<p><strong>Update 2:</strong></p>\n<p>Okay, this is interesting:\nI found that having C:\\yy\\xx.jdks\\openjdk-24\\bin defined in the environment variable PATH on computer B allows the app to find all devices on computer B, even when using the native image generated on computer A.</p>\n<p>So, the short answer is: The native image doesn't find any devices on computer B because Java is not defined in the PATH.</p>\n<p>Is that how it is supposed to be?</p>\n",
        "tags": [
            "java",
            "javafx",
            "midi",
            "graalvm-native-image",
            "gluonfx"
        ]
    },
    {
        "index": 28,
        "question_id": 79669116,
        "title": "Creating a character grid from a table; output is inverted",
        "body": "<p>I was given a problem that takes in a table of information (grid coordinates and characters) and asked to place them into a table to make a message.</p>\n<p>I've spent time working on some Python to work it out but my answer is coming out upside down and I can't figure out why.</p>\n<pre><code>import requests \nfrom bs4 import BeautifulSoup \n\nwebpage_response = requests.get('https://docs.google.com/document/d/e/2PACX-1vRMx5YQlZNa3ra8dYYxmv-QIQ3YJe8tbI3kqcuC7lQiZm-CSEznKfN_HYNSpoXcZIV3Y_O3YoUB1ecq/pub')\nwebpage = webpage_response.content\n#print(webpage)\n\nsoup = BeautifulSoup(webpage, 'html.parser') \ntable = soup.find('table') \n#print(doc_table)\n\nrows = table.find_all('tr') \n\ndata = []\nfor row in rows[1:]: \n    cells = row.find_all('td')\n    character = cells[1].text.strip()\n    x = cells[0].text.strip()\n    y = cells[2].text.strip()\n    data.append((character,x,y))\n\n#print(data)\n\nmax_x = max(x for _,x,_  in data) \nmax_y = max(y for _, _,y in data)\n#print(max_x)\n#print(max_y)\n\ngrid = [[' ' for _ in range(int(max_x) + 1)] for _ in range(int(max_y) + 1)]\n\nfor character, x, y in data:\n    grid[int(y)][int(x)] = character\n\nfor row in grid:\n    print(''.join(row))\n</code></pre>\n<p>This is my code. It should print out a grid of characters that look like a capital F but its upside down. I think the problem arises when I populate the grid but I'm not sure how to fix it.</p>\n",
        "tags": [
            "python",
            "beautifulsoup"
        ]
    },
    {
        "index": 29,
        "question_id": 79669196,
        "title": "HttpClient - Request times out but I don&#39;t understand why",
        "body": "<p>I have put together an example code that shows what I mean. I am trying to download two different datasheets, one from TI, the other from ST. Both exist and I can download them using any browser (even in incognito mode)</p>\n<p>I am using the same code for both. One of them times out, the other doesn't and I have absolutely no clue why.</p>\n<pre><code>internal class Program\n{\n    static void Main(string[] args)\n    {\n        var task = Xx1();\n        task.Wait();\n    }\n \n    private static async Task Xx1()\n    {\n        HttpClientHandler handler = new HttpClientHandler()\n        {\n            AutomaticDecompression = DecompressionMethods.GZip | DecompressionMethods.Deflate,\n            AllowAutoRedirect = true,\n            CheckCertificateRevocationList = false,\n            UseProxy = false\n        };\n \n        var httpClient = new HttpClient(handler);\n \n        httpClient.DefaultRequestHeaders.UserAgent.ParseAdd(&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36&quot;);\n        httpClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(&quot;*/*&quot;));\n        httpClient.DefaultRequestHeaders.AcceptEncoding.Add(new StringWithQualityHeaderValue(&quot;gzip&quot;));\n        httpClient.DefaultRequestHeaders.AcceptEncoding.Add(new StringWithQualityHeaderValue(&quot;deflate&quot;));\n        httpClient.Timeout = TimeSpan.FromSeconds(10);\n \n        try\n        {\n            var httpResult1 = await httpClient.GetAsync(&quot;https://www.ti.com/lit/gpn/TPS723&quot;).ConfigureAwait(false);\n            httpResult1.EnsureSuccessStatusCode();\n            var resultBytes1 = await httpResult1.Content.ReadAsByteArrayAsync().ConfigureAwait(false);\n            Console.WriteLine(resultBytes1.Length);\n        }\n        catch (TaskCanceledException taskCanceledException)\n        {\n            Console.WriteLine(&quot;1 Request timed out: &quot; + taskCanceledException.Message);\n        }\n        catch (Exception exception)\n        {\n            Console.WriteLine(&quot;1 An error occurred: &quot; + exception.Message);\n        }\n \n        try\n        {\n            var httpResult2 = await httpClient.GetAsync(&quot;https://www.st.com/resource/en/datasheet/stlq015.pdf&quot;).ConfigureAwait(false);\n            httpResult2.EnsureSuccessStatusCode();\n            var resultBytes2 = await httpResult2.Content.ReadAsByteArrayAsync().ConfigureAwait(false);\n            Console.WriteLine(resultBytes2.Length);\n        }\n        catch (TaskCanceledException taskCanceledException)\n        {\n            Console.WriteLine(&quot;2 Request timed out: &quot; + taskCanceledException.Message);\n        }\n        catch (Exception exception)\n        {\n            Console.WriteLine(&quot;2 An error occurred: &quot; + exception.Message);\n        }\n    }\n}\n</code></pre>\n<p>I think it has to do with STs webserver but I don't know what the reason for it is and how I could work around it. Any help is highly appreciated.</p>\n",
        "tags": [
            "c#",
            "httpclient"
        ]
    },
    {
        "index": 30,
        "question_id": 79669198,
        "title": "Provide default component width, allow shrinking inside JScrollPane",
        "body": "<p>Here's what I want.</p>\n<ol>\n<li>I want a component to have a default &quot;preferred&quot; width.</li>\n<li><em>(important)</em> The component is fine with being shrunk to some degree, it's just it shouldn't be displayed in a shrunk state initially.</li>\n<li>I also want it to be inside a <code>JScrollPane</code>.</li>\n</ol>\n<p>Can I square the three together?</p>\n<p>The problem is any component's <code>preferredSize</code> effectively becomes its <code>minimumSize</code> if it's placed inside a <code>JScrollPane</code>, it never shrinks — but it <em>is</em> cropped. I can't meet the second requirement while also meeting the other two. As shown in the second screenshot, the component's cropped (not shrunk) once I shrink the container beyond the component's preferred width.</p>\n<p>I think another way to put it is this: I expect the scroller to &quot;kick in&quot; (e.g. show the scrollbar, if it's &quot;as needed&quot;) <em>only once</em> its components' <em>minimum</em> (not <em>preferred</em>) sizes can no longer be honored.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingUtilities;\nimport javax.swing.WindowConstants;\nimport java.awt.Color;\nimport java.awt.Dimension;\n\npublic class ScrollPaneDemo {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(ScrollPaneDemo::launch);\n    }\n\n    private static void launch() {\n        JFrame frame = new JFrame(&quot;ScrollPane Demo&quot;);\n        frame.setContentPane(createScrollPane());\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    private static JScrollPane createScrollPane() {\n        JScrollPane scrollPane = new JScrollPane(createScrollablePanel());\n        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        return scrollPane;\n    }\n\n    private static JPanel createScrollablePanel() {\n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createLineBorder(Color.RED, 3));\n        panel.setPreferredSize(new Dimension(250, 150));\n        return panel;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/8PV3O9TK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/8PV3O9TK.png\" alt=\"container exceeds the component's preferred width\" /></a></p>\n<p><a href=\"https://i.sstatic.net/9QIl9pdK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/9QIl9pdK.png\" alt=\"container is less than the component's preferred width, the component's cropped\" /></a></p>\n",
        "tags": [
            "java",
            "swing"
        ]
    },
    {
        "index": 31,
        "question_id": 79669225,
        "title": "How do I output the SQL code generated by boost::mysql::with_params()?",
        "body": "<p>I'm using boost::mysql and boost:asio to access a MariaDB database. I'm prototyping a project/task management system. A task has a number of dates associated with it. When attempting to insert a task into the database I am getting a <code>MySQL Server Error: er_parse_error [mysql.common-server:1064]</code> exception. I am able to insert into other tables that don't require dates.</p>\n<p>How do I view the SQL code generated by <code>boost::mysql::with_params</code> so I can debug the issue?</p>\n<p>I have tried boost::mysql::date as a input as well as strings, both generate the parse error.</p>\n<h1>Environment:</h1>\n<ul>\n<li>Ubuntu 24.04 (AMD64)</li>\n<li>g++-14</li>\n<li>C++23</li>\n<li>boost 1.88</li>\n<li>MariaDB 10.11.13-MariaDB-0ubuntu0.24.04.1</li>\n<li>CMake 4.0.2</li>\n</ul>\n<h1>Code:</h1>\n<pre><code>#include &lt;boost/asio.hpp&gt;\n#include &lt;boost/mysql.hpp&gt;\n#include &lt;chrono&gt;\n#include &quot;DBInterface.h&quot;\n#include &lt;exception&gt;\n#include &lt;iostream&gt;\n#include &lt;optional&gt;\n#include &lt;string&gt;\n#include &lt;string_view&gt;\n\n#if 0\nstatic boost::mysql::date convertChronoDateToBoostMySQLDate(std::chrono::year_month_day source)\n{\n    std::chrono::sys_days tp = source;\n    boost::mysql::date boostDate(tp);\n    return boostDate;\n}\n#endif\n\nstatic std::string dateToString(std::chrono::year_month_day taskDate)\n{\n    std::stringstream ss;\n    ss &lt;&lt; taskDate;\n    return &quot;'&quot; + ss.str() + &quot;'&quot;;\n}\n\nstatic boost::asio::awaitable&lt;void&gt; coro_insert_task(TaskModel task)\n{\n    std::optional&lt;std::size_t&gt; parentTaskID = task.getParentTaskID();\n    std::optional&lt;unsigned int&gt; status = static_cast&lt;unsigned int&gt;(task.getStatus());\n    std::optional&lt;boost::mysql::date&gt; actualStart;\n    std::optional&lt;boost::mysql::date&gt; estimatedCompleteDate;\n    std::optional&lt;boost::mysql::date&gt; completeDate;\n    std::string createdOn = dateToString(task.getCreationDate());\n    std::string dueDate = dateToString(task.getDueDate());\n    std::string scheduledStart = dateToString(task.getScheduledStart());\n\n    boost::mysql::any_connection conn(co_await boost::asio::this_coro::executor);\n\n    co_await conn.async_connect(dbConnectionParameters);\n\n    boost::mysql::results result;\n    co_await conn.async_execute(\n        boost::mysql::with_params(\n            &quot;INSERT INTO PlannerTaskScheduleDB.Tasks (&quot;\n                &quot;CreatedBy, AsignedTo, Description, ParentTask, Status, PercentageComplete CreatedOn RequiredDelivery ScheduledStart&quot;\n                &quot;ActualStart EstimatedCompletion Completed EstimatedEffortHours ActualEffortHours SchedulePriorityGroup PriorityInGroup&quot;\n                &quot;) VALUES ({0}, {1}, {2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10}, {11}, {12}, {13}, {14}, {15})&quot;,\n            task.getCreatorID(),\n            task.getAssignToID(),\n            task.getDescription(),\n            parentTaskID,\n            status,\n            task.getPercentageComplete(),\n            createdOn,\n            dueDate,\n            scheduledStart,\n            actualStart,\n            estimatedCompleteDate,\n            completeDate,\n            task.getEstimatedEffort(),\n            task.getactualEffortToDate(),\n            task.getPriorityGoup(),\n            task.getPriority()\n        ),\n        result\n    );\n\n    std::cout &lt;&lt; &quot;Successfully created task with ID: &quot; &lt;&lt; result.last_insert_id() &lt;&lt; std::endl;\n\n    co_await conn.async_close();\n}\n\nbool DBInterface::insertIntoDataBase(TaskModel&amp; task)\n{\n    clearPreviousErrors();\n\n    if (task.isInDataBase())\n    {\n        appendErrorMessage(&quot;The task is already in the database.\\n&quot;);\n        return false;\n    }\n    if (!task.allRequiredFieldsHaveData())\n    {\n        appendErrorMessage(task.reportMissingRequiredFields());\n        return false;\n    }\n\n    boost::asio::io_context ctx;\n\n    // Launch our coroutine\n    boost::asio::co_spawn(\n        ctx,\n        [=] { return coro_insert_task(task); },\n        // If any exception is thrown in the coroutine body, rethrow it.\n        [](std::exception_ptr ptr) {\n            if (ptr)\n            {\n                std::rethrow_exception(ptr);\n            }\n        }\n    );\n\n    try\n    {\n        ctx.run();\n    }\n    catch (const std::exception&amp; e)\n    {\n        std::string eMsg(&quot;MySQL Server Error: &quot;);\n        eMsg += e.what();\n        appendErrorMessage(eMsg);\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n",
        "tags": [
            "c++",
            "boost",
            "mariadb",
            "boost-asio"
        ]
    },
    {
        "index": 32,
        "question_id": 79670157,
        "title": "Create a row with unique ID and add new variable with previous variable name in r",
        "body": "<p>I need to create a row with unique ID and add new variable with previous variable name , basically add the row number as an new row.  Example data frame looks like this:</p>\n<pre><code>ID   V1  V2\n1     2  0\n2     0  4\n3     1  5\n</code></pre>\n<p>How to make it look like this:</p>\n<pre><code>Unique_ID  ExVar  ExID\n1            V1     1\n2            V1     1\n3            V2     2\n4            V2     2\n5            V2     2\n6            V2     2\n7            V1     3\n8            V2     3\n9            V2     3\n10           V2     3\n11           V2     3\n12           V2     3\n</code></pre>\n<p>Many thanks.</p>\n",
        "tags": [
            "r"
        ]
    },
    {
        "index": 33,
        "question_id": 79670444,
        "title": "How do I persist logs from a Dockerized .NET Core app in Azure DevOps and save them as artifacts?",
        "body": "<p>I'm running a .NET Core web API inside a Docker container as part of an Azure DevOps pipeline. The app generates logs during execution, and I want to keep those logs after the container stops Ideally, I’d like to save them as build artifacts.</p>\n<p>I've tried mounting a volume to store the logs, but after the pipeline finishes, I either don’t see the logs or the folder is empty. I need a way to persist them and access them in Azure DevOps after the build.</p>\n<p>What I tried and expected:</p>\n<p>In my Dockerfile, I added a volume:</p>\n<p>VOLUME /app/logs</p>\n<p>Then in my pipeline, I tried this:</p>\n<ul>\n<li>script: |\ndocker build -t myapp .\ndocker run --rm -v $(System.DefaultWorkingDirectory)/logs:/app/logs myapp</li>\n</ul>\n<p>The app writes logs to /app/logs/app.log. I expected the logs to appear in $(System.DefaultWorkingDirectory)/logs, but the folder is either missing or empty after the container runs. What am I doing wrong?</p>\n",
        "tags": [
            ".net",
            "azure",
            "docker"
        ]
    },
    {
        "index": 34,
        "question_id": 79670748,
        "title": "What effect does consteval have on linkage in C++?",
        "body": "<p>I have been looking at how different specifiers affect linkage but need some help understanding how <em>consteval</em> affects linkage.</p>\n<p>The working draft of the standard says <em>consteval</em> implies <em>inline</em> (<a href=\"https://eel.is/c++draft/dcl.constexpr\" rel=\"nofollow noreferrer\">source</a>):</p>\n<blockquote>\n<p>&quot;A function or static data member declared with the constexpr or\nconsteval specifier on its first declaration is implicitly an inline\nfunction or variable ([[dcl.inline]])&quot;</p>\n</blockquote>\n<p>Which would suggest external weak linkage, meaning we can violate the ODR and the linker would just pick one definition and assume they are all the same (<a href=\"https://eel.is/c++draft/dcl.inline#6\" rel=\"nofollow noreferrer\">source</a>):</p>\n<blockquote>\n<p>&quot;[Note 3: An inline function or variable with external or module\nlinkage can be defined in multiple translation units\n([basic.def.odr]), but is one entity with one address. A type or\nstatic variable defined in the body of such a function is therefore a\nsingle entity. — end note]&quot;</p>\n</blockquote>\n<p>However, when testing this out I notice that the linkage appears to be internal instead:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>    // bar.cpp\n    #include &lt;iostream&gt;\n    \n    consteval int get_value() {\n        return 43;\n    }\n    \n    void print_value1() {\n        std::cout &lt;&lt; &quot;Value from static_consteval_test1: &quot; &lt;&lt; get_value() &lt;&lt; '\\n';\n    }\n</code></pre>\n<pre class=\"lang-cpp prettyprint-override\"><code>    // foo.cpp\n    #include &lt;iostream&gt;\n    \n    consteval int get_value() {\n        return 42;\n    }\n    \n    void print_value1() {\n        std::cout &lt;&lt; &quot;Value from static_consteval_test1: &quot; &lt;&lt; get_value() &lt;&lt; '\\n';\n    }\n</code></pre>\n<pre class=\"lang-cpp prettyprint-override\"><code>    //main.cpp\n    #include &lt;iostream&gt;\n  \n    void print_value1();\n    void print_value2();\n    int main() {\n        print_value1();\n        print_value2();\n        return 0;\n    }\n</code></pre>\n<p><strong>Output</strong> (mvsc, /std:c++20),</p>\n<pre><code>// with consteval\nValue from static_consteval_test1: 42\nValue from static_consteval_test2: 43\n</code></pre>\n<p>implying internal linkage. If I now specify with <em>static</em> instead, I know that the linkage should be internal and get the same result.</p>\n<p>If I replace <em>consteval</em> with <em>constexpr</em>, the linkage appears as weak external linkage (just as I would expect from something that implies inline):</p>\n<pre><code>// with constexpr\nValue from static_consteval_test1: 43\nValue from static_consteval_test2: 43\n</code></pre>\n<p>Leading to my question(s):</p>\n<ol>\n<li>How does consteval affect linkage of a function?</li>\n<li>(Where does it fall in terms of precedence of linkage-specifying keywords when multiple are present?)</li>\n</ol>\n<p>The second question I can obviously try out myself, still some validation would be helpful.</p>\n",
        "tags": [
            "c++",
            "c++20",
            "constexpr",
            "linkage",
            "consteval"
        ]
    },
    {
        "index": 35,
        "question_id": 79670778,
        "title": "Are forward declarations of entities to be imported from modules legal?",
        "body": "<p>A module (<code>mod.cppm</code>):</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>export module TestModule;\n\nexport struct Foo\n{\n    char c;\n};\n</code></pre>\n<p>is imported to <code>main.cpp</code>, where the import declaration is preceded with a forward-declaration of the imported entity:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n\nstruct Foo;\n\nimport TestModule;\n\nint main()\n{\n    Foo f{'a'};\n    std::cout &lt;&lt; '\\n' &lt;&lt; f.c &lt;&lt; '\\n';\n    return 0;\n}\n</code></pre>\n<p>which doesn't compile with GCC 14.2.0, but compiles with both MSVC2022 and Clang 20.1.5.</p>\n<p>The GCC error message is <code>reference to 'Foo' is ambiguous</code> with notes <code>candidates are: 'struct Foo@TestModule'</code> and <code>'struct Foo'</code>. When the forward declaration <code>struct Foo;</code> is commented out of main.cpp, no problems with GCC, too.</p>\n<p>I know that GCC support for modules is limited, but I couldn't find a reference to this issue on their page <a href=\"https://gcc.gnu.org/onlinedocs/gcc/C_002b_002b-Modules.html\" rel=\"nofollow noreferrer\">https://gcc.gnu.org/onlinedocs/gcc/C_002b_002b-Modules.html</a>. Still, GCC is often more strict in following the standard than Clang or MSVC, so it possible that I'm missing something from the standard, not being a proper language lawyer.</p>\n<p>So, who is right there: GCC or Clang with MSVC?</p>\n<p>(Note: a semi-practical reason for this question is the ability to use module-only libraries with Qt. It is possible with forward declaration of all the entities to be imported in the headers of <code>QObject</code>-derived classes, while the actual imports go the corresponding .cpp file. It works with Clang and MSVC, but not with GCC).</p>\n",
        "tags": [
            "c++",
            "gcc",
            "language-lawyer",
            "c++20",
            "c++-modules"
        ]
    },
    {
        "index": 36,
        "question_id": 79671047,
        "title": "How to override a varargs java method in a scala class which is still callable in both scala and java variadically?",
        "body": "<p>Assume there is a base class in a Java library which cannot be modified</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseClass {\n    public Something function(int... args){ ... }\n}\n</code></pre>\n<p>Typically, this would be overridden in Scala by using the Scala varargs syntax:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class TypicalScalaVarargsOverrideClass extends BaseClass {\n  override def function(args: Int*): Something = { ... }\n}\n</code></pre>\n<p>But if <code>TypicalScalaVarargsOverrideClass.function</code> is invoked in Java code, a no suitable method error is raised:</p>\n<pre><code>// no args\nno suitable method found for function(no arguments)\n    method TypicalScalaVarargsOverrideClass.function(scala.collection.Seq&lt;java.lang.Object&gt;) is not applicable\n      (actual and formal argument lists differ in length)\n    method TypicalScalaVarargsOverrideClass.function(int[]) is not applicable\n      (actual and formal argument lists differ in length)\n\n// 1 arg\nno suitable method found for function(int)\n    method TypicalScalaVarargsOverrideClass.function(scala.collection.Seq&lt;java.lang.Object&gt;) is not applicable\n      (argument mismatch; int cannot be converted to scala.collection.Seq&lt;java.lang.Object&gt;)\n    method TypicalScalaVarargsOverrideClass.function(int[]) is not applicable\n      (argument mismatch; int cannot be converted to int[])\n\n// 3 args\nno suitable method found for function(int,int,int)\n    method TypicalScalaVarargsOverrideClass.function(scala.collection.Seq&lt;java.lang.Object&gt;) is not applicable\n      (actual and formal argument lists differ in length)\n    method TypicalScalaVarargsOverrideClass.function(int[]) is not applicable\n      (actual and formal argument lists differ in length)\n</code></pre>\n<p>Typically, the solution to this is to add <code>@varargs</code> annotation, making the bytecode generated from the Scala code compatible the Java:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class UsingVarargsAnnotationClass extends BaseClass {\n  @varargs\n  override def function(args: Int*): Something = { ... }\n}\n</code></pre>\n<p>But this results in a double definition error, as it now collides with the original function definition:</p>\n<pre><code>double definition:\noverride def function(args: Int*): Something at line 1 and\noverride def function(args: Array[Int]): Something at line 3\nhave same type after erasure: (args: Array[Int])Something\n  override def function(args: Int*): Something = {\n</code></pre>\n<p>So is there a way, in Scala (specifically 2.12 or 2.13), to define an override of a Java varargs method which is still callable from both Scala and Java?</p>\n<p>The primary suggestion I've received is to avoid this entirely by defining the interface of the override class in Java, with the override methods making a call to some delegate function defined in Scala (there are a few ways to do that).</p>\n",
        "tags": [
            "java",
            "scala",
            "overriding",
            "variadic-functions",
            "scala-java-interop"
        ]
    },
    {
        "index": 37,
        "question_id": 79671128,
        "title": "Does C++ have a bijective map type?",
        "body": "<p>Does C++ have anything which behaves like <code>std::map&lt;T1, T2&gt;</code>, but permitting not only looking for a <code>T1</code> value to find its associated <code>T2</code> value, but also to look for a particular <code>T2</code> value to find its associated <code>T1</code> value? (Which would mean values on both sides need to be unique.)</p>\n",
        "tags": [
            "c++",
            "types"
        ]
    },
    {
        "index": 38,
        "question_id": 79666899,
        "title": "Excel Range using Microsoft Office Interop doesn&#39;t behave as expected",
        "body": "<p>I am using the Microsoft.Office.Interop.Excel library in a C# program.  If I set the range to A1, A10 for example, why is the code able to access the data in column B through N?  Here's an example.  Let's say that LastRow = 10 and ColCount = 14 (column N).</p>\n<pre class=\"lang-cs prettyprint-override\"><code>xlsRange = xlsWorksheet.Range[&quot;A1&quot;, &quot;A&quot; + LastRow.ToString()];\n\nfor (ColIndex = 1; ColIndex &lt; ColCount; ColIndex++)\n{\n  if (xlsRange.Cells[HeaderRow, ColIndex].Text == &quot;Trade Date&quot;)\n  {\n    do something\n  }\n}\n</code></pre>\n<p><code>xlsRange.Cells[HeaderRow, ColIndex].Text</code> contains the data in the spreadsheet when colIndex = 2 through 14.</p>\n<p>Based on the behavior, the range obviously includes all columns in row 1 through 10.  I just don't understand why.</p>\n<p>Is there any reason to define the range as &quot;A1&quot;, &quot;N10&quot; other than to make it obvious that the range includes column B through N?</p>\n<pre class=\"lang-cs prettyprint-override\"><code>xlsRange = xlsWorksheet.Range[&quot;A1&quot;, &quot;N&quot; + LastRow.ToString()];\n</code></pre>\n",
        "tags": [
            "c#",
            "microsoft.office.interop.excel"
        ]
    },
    {
        "index": 39,
        "question_id": 79666960,
        "title": "Are there source-file-global variable forward declarations? (extern static)",
        "body": "<p>First off, there are other questions about this. But they seem to ask for how local or external linkage works. With this question, I pursue a different line of thinking:</p>\n<p>Suppose, you have a file, e.g. some unit test file, where you have vectors of pointers to test functions. And you can run those test &quot;suites&quot; accordingly. Now, you do not want to have all that stuff right on top of your source file but further down. E.g. in <code>main()</code>, which you prefer on top, you can reference the test suites, akin to <code>run_tests(test_suite_xy)</code>, while you want to maintain the content of those test suites further down in this source file.</p>\n<p>Now, obviously <code>extern static</code> makes no sense. But... and this is the question... is there any <strong>other</strong> way to forward declare <strong>local</strong> variables in the same source file, <strong>without</strong> making them really global?</p>\n<pre><code>#include &lt;vector&gt;\nusing TFun = bool (*) (void);\nusing TSuite = std::vector&lt;TFun&gt;;\n\n// Forward declare test suites.\nFORWARD static TSuite test_suite_xy;\n// ... More stuff like the above.\n\nvoid run_tests(const TSuite&amp;);\n\nint main () {\n  run_tests(test_suite_xy);\n  // more suites to run...\n  return 0;\n}\n\nstatic bool suite_xy_fun_1();\n// more static test functions...\nstatic TSuite test_suite_xy = {\n  suite_xy_fun_1, // ...\n};\n</code></pre>\n",
        "tags": [
            "c++"
        ]
    },
    {
        "index": 40,
        "question_id": 79666986,
        "title": "Equivalent of `supportedLocalesOf` for letter-case conversion (`toLocaleLowerCase`, `toLocaleUpperCase`)?",
        "body": "<p>In JavaScript, you can introspect support for various internationalization functionality by use of static <code>supportedLocalesOf</code> methods of the various classes namespaced under <code>Intl</code>. For example:</p>\n<pre class=\"lang-js prettyprint-override\"><code>Intl.PluralRules.supportedLocalesOf(['pt', 'yue', 'hyw']) // ['pt', 'yue']\nIntl.Segmenter.supportedLocalesOf(['pt', 'yue', 'hyw']) // ['pt']\n</code></pre>\n<p>Is there any equivalent way to introspect locale support for letter-case conversion (<code>toLocaleLowerCase</code>, <code>toLocaleUpperCase</code>), given that there is no equivalent namespaced class under <code>Intl</code> for these methods?</p>\n<p>I'm <em>not</em> asking about feature detection, which can be done on an ad-hoc basis if you know how to feature detect specific characteristics of the locale:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const turkishIsSupported = 'i'.toLocaleUpperCase('tr') === 'İ'\n</code></pre>\n<p>However, checking like this requires custom logic and knowing what features to test for. What I'm interested in is a simple way of checking that a given locale is supported, without prior knowledge of that locale's features.</p>\n",
        "tags": [
            "javascript",
            "internationalization",
            "locale",
            "uppercase",
            "lowercase"
        ]
    },
    {
        "index": 41,
        "question_id": 79666997,
        "title": "Fast combined minimum/maximum for 64-bit signed integers in AVX2",
        "body": "<p>I need to compute the minimum and maximum of an array of 64-bit signed integers, using AVX2. Target is Golden Cove/Raptor Cove (Intel 12th/13th generation P-core).</p>\n<p>AVX2 has minimum and maximum instructions for up to 32-bit integer lanes (<code>VPMINSD</code> and <code>VPMAXSD</code>), but not for 64-bit integer lanes (<code>VPMINSQ</code> is only available in AVX-512).</p>\n<p>Luckily there is <code>VPCMPGTQ</code> to perform 64-bit integer comparisons. A first idea is to use variable blends as such:</p>\n<pre><code>    __m256i mask = _mm256_cmpgt_epi64(a, b);\n    __m256i min = _mm256_blendv_epi8(a, b, mask);\n    __m256i max = _mm256_blendv_epi8(b, a, mask);\n</code></pre>\n<p>However, variable blends are particularly expensive in Golden Cove and Raptor Cove: 3 µops (<code>3*p015</code>) for a throughput of 1, according to <a href=\"https://uops.info\" rel=\"nofollow noreferrer\">uops.info</a>. Although <code>VPCMPGTQ</code> is just 1 µop, it is <code>1*p5</code> and thus has a throughput of 1. In a throughput limited scenario, one can compute this kernel only once every 2.33 cycles (7 µops for 3 vector execution ports.)</p>\n<p>As an alternative, one can use <a href=\"https://graphics.stanford.edu/%7Eseander/bithacks.html#IntegerMinOrMax\" rel=\"nofollow noreferrer\">this trick</a>:</p>\n<pre><code>    __m256i mask = _mm256_cmpgt_epi64(b, a);\n    __m256i diff = _mm256_xor_si256(a, b);\n    mask = _mm256_and_si256(mask, diff);\n    __m256i min = _mm256_xor_si256(b, mask);\n    __m256i max = _mm256_xor_si256(a, mask);\n</code></pre>\n<p>Both <code>VPAND</code> and <code>VPXOR</code> are 1 µop for any vector-ALU port (<code>1*p015</code>), so in a throughput limited scenario it should be possible to compute this kernel once every 5/3 = 1.66 cycles. Again fully occupying all the vector ALU ports, but still having some spare front-end throughput for loads, stores, or loop control (port 6 ALU for scalar integer and branches.)</p>\n<p><strong>Can this be computed any faster?</strong></p>\n<h3>A possible alternative</h3>\n<p>By construction, the arrays in question have no collisions in the upper 32 bits. Thus, it is possible in principle to:</p>\n<ol>\n<li>Split the upper and lower 32-bit parts of <code>a</code> and <code>b</code>;</li>\n<li>Swap <code>aH</code> with <code>bH</code>, and <code>aL</code> with <code>bL</code>, if <code>aH &gt; bH</code>;</li>\n<li>Concatenate upper and lower parts again.</li>\n</ol>\n<p>This would require working on vectors twice as long, which is not a problem in my case. The advantage is that half as many comparisons need to be calculated: only one <code>VPCMPGTD</code> for every 8 64-bit elements, versus two <code>VPCMPGTQ</code> using the original strategy. Also, <code>VPCMPGTD</code> is <code>1*p01</code> which is better than <code>VPCMPGTQ</code>'s <code>1*p5</code>. I believe step 1 is doable with <code>VPUNPCK[LH]DQ</code> (<code>1*p15</code>), and if I'm not mistaken step 3 could be done with two <code>VSHUFPS</code> (also <code>1*p15</code>). Then 2 <code>VPAND</code>s and 4 <code>VPXOR</code>s to do the swapping.</p>\n<p>I did a quick back of napkin calculation and, if there are no mistakes on it, it would result in a throughput of 11/3 = 3.67 cycles for computing two vectors (assuming uniform scheduling between ports, which appears doable), normalized to 11/6 = 1.83 cycles for one vector.</p>\n<p>Does this look reasonable?</p>\n",
        "tags": [
            "optimization",
            "intel",
            "avx",
            "micro-optimization",
            "avx2"
        ]
    },
    {
        "index": 42,
        "question_id": 79667005,
        "title": "Migrations aren&#39;t activating on a new ASP.NET Core project",
        "body": "<p>I need to preface this with pointing out this is my first web app project. I am trying to make a Blazor web application with ASP.NET Core.</p>\n<p>When I create a new project and run the code, any database interaction throws an error, the first one is in relation to the database does not exist, if I create a database with the name it looks for, it can't find the tables etc.</p>\n<p>I can find the migrations under the migrations directory so they have definitely been generated. I don't understand why the database isn't being created.</p>\n<p>This is the connection string:</p>\n<pre><code>&quot;DefaultConnection&quot;: &quot;Server=(localdb)\\\\mssqllocaldb;Database=aspnet-2baf3df8-f795-4732-b452-3cd5855e64a4;Trusted_Connection=True;MultipleActiveResultSets=true&quot;\n</code></pre>\n<p>This is a section of the code from the migrations that appears to setup the database and create the tables etc.</p>\n<pre><code>modelBuilder.Entity(&quot;WebAppplication1.Net.Data.ApplicationUser&quot;, b =&gt;\n    {\n        b.Property&lt;string&gt;(&quot;Id&quot;)\n            .HasColumnType(&quot;nvarchar(450)&quot;);\n\n        b.Property&lt;int&gt;(&quot;AccessFailedCount&quot;)\n            .HasColumnType(&quot;int&quot;);\n\n        b.Property&lt;string&gt;(&quot;ConcurrencyStamp&quot;)\n            .IsConcurrencyToken()\n            .HasColumnType(&quot;nvarchar(max)&quot;);\n\n        b.Property&lt;string&gt;(&quot;Email&quot;)\n            .HasMaxLength(256)\n            .HasColumnType(&quot;nvarchar(256)&quot;);\n</code></pre>\n<p>And here is the <code>Program.cs</code> file. It appears to have a few lines setting up the database connection.</p>\n<pre><code>using Microsoft.AspNetCore.Components.Authorization;\nusing Microsoft.AspNetCore.Identity;\nusing Microsoft.EntityFrameworkCore;\nusing MudBlazor.Services;\n\nvar builder = WebApplication.CreateBuilder(args);\n\n// Add MudBlazor services\nbuilder.Services.AddMudServices();\n\n// Add services to the container.\nbuilder.Services.AddRazorComponents()\n    .AddInteractiveServerComponents();\n\nbuilder.Services.AddCascadingAuthenticationState();\nbuilder.Services.AddScoped&lt;IdentityUserAccessor&gt;();\nbuilder.Services.AddScoped&lt;IdentityRedirectManager&gt;();\nbuilder.Services.AddScoped&lt;AuthenticationStateProvider, IdentityRevalidatingAuthenticationStateProvider&gt;();\n\nbuilder.Services.AddAuthentication(options =&gt;\n    {\n        options.DefaultScheme = IdentityConstants.ApplicationScheme;\n        options.DefaultSignInScheme = IdentityConstants.ExternalScheme;\n    })\n    .AddIdentityCookies();\n\nvar connectionString = builder.Configuration.GetConnectionString(&quot;DefaultConnection&quot;) ?? throw new InvalidOperationException(&quot;Connection string 'DefaultConnection' not found.&quot;);\nbuilder.Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;\n    options.UseSqlServer(connectionString));\nbuilder.Services.AddDatabaseDeveloperPageExceptionFilter();\n\nbuilder.Services.AddIdentityCore&lt;ApplicationUser&gt;(options =&gt; options.SignIn.RequireConfirmedAccount = true)\n    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()\n    .AddSignInManager()\n    .AddDefaultTokenProviders();\n\nbuilder.Services.AddSingleton&lt;IEmailSender&lt;ApplicationUser&gt;, IdentityNoOpEmailSender&gt;();\n\nvar app = builder.Build();\n\n// Configure the HTTP request pipeline.\nif (app.Environment.IsDevelopment())\n{\n    app.UseMigrationsEndPoint();\n}\nelse\n{\n    app.UseExceptionHandler(&quot;/Error&quot;, createScopeForErrors: true);\n    app.UseHsts();\n}\n\napp.UseHttpsRedirection();\n\n\napp.UseAntiforgery();\n\napp.MapStaticAssets();\napp.MapRazorComponents&lt;App&gt;()\n    .AddInteractiveServerRenderMode();\n\n// Add additional endpoints required by the Identity /Account Razor components.\napp.MapAdditionalIdentityEndpoints();\n\napp.Run();\n</code></pre>\n<p>Specifically looking at these lines as likely to be the ones setting up the database:</p>\n<pre><code>var connectionString = builder.Configuration.GetConnectionString(&quot;DefaultConnection&quot;) ?? throw new InvalidOperationException(&quot;Connection string 'DefaultConnection' not found.&quot;);\nbuilder.Services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;\n    options.UseSqlServer(connectionString));\nbuilder.Services.AddDatabaseDeveloperPageExceptionFilter();\n\nbuilder.Services.AddIdentityCore&lt;ApplicationUser&gt;(options =&gt; options.SignIn.RequireConfirmedAccount = true)\n    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()\n    .AddSignInManager()\n    .AddDefaultTokenProviders();\n\nbuilder.Services.AddSingleton&lt;IEmailSender&lt;ApplicationUser&gt;, IdentityNoOpEmailSender&gt;();\n\nvar app = builder.Build();\n</code></pre>\n<p>The error I am getting is this:</p>\n<blockquote>\n<p>Microsoft.Data.SqlClient.SqlException: Invalid object name 'AspNetUsers'</p>\n</blockquote>\n",
        "tags": [
            "asp.net-core",
            "blazor",
            "mudblazor"
        ]
    },
    {
        "index": 43,
        "question_id": 79667009,
        "title": "How to setup a constraint on this child table?",
        "body": "<p>I have the following 2 postgresql tables:</p>\n<pre><code>CREATE TABLE my_table_a (\n  id SERIAL PRIMARY KEY,\n  my_field_a BOOLEAN NOT NULL\n);\n\nCREATE TABLE my_table_b (\n  id SERIAL PRIMARY KEY,\n  fk_id INTEGER REFERENCES my_table_a(id),\n  my_field_b INTEGER\n);\n</code></pre>\n<p>I want to make sure the following data integrity constraints always hold true:</p>\n<ol>\n<li><code>my_table_b.my_field_b</code> should always be greater than zero.</li>\n<li>A record in <code>my_table_b</code> is only allowed to be inserted/update if the parent record's my_field_a == True.</li>\n</ol>\n<p>How do I do it? I am not sure, but I think I will need an update and create trigger on table <code>my_table_b</code> and I will need and update trigger on <code>my_table_a</code>. What would those triggers look like?</p>\n",
        "tags": [
            "database",
            "postgresql",
            "triggers"
        ]
    },
    {
        "index": 44,
        "question_id": 79667024,
        "title": "Alignment of \\hat symbols in for questions generated by exams2moodle",
        "body": "<p>I'm generating Moodle cloze exercises using the <code>exams2moodle</code> function from R's <code>exams</code> package.</p>\n<p>For students using the Chromebooks or the Chrome browser on Mac, the \\hat LaTeX symbol doesn't appear to align properly over letters. See how the \\hat in $\\hat{p}$ blends with the question mark in Part 1 below.</p>\n<p><a href=\"https://i.sstatic.net/oTdO2HaA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/oTdO2HaA.png\" alt=\"The issue\" /></a></p>\n<p>Some relevant info:</p>\n<ul>\n<li>This doesn't appear to be an issue for those using other browsers, and isn't an issue for those using the Windows version of Chrome (just the Mac version of Chrome and Chromebooks).</li>\n</ul>\n<p>To fix this I've tried:</p>\n<ul>\n<li>I understand that Mathjax is now the default LaTeX renderer (for questions created using <code>exams2moodle</code>), but I tried using <code>converter = &quot;pandoc-mathjax&quot;</code> in the <code>exams2moodle</code> function call to ensure the LaTeX was rendered by Mathjax rather than MathML (which Chrome used to not support).</li>\n<li>I'm presuming the Mathjax Moodle plugin is installed and active as most of the LaTeX is displayed properly <a href=\"https://stackoverflow.com/questions/62777874/moodle-does-not-recognize-math-equations/62785999\">Moodle does not recognize math equations?</a>.</li>\n</ul>\n<p>A (close to) MWE of the question code generating the issue is below:</p>\n<pre><code>\n\n```{r gen data, echo=FALSE, results='hide'}\nH0pct=sample(8:14,1)\nH0p=H0pct/100\nn=rpois(1,747)\nx=rpois(1,102)\nphat=x/n\n```\n\nQuestion\n===========\n\nThe proportion of left-handed people is the NZ population is known to be $`r H0pct`\\%$, or $`r H0p`$.  Using the survey data from previous STAT110 students, we find that $x = `r x`$ are left-handed from $n = `r n`$ students.\n\n**Part 1:** What is $\\hat{p}$? Ensure your answer is accurate to 4 DP. ##ANSWER1##\n\n\nMeta-information\n===================\nextype: cloze\nexclozetype: num\nexsolution: `r phat`\nextol: 0.0001\nexshuffle: TRUE\n\nextitle: phat issue MWE\nexsection: Section 6: Non-continuous data/Binomial Distribution/Hypothesis test for a proportion/phat issue MWE\n</code></pre>\n<p>Any suggested next steps to take in solving this from here are much appreciated!</p>\n",
        "tags": [
            "moodle",
            "r-exams"
        ]
    },
    {
        "index": 45,
        "question_id": 79667071,
        "title": "Why Numpy fabs is much slower than abs?",
        "body": "<p>This Python 3.12.7 script with Numpy 2.2.4:</p>\n<pre><code>import numpy as np, timeit as ti\n\na = np.random.rand(1000).astype(np.float32)\nprint(f'Minimum, median and maximum execution time in us:')\n\nfor fun in ('np.fabs(a)', 'np.abs(a)'):  \n  t = 10**6 * np.array(ti.repeat(stmt=fun, setup=fun, globals=globals(), number=1, repeat=999))\n  print(f'{fun:20}  {np.amin(t):8,.3f}  {np.median(t):8,.3f}  {np.amax(t):8,.3f}') \n</code></pre>\n<p>produces these results on AMD Ryzen 7 3800X:</p>\n<pre><code>Minimum, median and maximum execution time in us:\nnp.fabs(a)               1.813     1.843     4.929\nnp.abs(a)                0.781     0.811     1.463\n</code></pre>\n<p>indicating that <code>np.fabs()</code> is more than 2x slower than <code>np.abs()</code>, despite the latter having more functionality. What is the reason?</p>\n",
        "tags": [
            "python",
            "numpy",
            "performance"
        ]
    },
    {
        "index": 46,
        "question_id": 79667175,
        "title": "How to inline a widget in text , like what app chat message bubble",
        "body": "<p>For a chat app, it's a common design pattern to build a chat bubble that shows the send time (a Widget) inline in with the content (a TextSpan), but aligned to the end of the text direction. If the send time does not fit in the last line, it should be placed in the next line while still being aligned to the end.</p>\n<p>this issue is already reported in GitHub issue but no solution is provided</p>\n<p><a href=\"https://github.com/flutter/flutter/issues/154946\" rel=\"nofollow noreferrer\">issue link</a></p>\n<p><a href=\"https://i.sstatic.net/A3QAUD8J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/A3QAUD8J.png\" alt=\"enter image description here\" /></a></p>\n",
        "tags": [
            "flutter",
            "flutter-animation"
        ]
    },
    {
        "index": 47,
        "question_id": 79667219,
        "title": "Correct way to read &amp; write data to boost::beast::websocket::stream",
        "body": "<p>When we write data to plain socket or <code>ssl::stream</code>, it is recommended to use message queue to send data. In this case, I store messages in queue of type <code>std::queue&lt;std::string&gt;</code> and generally use following implementation:</p>\n<pre><code>template&lt;typename socket_t&gt;\nclass io : public std::enable_shared_from_this&lt;io&lt;socket_t&gt;&gt;\n{\npublic:\n    io(socket_t socket) : m_socket(std::move(socket)) {}\n\n    void start()\n    {\n        read();\n    }\n\n    void write(std::string data)\n    {\n        bool write_in_progress = !m_write_queue.empty();\n        m_write_queue.push(std::move(data));\n        if (!write_in_progress)\n        {\n            do_write();\n        }\n    }\n\n    void close()\n    {\n        m_socket.close();\n    }\n\nprivate:\n    socket_t m_socket;\n    std::array&lt;char, 4096&gt; m_buffer;\n    std::queue&lt;std::string&gt; m_write_queue;\n\n    void read()\n    {\n        auto self = this-&gt;shared_from_this();\n\n        m_socket.async_read_some(boost::asio::buffer(m_buffer),\n            [this, self](boost::system::error_code ec, std::size_t bytes_transferred) \n        {\n            if (!ec)\n            {\n                std::string data(m_buffer.data(), bytes_transferred);\n                read();\n            }\n        });\n    }\n\n    void do_write()\n    {\n        auto self = this-&gt;shared_from_this();\n\n        boost::asio::async_write(m_socket, boost::asio::buffer(m_write_queue.front().c_str(), m_write_queue.front().size()),\n            [this, self](boost::system::error_code ec, std::size_t /*length*/)\n        {\n            if (!ec)\n            {\n                m_write_queue.pop();\n                if (!m_write_queue.empty())\n                {\n                    do_write();\n                }\n            }\n        });\n    }\n};\n</code></pre>\n<p>My question is, how to write data to <code>boost::beast::websocket::stream</code> asynchronously? Should I create a queue where each element is <code>boost::beast::flat_buffer</code> or do it some other way?</p>\n<p>Ideally I would like to use a <code>std::queue&lt;std::string&gt;</code> queue, but I don't know how exactly to do this.</p>\n<p>I will also be glad if someone gives an example of correct reading of data from <code>boost::beast::websocket::stream</code>. I think for reading I need to use <code>boost::beast::flat_buffer</code>. However I don't know if I need to clear this buffer after each read operation if this buffer is a class field?</p>\n",
        "tags": [
            "c++",
            "websocket",
            "boost",
            "boost-asio",
            "boost-beast"
        ]
    },
    {
        "index": 48,
        "question_id": 79667261,
        "title": "About spring InterceptorRegistry.addInterceptor() not working",
        "body": "<p>I am currently learning about spring and the concept of beans. I learned that in spring project you can configure in 3 ways -- xml, annotation-based and java-based. I am trying to configure my interceptor in all ways but the @Configuration way fails, the interceptor cannot be invoked this way. I don't know why the @Bean MappedInterceptor configuration invoke the interceptor, all I know is that there are probably some auto configuring behind the spring but I can't find any articles about it...</p>\n<p>I've read this <a href=\"https://stackoverflow.com/questions/69816821/mappedinterceptor-bean-vs-webmvcconfigurer-addinterceptors-what-is-the-correct\">article</a>, it says the mappedInterceptor bean won't work in plain spring but it helps me invoke the interceptor here. Although I think I am using plain spring now.</p>\n<p>I've also read this <a href=\"https://stackoverflow.com/questions/22633800/spring-mvc-interceptor-never-called/35948730#35948730\">article</a></p>\n<p>InterceptorConfig:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class InterceptorConfig implements WebMvcConfigurer {\n    \n    private final LoginAnnotationInterceptor loginAnnotationInterceptor;\n    \n    public InterceptorConfig(LoginAnnotationInterceptor loginAnnotationInterceptor) {\n        this.loginAnnotationInterceptor = loginAnnotationInterceptor;\n    }\n\n    // the interceptor added here cannot be invoked\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(loginAnnotationInterceptor);\n    }\n    \n    // the interceptor added here is able to be invoked\n    @Bean\n    public MappedInterceptor loginAnnotationInterceptorBean()\n    {\n        return new MappedInterceptor(null, loginAnnotationInterceptor);\n    }\n}\n</code></pre>\n<p>LoginAnnotationInterceptor:</p>\n<pre><code>@Component\npublic class LoginAnnotationInterceptor implements HandlerInterceptor  {\n    \n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) \n            throws Exception {\n        System.out.println(&quot;It's an interceptor!&quot;);\n\n        // some logic...\n\n        return true;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/KPczR8HG.png\" rel=\"nofollow noreferrer\">this is my lib...don't know if anything is wrong here</a></p>\n<p>This is my web.xml. The context:component-scan/ part to scan the InterceptorConfig is defined in applicationContext.xml. I believe my configuration is loaded in DispatcherServlet.</p>\n<p>web.xml:</p>\n<pre><code>&lt;!-- Root Context --&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/root-context.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n    \n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;!-- DispatcherServlet --&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n<p>applicationContext.xml:</p>\n<pre><code>&lt;context:component-scan base-package=&quot;org.com.interceptor&quot;/&gt;\n</code></pre>\n<p>I tried to print out the beans in the ApplicationContext but still doesn't help, is there any other way to debug this problem or understand the reason behind it?</p>\n",
        "tags": [
            "java",
            "spring",
            "spring-mvc"
        ]
    },
    {
        "index": 49,
        "question_id": 79667321,
        "title": "Implementing a local VpnService that allows whitelisted traffic won&#39;t load any websites",
        "body": "<p>Let me preface this by saying that I'm definitely out of my depth here in terms of knowledge. I'm trying to implement a VpnService that users of my app can enable in order for any traffic not going towards whitelisted domains, to be dropped. This implementation has to be fully on-device, so without using external or self-hosted vpn servers. My thinking process has been this:</p>\n<ol>\n<li>Add the Ipv4 and IpV6 catch-all routes to the builder in order to receive all traffic from the network to my TUN interface.</li>\n<li>When non UDP packets going towards port 53 (for DNS queries) are received, I let them through normally.</li>\n<li>When a UDP/port-53 packet is received that's when I determine if it's heading towards a whitelisted domain or not. If it is, I let it through and forward it the DNS server's response, otherwise I synthesize a fake one in order to &quot;fail&quot; the lookup request.</li>\n</ol>\n<p>I'm noticing however that basically all traffic seems to be getting blocked now. I experimented with various approaches similar to what you see below but the closest I got was somehow getting things to work on Wi-Fi but not on cellular.</p>\n<p>Here's the <a href=\"https://pastebin.com/Fch0kZ6S\" rel=\"nofollow noreferrer\">builder</a> class</p>\n<p>My &quot;coordinator&quot; thread implementation for actually handling the traffic:</p>\n<pre><code>class SecureThread(\n    private val vpnService: VpnService,\n) : Runnable {\n    companion object {\n        var allowBypass = false\n\n   \n        // may need to be marked as @volatile (?)\n        var injectedWhitelistedHosts = mutableSetOf&lt;String&gt;()\n        private const val DEFAULT_TTL_SECONDS = 60\n        private const val PACKET_IHL_MIN_LENGTH = 5\n        private const val PACKET_IPV4_VERSION = 4\n        private const val PACKET_IPV6_VERSION = 6\n        private const val THREAD_INTERRUPTION_TIMEOUT = 10_000L\n        private const val PACKET_LENGTH = 32767\n        private const val DATAGRAM_PACKET_SIZE = 1024\n        private const val THREAD_POOL_EXECUTOR_TASK_CAPACITY = 50\n        private const val THREAD_POOL_EXECUTOR_CORE_POOL_SIZE = 4\n        private const val THREAD_POOL_EXECUTOR_MAX_POOL_SIZE = 32\n        private const val THREAD_POOL_EXECUTOR_KEEP_ALIVE = 60L\n    }\n\n    /**\n     * A Volatile field used by threads of the\n     * worker pool in order to be notified when\n     * to begin their tear-down process.\n     */\n    @Volatile\n    private var isShuttingDown = false\n    private val dnsCache = DnsCache&lt;String&gt;()\n    private var dnsServer: InetAddress? = null\n    private var fileDescriptor: ParcelFileDescriptor? = null\n    private var thread: Thread? = null\n    private var whitelistedHosts =\n        mutableSetOf(\n            &quot;sentry.io&quot;,\n            &quot;sentry.dev&quot;,\n            &quot;mapbox.com&quot;,\n            &quot;posthog.com&quot;,\n            &quot;time.android.com&quot;,\n            &quot;fonts.google.com&quot;,\n            &quot;cloudflare-dns.com&quot;, // needed?\n            &quot;wikipedia.org&quot;,\n            // maybe googleapis.com ?\n        )\n\n    private val secureVpnServiceBuilder = SecureVpnServiceBuilder()\n\n    /**\n     * Checks if the current string is a subdomain of a given domain.\n     * @param domain The domain for which to check against\n     * @return True if the current string is a subdomain of the given domain,\n     * false otherwise.\n     */\n    private fun String.isSubdomainOf(domain: String): Boolean {\n        val host = trimEnd('.').lowercase()\n        val d = domain.trimEnd('.').lowercase()\n        return host == d || host.endsWith(&quot;.$d&quot;)\n    }\n\n    /**\n     * Starts the execution of the main thread and updates the\n     * SecureDataModeVpnService's status accordingly.\n     * @see SecureDataModeVpnService\n     */\n    fun startThread() {\n        SecureDataModeVpnService.status = SecureDataModeVpnService.Status.STARTING\n        debugLog(&quot;Starting VPN thread&quot;)\n        thread =\n            Thread(this, &quot;Secure Data&quot;).apply {\n                start()\n                SecureDataModeVpnService.status = SecureDataModeVpnService.Status.RUNNING\n            }\n    }\n\n    /**\n     * Starts the tear-down process of the main thread and updates the\n     * SecureDataModeVpnService's status accordingly. This function is\n     * responsible for shutting down all threads gracefully, clearing resources\n     * and general clean up.\n     * @see SecureDataModeVpnService\n     */\n    fun stopThread() {\n        debugLog(&quot;Stopping VPN thread &amp; cleaning resources&quot;)\n        SecureDataModeVpnService.status = SecureDataModeVpnService.Status.STOPPING\n\n        isShuttingDown = true // flip first, so handlers bail out\n\n        thread?.interrupt()\n\n        // only wait if we’re not inside that same thread\n        if (Thread.currentThread() !== thread) {\n            try {\n                thread?.join(THREAD_INTERRUPTION_TIMEOUT)\n            } catch (ie: InterruptedException) {\n                Thread.currentThread().interrupt()\n            }\n        }\n        thread = null\n\n        // Now safe—no more handlers and no self-join\n        fileDescriptor?.close()\n        fileDescriptor = null\n\n        SecureDataModeVpnService.status = SecureDataModeVpnService.Status.STOPPED\n        debugLog(&quot;Stopped VPN thread&quot;)\n    }\n\n    /**\n     * Main entry-point for this thread, responsible for executing\n     * the VPN's packet processing process.\n     */\n    override fun run() {\n        try {\n            runVpn()\n        } catch (ie: InterruptedException) {\n            debugLog(&quot;VPN thread interrupted — exiting cleanly&quot;)\n            Thread.currentThread().interrupt()\n        } catch (securityEx: SecurityException) {\n            Timber.e(securityEx, &quot;SecurityException: Current thread could not modify this thread&quot;)\n        } catch (interruptEx: ClosedByInterruptException) {\n            Timber.e(interruptEx, &quot;ClosedByInterruptException: Thread blocked in I/O operation&quot;)\n        } catch (e: Exception) {\n            Timber.e(e, &quot;Unexpected error in VPN thread&quot;)\n        } finally {\n            stopThread()\n        }\n    }\n\n    /**\n     * Responsible for configuring the file descriptor, initializing\n     * resources and executing the main processing loop.\n     */\n    private fun runVpn() {\n        configure()\n        val inStream = FileInputStream(fileDescriptor!!.fileDescriptor)\n        val outStream = FileOutputStream(fileDescriptor!!.fileDescriptor)\n        val dnsSocket = DatagramSocket().also { vpnService.protect(it) }\n        val buffer = ByteArray(PACKET_LENGTH)\n        val executorTasksQueue = LinkedBlockingQueue&lt;Runnable&gt;(THREAD_POOL_EXECUTOR_TASK_CAPACITY)\n        val executor =\n            ThreadPoolExecutor(\n                THREAD_POOL_EXECUTOR_CORE_POOL_SIZE,\n                THREAD_POOL_EXECUTOR_MAX_POOL_SIZE,\n                THREAD_POOL_EXECUTOR_KEEP_ALIVE,\n                TimeUnit.SECONDS,\n                executorTasksQueue,\n                SecureThreadFactory(),\n            ).apply {\n                allowCoreThreadTimeOut(true)\n            }\n        try {\n            debugLog(&quot;checking is current thread interrupted = ${Thread.currentThread().isInterrupted}&quot;)\n            while (!Thread.currentThread().isInterrupted) {\n                val len =\n                    try {\n                        inStream.read(buffer)\n                    } catch (e: InterruptedIOException) {\n                        Timber.e(e, &quot;Failed to read from input stream&quot;)\n                        break\n                    } catch (ioe: IOException) {\n                        Timber.e(ioe, &quot;Failed to read from input stream&quot;)\n                        break\n                    }\n                when {\n                    len &lt; 0 -&gt; {\n                        // EOF: underlying TUN FD was closed\n                        debugLog(&quot;Stream closed (EOF), exiting VPN loop&quot;)\n                        break\n                    }\n\n                    len == 0 -&gt; {\n                        // No bytes this iteration, but this should be rare.\n                        // We can skip without exiting.\n                        continue\n                    }\n\n                    else -&gt; {\n                        if (isShuttingDown) break\n\n                        val packetBytes = buffer.copyOf(len)\n                        try {\n                            executor.execute {\n                                handleDnsRequest(packetBytes, dnsSocket, outStream)\n                            }\n                        } catch (_: RejectedExecutionException) {\n                            debugLog(&quot;pool is shutting down or saturated, dropping packet&quot;)\n                        }\n                    }\n                }\n            }\n        } finally {\n            debugLog(&quot;Closing resources...&quot;)\n            isShuttingDown = true\n            debugLog(&quot;Shutting down executor...&quot;)\n            // signal no new tasks\n            executor.shutdown()\n\n            try {\n                // wait up to, say, 5s for all in-flight tasks to finish\n                debugLog(&quot;Awaiting tasks termination for executor.&quot;)\n                if (!executor.awaitTermination(5, TimeUnit.SECONDS)) {\n                    // still tasks running? cancel them\n                    debugLog(&quot;Forcing shutDownNow().&quot;)\n                    executor.shutdownNow()\n                }\n            } catch (ie: InterruptedException) {\n                debugLog(&quot;executor.awaitTermination was interrupted. Forcing shutDownNow().&quot;)\n                executor.shutdownNow()\n                Thread.currentThread().interrupt()\n            }\n\n            debugLog(&quot;Closing sockets &amp; streams&quot;)\n            dnsSocket.close()\n            outStream.close()\n            fileDescriptor?.close()\n            inStream.close()\n        }\n    }\n\n    /**\n     * Send the raw IP packet straight back to the TUN\n     * (i.e. let it go to the real network unmodified).\n     */\n    private fun passthrough(\n        packet: ByteArray,\n        outStream: FileOutputStream,\n    ) {\n        synchronized(outStream) {\n            outStream.write(packet)\n        }\n    }\n\n    /**\n     * Main function responsible for packet processing\n     * and delegation based on the packet's IHL and IP version.\n     * @param packet A ByteArray containing the packet payload to process\n     * @param dnsSocket The DNS socket towards which any allowed packets will be forwarded to\n     * @param outStream The output stream to which the payload will be written to\n     * @see DatagramPacket\n     * @see DatagramSocket\n     */\n    private fun handleDnsRequest(\n        packet: ByteArray,\n        dnsSocket: DatagramSocket,\n        outStream: FileOutputStream,\n    ) {\n        if (isShuttingDown) {\n            debugLog(&quot;Dropping request because shutdown in progress&quot;)\n            return\n        }\n\n        // 20 bytes check for ihl\n        if (packet.size &lt; 20) {\n            debugLog(&quot;Skipping packet with less than 20 bytes&quot;)\n            return\n        }\n\n        // header length &gt;= 5?\n        val ihl = packet[0].toInt() and 0xF\n        if (ihl &lt; PACKET_IHL_MIN_LENGTH) {\n            debugLog(&quot;Skipping packet with invalid IHL=$ihl&quot;)\n            return\n        }\n\n        // check for IPv4 - version == 4\n        val version = (packet[0].toInt() ushr PACKET_IPV4_VERSION) and 0xF\n        when (version) { // todo:sp consider reusing code for packet processing\n            PACKET_IPV4_VERSION -&gt; handleV4(packet, dnsSocket, outStream)\n            PACKET_IPV6_VERSION -&gt; handleV6(packet, dnsSocket, outStream)\n            else -&gt; debugLog(&quot;Skipping non ipV4/ipV6 packet&quot;)\n        }\n    }\n\n    /**\n     * Processes IPV4 packets by allowing ones that are directed towards\n     * whitelisted domains and blocking the rest.\n     * @param packet A ByteArray containing the IPV4 packet payload to process\n     * @param dnsSocket The DNS socket towards which any allowed packets will be forwarded to\n     * @param outStream The output stream to which the payload will be written to\n     */\n    private fun handleV4(\n        packet: ByteArray,\n        dnsSocket: DatagramSocket,\n        outStream: FileOutputStream,\n    ) {\n        debugLog(&quot;Processing IPV4 packet...&quot;)\n        try {\n            // todo:sp surround with try catch?\n            val parsedPacket = IpV4Packet.newPacket(packet, 0, packet.size)\n\n            if (parsedPacket.payload !is UdpPacket) {\n                debugLog(&quot;Passthrough non-UDP packet&quot;)\n                passthrough(packet, outStream)\n                return\n            }\n\n            // 2) If it is UDP but not port 53, let it through\n            val udpPacket = parsedPacket.payload as UdpPacket\n            val dstPort = udpPacket.header.dstPort.valueAsInt()\n            if (dstPort != 53) {\n                debugLog(&quot;Passthrough UDP port $dstPort&quot;)\n                passthrough(packet, outStream)\n                return\n            }\n\n            // from here on we know it's a DNS query (port 53)\n            val dnsRawData = (parsedPacket.payload as UdpPacket).payload.rawData\n            val dnsMsg = Message(dnsRawData)\n            if (dnsMsg.question == null) {\n                debugLog(&quot;Dropping non DNS question message.&quot;)\n                return\n            }\n\n            // Pull the ANSWER section records\n            val answerRecords: MutableList&lt;Record&gt;? = dnsMsg.getSection(Section.ANSWER)\n            // Find the minimum positive TTL\n            val ttl: Long =\n                answerRecords\n                    ?.map { it.ttl }\n                    ?.filter { it &gt; 0 }\n                    ?.minOrNull()\n                    ?: DEFAULT_TTL_SECONDS.toLong()\n            val dnsQueryName = dnsMsg.question.name.toString(true)\n            val cacheKey = &quot;$dnsQueryName:${dnsMsg.question.type}&quot;\n            val shouldPacketBeAllowed =\n                whitelistedHosts.plus(injectedWhitelistedHosts).any { dnsQueryName.isSubdomainOf(it) } ||\n                    allowBypass\n            val response: ByteArray =\n                dnsCache.get(cacheKey) {\n                    if (isShuttingDown) {\n                        // immediate fallback: synthesize a “blocked” or empty response\n                        debugLog(&quot;isShuttingDown was true in dnsCache loader.&quot;)\n                        return@get DnsCacheEntry(data = byteArrayOf(), expiresAt = 0)\n                    }\n\n                    val rawData =\n                        if (shouldPacketBeAllowed) {\n                            debugLog(&quot;Allowing request for $dnsQueryName, bypass: $allowBypass&quot;)\n\n                            val outPacket = DatagramPacket(dnsRawData, 0, dnsRawData.size, dnsServer!!, 53)\n\n                            try {\n                                dnsSocket.send(outPacket)\n                            } catch (e: Exception) {\n                                Timber.e(e, &quot;Failed to send outPacket via dnsSocket&quot;)\n                            }\n\n                            val datagramData = ByteArray(DATAGRAM_PACKET_SIZE)\n                            val replyPacket = DatagramPacket(datagramData, datagramData.size)\n                            dnsSocket.receive(replyPacket)\n\n                            // trim the data to the actual reply's length instead of the DATAGRAM_PACKET_SIZE\n                            // since that could contain &quot;useless&quot; zeroes that when stored and retrieved via the cache\n                            // can confuse the DNS servers and cause issues with their responses.\n                            datagramData.copyOf(replyPacket.length)\n                        } else {\n                            debugLog(&quot;Blocking request for $dnsQueryName&quot;)\n                            dnsMsg.header.setFlag(Flags.QR.toInt())\n                            dnsMsg.addRecord(\n                                ARecord(\n                                    dnsMsg.question.name,\n                                    dnsMsg.question.dClass,\n                                    10.toLong(),\n                                    Inet4Address.getLocalHost(),\n                                ),\n                                Section.ANSWER,\n                            )\n\n                            dnsMsg.toWire()\n                        }\n                    DnsCacheEntry(\n                        data = rawData,\n                        expiresAt = System.currentTimeMillis() + ttl * 1_000,\n                    )\n                }\n\n            val udpOutPacket = parsedPacket.payload as UdpPacket\n            val ipOutPacket =\n                IpV4Packet\n                    .Builder(parsedPacket)\n                    .srcAddr(parsedPacket.header.dstAddr)\n                    .dstAddr(parsedPacket.header.srcAddr)\n                    .correctChecksumAtBuild(true)\n                    .correctLengthAtBuild(true)\n                    .payloadBuilder(\n                        UdpPacket\n                            .Builder(udpOutPacket)\n                            .srcPort(udpOutPacket.header.dstPort)\n                            .dstPort(udpOutPacket.header.srcPort)\n                            .srcAddr(parsedPacket.header.dstAddr)\n                            .dstAddr(parsedPacket.header.srcAddr)\n                            .correctChecksumAtBuild(true)\n                            .correctLengthAtBuild(true)\n                            .payloadBuilder(\n                                UnknownPacket\n                                    .Builder()\n                                    .rawData(response),\n                            ),\n                    ).build()\n\n            try {\n                synchronized(outStream) {\n                    outStream.write(ipOutPacket.rawData)\n                }\n            } catch (e: Exception) {\n                Timber.e(e, &quot;Something went wrong in handleDnsRequest() while writing to the output stream&quot;)\n            }\n        } catch (e: Exception) {\n            Timber.e(e, &quot;Failed to process IPV4 packet.&quot;)\n        }\n    }\n\n    /**\n     * Processes IPV6 packets by allowing ones that are directed towards\n     * whitelisted domains and blocking the rest.\n     * @param packet A ByteArray containing the IPV6 packet payload to process\n     * @param dnsSocket The DNS socket towards which any allowed packets will be forwarded to\n     * @param outStream The output stream to which the payload will be written to\n     */\n    private fun handleV6(\n        raw: ByteArray,\n        dnsSocket: DatagramSocket,\n        out: FileOutputStream,\n    ) {\n        debugLog(&quot;Processing IPV6 packet...&quot;)\n        // parse IPv6\n        val ipv6 = IpV6Packet.newPacket(raw, 0, raw.size)\n\n        // If not UDP at all, passthrough\n        val udp = ipv6.payload as? UdpPacket\n        if (udp == null) {\n            debugLog(&quot;Passthrough non-UDP IPv6&quot;)\n            passthrough(raw, out)\n            return\n        }\n\n        // If UDP but not port 53, passthrough\n        if (udp.header.dstPort.valueAsInt() != 53) {\n            debugLog(&quot;Passthrough UDP/IPv6 port ${udp.header.dstPort.valueAsInt()}&quot;)\n            passthrough(raw, out)\n            return\n        }\n\n        // extract DNS question\n        val dnsRaw = udp.payload.rawData\n        val dnsMsg = Message(dnsRaw)\n        val name = dnsMsg.question?.name?.toString(true) ?: return\n\n        // Pull the ANSWER section records\n        val answerRecords: MutableList&lt;Record&gt;? = dnsMsg.getSection(Section.ANSWER)\n        // Find the minimum positive TTL\n        val ttl: Long =\n            answerRecords\n                ?.map { it.ttl }\n                ?.filter { it &gt; 0 }\n                ?.minOrNull()\n                ?: DEFAULT_TTL_SECONDS.toLong()\n        val cacheKey = &quot;$name:${dnsMsg.question.type}&quot;\n        val shouldPacketBeAllowed =\n            whitelistedHosts.plus(injectedWhitelistedHosts).any { name.isSubdomainOf(it) } ||\n                allowBypass\n\n        val responseData =\n            dnsCache.get(cacheKey) {\n                if (isShuttingDown) {\n                    // immediate fallback: synthesize a “blocked” or empty response\n                    return@get DnsCacheEntry(data = byteArrayOf(), expiresAt = 0)\n                }\n\n                val rawData =\n                    if (shouldPacketBeAllowed) {\n                        // forward query to real DNS server (v4 socket still fine)\n                        debugLog(&quot;Allowing request for $name, bypass: $allowBypass&quot;)\n\n                        val outPacket = DatagramPacket(dnsRaw, 0, dnsRaw.size, dnsServer!!, 53)\n\n                        try {\n                            dnsSocket.send(outPacket)\n                        } catch (e: Exception) {\n                            Timber.e(e)\n                        }\n\n                        val datagramData = ByteArray(DATAGRAM_PACKET_SIZE)\n                        val replyPacket = DatagramPacket(datagramData, datagramData.size)\n                        dnsSocket.receive(replyPacket)\n\n                        datagramData.copyOf(replyPacket.length)\n                    } else {\n                        debugLog(&quot;Blocking request for $name&quot;)\n                        dnsMsg.header.setFlag(Flags.QR.toInt())\n                        dnsMsg.addRecord(\n                            ARecord(\n                                dnsMsg.question.name,\n                                dnsMsg.question.dClass,\n                                10.toLong(),\n                                Inet4Address.getLocalHost(),\n                            ),\n                            Section.ANSWER,\n                        )\n\n                        dnsMsg.toWire()\n                    }\n                DnsCacheEntry(\n                    data = rawData,\n                    expiresAt = System.currentTimeMillis() + ttl * 1_000,\n                )\n            }\n\n        // rebuild an IPv6/UDP packet with `responseData` as payload\n        val udpReply =\n            UdpPacket\n                .Builder(udp)\n                .payloadBuilder(UnknownPacket.Builder().rawData(responseData))\n                .correctChecksumAtBuild(true)\n                .correctLengthAtBuild(true)\n\n        val replyPkt =\n            IpV6Packet\n                .Builder(ipv6)\n                .payloadBuilder(udpReply)\n                .correctLengthAtBuild(true)\n                .build()\n\n        synchronized(out) {\n            try {\n                out.write(replyPkt.rawData)\n            } catch (ioe: IOException) {\n                Timber.e(ioe, &quot;Failed to write reply packet to the out stream for ipv6.&quot;)\n            }\n        }\n    }\n\n    /**\n     * Configures the file descriptor used to\n     * read/write packets.\n     * @see SecureVpnServiceBuilder\n     * @see InetUtils\n     * @see ParcelFileDescriptor\n     */\n    private fun configure() {\n        debugLog(&quot;Configuring ParcelFileDescriptor...&quot;)\n        val builder = secureVpnServiceBuilder.configure(vpnService, vpnService.Builder())\n        dnsServer = secureVpnServiceBuilder.upstreamDnsServers.firstOrNull()\n        if (dnsServer == null) {\n            debugLog(&quot;Device dns server was null. Falling back to CloudFlare&quot;)\n            dnsServer = InetAddress.getByName(&quot;1.1.1.1&quot;)\n        }\n\n        fileDescriptor =\n            builder\n                .setSession(&quot;Secure Data&quot;)\n                .establish()\n        debugLog(&quot;ParcelFileDescriptor configured&quot;)\n    }\n\n    private fun debugLog(msg: String) {\n        Timber.d(&quot;${SecureDataModeVpnService.TAG}-${SecureThread::class.simpleName}:: $msg&quot;)\n    }\n}\n</code></pre>\n<p>Then we have the actual <a href=\"https://pastebin.com/hZ5KQnxe\" rel=\"nofollow noreferrer\">VpnService implementation.</a></p>\n<p>As for my cache implementation, I went with a very simple LRU-TTL based one:</p>\n<pre><code>internal class DnsCache&lt;K&gt;(\n    private val maxSize: Int = DEFAULT_CACHE_MAX_SIZE,\n) {\n    private val map =\n        object : LinkedHashMap&lt;K, DnsCacheEntry&gt;(maxSize, CACHE_LOAD_FACTOR, true) {\n            override fun removeEldestEntry(eldest: MutableMap.MutableEntry&lt;K, DnsCacheEntry&gt;) = size &gt; maxSize\n        }\n\n    /**\n     * Retrieves the value associated with the\n     * given key. If the associated entry has\n     * expired or isn't found, the loader callback\n     * will be executed and its result will be stored.\n     * @param key The key whose value to retrieve\n     * @param loader A callback that will be run when the key\n     * isn't found or the TTL associated with the value has expired.\n     */\n    @Synchronized\n    fun get(\n        key: K,\n        loader: () -&gt; DnsCacheEntry,\n    ): ByteArray {\n        val now = System.currentTimeMillis()\n        map[key]?.let { entry -&gt;\n            if (entry.expiresAt &gt; now) {\n                debugLog(&quot;Cache-Hit for $key&quot;)\n                return entry.data\n            }\n            debugLog(&quot;Key $key has expired.&quot;)\n            map.remove(key)\n        } ?: Timber.d(&quot;Cache-Miss for $key&quot;)\n\n        debugLog(&quot;Loading new value into cache for $key&quot;)\n        val fresh =\n            loader().also {\n                map[key] = it\n            }\n        return fresh.data\n    }\n\n    private fun debugLog(msg: String) {\n        Timber.d(&quot;${SecureDataModeVpnService.TAG}-${DnsCache::class.simpleName}:: $msg&quot;)\n    }\n}\n\ninternal data class DnsCacheEntry(\n    val data: ByteArray,\n    val expiresAt: Long,\n)\n</code></pre>\n<p>I'm basically lost at this point and would love to get some feedback on what I'm doing wrong or maybe forgetting to handle here. I've searched for similar implementations but haven't found anything that does something similar locally, only ones that leverage a VPN server hosted somewhere else.</p>\n",
        "tags": [
            "android",
            "kotlin",
            "android-vpn-service",
            "dnsjava"
        ]
    },
    {
        "index": 50,
        "question_id": 79667471,
        "title": "Absolute positioning and background-clip",
        "body": "<p>I am trying to achieve a gradient text effect. For this purpose, I use text with a transparent fill and <code>background-clip: text;</code>. Some of the characters in the div are absolutely positioned. However, as soon as a character is in a container with <code>position: absolute;</code>, it no longer clips the background and becomes invisible due to <code>fill: transparent</code>. Can a text gradient fill be achieved with absolutely positioned children? If so, how?</p>\n<p>Here's a MWE:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\n  width: 8em;\n  padding: 1em;\n}\n\ndiv.gradient {\n  color: transparent;\n  background: linear-gradient(to right, red, rebeccapurple);\n  background-clip: text;\n}\n\nspan:nth-child(2) {\n  position: absolute;\n  left: 1.5em;\n  top: 2.5em;\n}</code></pre>\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- All letters visible --&gt;\n&lt;div&gt;\n  &lt;span&gt;A&lt;/span&gt;\n  &lt;span&gt;B&lt;/span&gt;\n  C\n&lt;/div&gt;\n\n&lt;hr&gt;\n\n&lt;div class=\"gradient\"&gt;\n  &lt;span&gt;A&lt;/span&gt;\n  &lt;span&gt;B&lt;/span&gt;\n  C\n&lt;/div&gt;</code></pre>\n</div>\n</div>\n</p>\n<p><a href=\"https://codepen.io/reknih/pen/yyNqJbP\" rel=\"nofollow noreferrer\">Codepen</a></p>\n<p>For context, I am using the <a href=\"https://number-flow.barvian.me/vanilla\" rel=\"nofollow noreferrer\">NumberFlow</a> library which uses absolute positioning for digits present in the DOM for transitions and want to combine this effect with the gradient fill.</p>\n",
        "tags": [
            "css"
        ]
    },
    {
        "index": 51,
        "question_id": 79667500,
        "title": "Container Queries SCSS file",
        "body": "<p>I want to use a container query to detect the height of the parent div and adjust the child's height accordingly; however, after following tutorials, reading numerous blog posts, and verifying that I can implement this in browsers, I am unable to get it to fire.</p>\n<p>I am wondering if it has something to do with the SCSS I am using…</p>\n<p>My Code</p>\n<pre><code>@import &quot;../../../src/sass/base/color&quot;;\n@import &quot;../../../src/sass/base/animations&quot;;\n@import &quot;../../../src/sass/base/sizing&quot;;\n@import &quot;../../../src/sass/base/opacity&quot;;\n@import &quot;../../../src/sass/base/spacing&quot;;\n@import &quot;../../../src/sass/base/typography&quot;;\n@import &quot;../../../src/sass/base/shadow&quot;;\n\n.project-action-menu {\n    /* Conatiner Query Elements */\n    container-type: inline-size;\n    container-name: project-action-menu;\n\n    /* Positioning Elements */\n    position: absolute;\n    top: 6.09rem;\n    right: 0;\n    bottom: 0;\n    width: 12rem;\n    height: 100vh;\n    display: flex;             /* enable column layout */\n    flex-direction: column;\n    overflow: hidden;   \n    background-color: $white;\n    padding: $size-5;\n    z-index: 6000;\n    display: flex;\n    flex-direction: column;\n    gap: $size-3;\n    // padding-top: 2.5rem !important;\n    box-shadow: -0.125rem 0.1875rem 0.375rem 0 rgba(0, 0, 0, 0.25);\n    transform: translateX(100%);\n    will-change: transform;\n    backface-visibility: hidden;\n    perspective: 1000px;\n    transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n\n    &amp;.show {\n        transform: translateX(0);\n    }\n\n    .project-action-menu-close {\n        position: absolute;\n        top: $size-4;\n        right: $size-4;\n        cursor: pointer;\n    }\n\n    .project-action-menu-section {\n        display: flex;\n        flex-direction: column;\n        gap: $size-3;\n        overflow-y: auto;\n        position: relative;\n        z-index: 1000;\n        max-height: 23rem;\n        transition-property: max-height, opacity, height;\n        transition-duration: .3s;\n        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n        transition-behavior: allow-discrete;\n        &amp;::after {\n            content: 'More...';\n            display: flex;\n            justify-content: center;\n            align-items: flex-end;\n            font-family: $centruiMedium;\n            font-size: 0.875rem;\n            color: $secondary-01;\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            z-index: 2000;\n            background: $white;\n            height: $size-5;\n            pointer-events: none;\n            opacity: 1;\n            padding-bottom: $size-5;\n        }\n        &amp;:hover {\n            max-height: 23rem !important;\n            padding-bottom: $size-5 !important;\n            &amp;::after {\n                opacity: 0;\n            }\n        }\n    }\n\n\n    .project-action-menu-divider {\n        height: 1px;\n        background-color: $secondary-01-lightest;\n        margin: $size-3 0;\n    }\n\n    .project-action-menu-item {\n        display: flex;\n        align-items: center;\n        gap: 0.625rem;\n        padding: $size-3;\n        border-radius: $size-2;\n        color: $secondary-01;\n        cursor: pointer;\n        font-family: $centruiMedium;\n        font-size: 0.875rem;\n        line-height: 0;        \n        &amp;:hover {\n            background-color: rgba($secondary-01-lighter, 0.16);\n        }\n\n        // @include setSVGStroke($secondary-01);\n        @include setSVGDimensions(1rem);\n\n        &amp;.primary {\n            background-color: $white;\n            color: $primary-01;\n            // @include setSVGStroke($primary-01);\n            &amp;:hover {\n                background-color: rgba($primary-01, 0.16);\n            }\n        }\n\n        &amp;.success {\n            background-color: $white;\n            color: $support-success;\n            // @include setSVGStroke($support-success);\n            &amp;:hover {\n                background-color: rgba($support-success, 0.16);\n            }\n        }\n\n        &amp;.important {\n            background-color: $white;\n            color: $support-important;\n            // @include setSVGStroke($support-important);\n            &amp;:hover {\n                background-color: rgba($support-important, 0.16);\n            }\n        }\n\n        &amp;.danger {\n            background-color: $white;\n            color: $support-danger;\n            // @include setSVGStroke($support-danger);\n            &amp;:hover {\n                background-color: rgba($support-danger, 0.16);\n            }\n        }\n    }\n}\n\n@container project-action-menu (max-height: 700px) {\n    .project-action-menu-section {\n      max-height: 12.5rem !important;\n    }\n}\n</code></pre>\n<p>Could anyone please point me in the right direction?</p>\n",
        "tags": [
            "css",
            "sass",
            "container-queries"
        ]
    },
    {
        "index": 52,
        "question_id": 79667554,
        "title": "Spring boot 3.5.0: DataSourceProperties not defined",
        "body": "<p>I used spring boot 3.4.6 before and everything worked fine for my database configuration but now I have an error when I want to use spring boot 3.5.0:</p>\n<pre><code>Description:\n\nParameter 0 of method hikariDataSource in xxx.DatabaseConfiguration required a bean of type 'org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' in your configuration.\n</code></pre>\n<p>Indeed, to use <code>LazyConnectionDataSourceProxy</code> I did this configuration:</p>\n<p>In application class, I deactivate the auto configuration:</p>\n<pre><code>@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class })\n</code></pre>\n<p>I define my own configuration:</p>\n<pre><code>@Configuration\npublic class DatabaseConfiguration {\n    @Bean\n    @ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\n    public HikariDataSource hikariDataSource(DataSourceProperties properties) {\n        HikariDataSource hikariDataSource = createDataSource(properties, HikariDataSource.class);\n        if (StringUtils.hasText(properties.getName())) {\n            hikariDataSource.setPoolName(properties.getName());\n        }\n        return hikariDataSource;\n    }\n\n    protected static &lt;T&gt; T createDataSource(DataSourceProperties properties, Class&lt;? extends DataSource&gt; type) {\n        return (T) properties.initializeDataSourceBuilder().type(type).build();\n    }\n\n    @Primary\n    @Bean\n    public DataSource dataSource(HikariDataSource hikariDataSource) {\n        // Wrap hikariDataSource in a LazyConnectionDataSourceProxy\n        LazyConnectionDataSourceProxy lazyDataSource = new LazyConnectionDataSourceProxy();\n        lazyDataSource.setTargetDataSource(hikariDataSource);\n        return lazyDataSource;\n    }\n}\n</code></pre>\n<p>To solve that error, I now have to explicitly add this to application class:</p>\n<pre><code>@EnableConfigurationProperties(DataSourceProperties.class)\n</code></pre>\n<p>Do you know what has changed that can explain this please?</p>\n",
        "tags": [
            "java",
            "spring-boot"
        ]
    },
    {
        "index": 53,
        "question_id": 79667682,
        "title": "Correct use of ping/async_ping with websockets",
        "body": "<p>Let's say we have a websocket client based on <code>boost::beast</code>. At some point we want to send a ping frame to the server. To do this, <code>boost::beast::websocket::stream</code> offers two options:</p>\n<ol>\n<li>Use the <code>ping</code> method</li>\n<li>Use the <code>async_ping</code> method</li>\n</ol>\n<p>I want to know how to use these methods correctly in an asynchronous environment.</p>\n<ol>\n<li>Can I safely call <code>ping</code> or <code>async_ping</code> if there is an outstanding (incompleted) <code>async_write</code> operation?</li>\n<li>Using <code>ping</code> seems preferable to <code>async_ping</code> because <code>async_ping</code> requires us to ensure that there are no outstanding ping, pong, async_ping, or async_pong operations when it is called. If I decide to use <code>async_ping</code>, what is the correct way to call it?</li>\n<li>If I decide to use <code>ping</code> (because <code>ping</code> is easy in use), how long can a synchronous <code>ping</code> call theoretically take? Could this be a bottleneck in an asynchronous application?</li>\n</ol>\n<p>Which of these approaches is preferable to use in an asynchronous environment and how to implement it correctly?</p>\n<p>Please note that I am working in a single-threaded but asynchronous environment.</p>\n",
        "tags": [
            "c++",
            "websocket",
            "boost",
            "boost-asio",
            "boost-beast"
        ]
    },
    {
        "index": 54,
        "question_id": 79667760,
        "title": "x-axis tick are not centered under column",
        "body": "<p>I am plotting some precipitation data by month using <code>geom_col</code> and the ticks and labels don't display correctly under the bars and I can't figure out why. The problem suddenly appeared today, I didn't have this problem last week and I didn't change the code especially.</p>\n<p><a href=\"https://i.sstatic.net/kZJrCiUb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/kZJrCiUb.png\" alt=\"Here is what I have currently\" /></a></p>\n<p>Here is is my code and a sample of the data.</p>\n<pre><code>    json %&gt;% \n  filter(Station == &quot;26_2_1_150_744&quot;) %&gt;%\n  filter(Date &gt;= &quot;2025-03-01 00:00:00&quot; &amp; Date &lt;= &quot;2025-06-15&quot;) %&gt;%\n  ggplot(aes(x = Date, y = measure)) + \n  geom_col(fill = &quot;dodgerblue3&quot;) +\n  scale_colour_manual(name = &quot;&quot;) + \n  ylim(0, 300) + \n  labs(x = &quot;&quot;, y = &quot;&quot;) + \n  annotate(&quot;text&quot;, x = as.POSIXct(&quot;2025-06-05 12:00:00&quot;), y = as.numeric(min_data + 15), label = &quot;Ongoing&quot;, size = 9) + \n  annotate(&quot;text&quot;, x = as.POSIXct(Inf), y = Inf, label = &quot;Station&quot;, vjust = 2, hjust = 1.08, size = 13) +\n  theme_bw() + \n  theme(axis.text.x = element_text(size = 35), \n        axis.text.y = element_text(size = 35))\n\n\n&gt; dput(sample)\nstructure(list(measureDate = c(&quot;14/03/2025 12:00&quot;, &quot;14/04/2025 12:00&quot;, \n&quot;15/05/2025 12:00&quot;, &quot;10/06/2025 12:00&quot;), measure = c(250.7, 186, \n97.1, 5.7), Station = c(&quot;26_2_1_150_744&quot;, &quot;26_2_1_150_744&quot;, &quot;26_2_1_150_744&quot;, \n&quot;26_2_1_150_744&quot;), Date = structure(c(1741953600, 1744632000, \n1747310400, 1749556800), tzone = &quot;UTC&quot;, class = c(&quot;POSIXct&quot;, \n&quot;POSIXt&quot;)), Date2 = structure(c(1741953600, 1744632000, 1747310400, \n1749556800), tzone = &quot;UTC&quot;, class = c(&quot;POSIXct&quot;, &quot;POSIXt&quot;)), \n    Date3 = structure(c(20161, 20192, 20223, 20249), class = &quot;Date&quot;), \n    Month = c(&quot;mars&quot;, &quot;avril&quot;, &quot;mai&quot;, &quot;juin&quot;)), row.names = c(NA, \n-4L), class = &quot;data.frame&quot;)\n</code></pre>\n",
        "tags": [
            "r",
            "ggplot2",
            "x-axis",
            "geom-col"
        ]
    },
    {
        "index": 55,
        "question_id": 79667858,
        "title": "How to navigate while a popup is visible?",
        "body": "<p>I'm trying to make .NET MAUI app with a loading spinner that is visible while navigating between pages in the background.</p>\n<p>This worked great using community toolkit popups with .NET 8, but with the new popups v2 it does not work anymore as the modals that are used now interfere with the navigation and force the new pages on the modal stack.</p>\n<p>This causes the popup to disappear and throw an exception when trying to close it). Is there any workaround for this?</p>\n<p>The exception I get:</p>\n<blockquote>\n<p>CommunityToolkit.Maui.Views.PopupBlockedException\nMessage=Unable to close Popup because it is blocked by the Modal Page AppName.Views.PageName. Please call <code>Navigation.PopModalAsync()</code> to first remove AppName.Views.PageName from the ModalStack</p>\n</blockquote>\n<p>Code to show Popup:</p>\n<pre><code>public IPopup ShowPopup&lt;TPopup&gt;()\n    where TPopup : Popup\n{\n    var popup = serviceProvider.GetRequiredService&lt;TPopup&gt;();\n    var popupOptions = CreatePopupOptions(popup);\n    var currentPage = Shell.Current.CurrentPage;\n    var popupTask = currentPage.ShowPopupAsync(popup, popupOptions);\n    return new Types.Popup(popup, popupTask);\n}\n\nprivate static CommunityToolkit.Maui.PopupOptions CreatePopupOptions(Popup popup)\n{\n    return new()\n    {\n        OnTappingOutsideOfPopup = async () =&gt; await popup.CloseAsync(),\n        CanBeDismissedByTappingOutsideOfPopup = true,\n        Shape = new Rectangle()\n        {\n            StrokeThickness = 0\n        }\n    };\n}\n</code></pre>\n<p>Popup wrapper class:</p>\n<pre><code>internal class Popup(\n    CommunityToolkit.Maui.Views.Popup popup,\n    Task popupTask)\n        : IPopup\n{\n    public bool IsClosed { get; private set; }\n\n    public async Task CloseAsync()\n    {\n        IsClosed = true;\n        await popup.CloseAsync();\n    }\n}\n</code></pre>\n<p>Popup XAML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;toolkit:Popup xmlns=&quot;http://schemas.microsoft.com/dotnet/2021/maui&quot;\n         xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;\n         xmlns:toolkit=&quot;http://schemas.microsoft.com/dotnet/2022/maui/toolkit&quot;\n         BackgroundColor=&quot;Transparent&quot;&gt;\n\n    &lt;Grid&gt;\n        &lt;ActivityIndicator IsRunning=&quot;true&quot; /&gt;\n    &lt;/Grid&gt;\n\n&lt;/toolkit:Popup&gt;\n</code></pre>\n<p>Popup code behind:</p>\n<pre><code>public partial class ActivityIndicatorPopup : Popup\n{\n    public static IStringLocalizer Localizer { get; } = Localization.Localizer.Get&lt;ActivityIndicatorPopup&gt;();\n\n    public ActivityIndicatorPopup()\n    {\n        InitializeComponent();\n    }\n}\n</code></pre>\n<p>How the popup is used:</p>\n<pre><code>var popup = popupService.ShowPopup&lt;ActivityIndicatorPopup&gt;();\n//do something\nawait Shell.Current.GoToAsync(&quot;/PageName&quot;);\n//do something\nawait popup.CloseAsync();\n</code></pre>\n",
        "tags": [
            "c#",
            "maui",
            "maui-community-toolkit",
            ".net-maui.shell"
        ]
    },
    {
        "index": 56,
        "question_id": 79667907,
        "title": "Content within foreignObject is not aligned properly inside an SVG",
        "body": "<p>I have a component which renders an SVG. I want the consumer of this component to be able to provide any template and (x, y) coordinates that can be displayed inside my SVG component.</p>\n<p>I am using <code>foreignObject</code> element as a wrapper to the user provided template. It allows me to position the user's content easily (the root SVG element might have some transform properties applied to it to move the origin) and gives user the ability to display content which is not SVG.</p>\n<p>I am using another <code>div</code> inside the <code>foreignObject</code> and applying a transform to center the content on the provided (x,y).</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\n  width: min-content;\n  height: min-content;\n  transform: translate(-50%, -50%);\n}</code></pre>\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg\n  class=\"component\"\n  viewbox=\"0 0 10 10\"\n  width=\"200\"\n  height=\"200\"\n  overflow=\"visible\"\n&gt;\n\n  &lt;rect\n    x=\"0\"\n    y=\"0\"\n    width=\"10\"\n    height=\"10\"\n    fill=\"none\"\n    stroke-width=\"0.1\"\n    stroke=\"black\"\n  /&gt;\n\n  &lt;!-- draw lines to find center of the rect --&gt;\n  &lt;line x1=\"5\" y1=\"0\" x2=\"5\" y2=\"10\" stroke=\"black\" stroke-width=\"0.1\" /&gt;\n  &lt;line x1=\"0\" y1=\"5\" x2=\"10\" y2=\"5\" stroke=\"black\" stroke-width=\"0.1\" /&gt;\n\n  &lt;!-- use foerign object to position the template at the provided (x, y) --&gt;\n  &lt;foreignObject x=\"5\" y=\"5\" width=\"1\" height=\"1\" overflow=\"visible\"&gt;\n\n    &lt;!-- using div to apply transform and center the content on the provided (x, y) --&gt;\n    &lt;div&gt;\n    \n      &lt;!-- template provided by the consumer --&gt;\n      &lt;svg width=\"2\" height=\"1\" overflow=\"visible\"&gt;\n        &lt;ellipse cx=\"1\" cy=\"0.5\" rx=\"1\" ry=\"0.5\" /&gt;\n      &lt;/svg&gt;\n\n    &lt;/div&gt;\n  &lt;/foreignObject&gt;\n&lt;/svg&gt;</code></pre>\n</div>\n</div>\n</p>\n<p>The problem is that the content inside the foreignObject is misaligned. And this alignment changes based on the position of the foreignObject element. Something to note here is that the bounding box displayed by the browser's dev tools displays the correct position/alignment bu that is not where the content gets drawn.</p>\n<p>Here is an image when foreignObject is positioned at 5,5\n<a href=\"https://i.sstatic.net/gFFP4cIz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/gFFP4cIz.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is another image when foreignObject is positioned at 6,6\n<a href=\"https://i.sstatic.net/XIEk3toc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/XIEk3toc.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using a much smaller viewbox here because the issue is easy to see. And I can reproduce this issue in both chrome and firefox.</p>\n",
        "tags": [
            "html",
            "css",
            "user-interface",
            "svg",
            "foreignobject"
        ]
    },
    {
        "index": 57,
        "question_id": 79667959,
        "title": "Handling PCIe INTx interrupts (Virtual Wire Signaling) for AHCI without MSI/MSI-X (PIC-only mode)",
        "body": "<p>I am writing an AHCI driver for a minimal kernel and need to handle PCIe interrupts without MSI, relying solely on the legacy PIC 8259 and PCIe INTx virtual wire signaling.</p>\n<p>I have already implemented PCI device init/scanner function and can read or write to the configuration registers of each PCI device. Now I am going through the checklist on OSDEV for implementing the AHCI driver. - <a href=\"https://wiki.osdev.org/AHCI#Checklist\" rel=\"nofollow noreferrer\">https://wiki.osdev.org/AHCI#Checklist</a></p>\n<p>One of the steps is:</p>\n<ul>\n<li>&quot;<em>Register IRQ handler, using interrupt line given in the PCI register. This interrupt line may be shared with other devices, so the usual implications of this apply.</em>&quot;</li>\n</ul>\n<p>Since the interrupt line can be shared among several devices how am I going to differentiate between them and check which device has issued an interrupt?</p>\n<p>In the PCI specifications I can see that at offset 0x3C in the configuration register lies the interrupt line and the interrupt PIN that tells me which INTx# (e.g., INTA-D) the device uses. However I am not sure when the interrupt is issued by a device how would I check in my interrupt service routine what was the INTx# in order to match it with the correct device on this interrupt line?</p>\n",
        "tags": [
            "x86",
            "osdev",
            "pci",
            "pci-e",
            "ahci"
        ]
    },
    {
        "index": 58,
        "question_id": 79668035,
        "title": "Calculating Overlapping hours / minutes",
        "body": "<p>I have some date/time data that has overlapping minutes/hours and I want to calculate how much there is. I'm a little stumped on how to do this. I prefer a tidyverse solution because I'm more familiar with reading it, but anything that works will be helpful. Example code / expected outcome below:</p>\n<pre><code>library(tidyverse)\nlibrary(lubridate)\n\nmain_start &lt;- c(&quot;2024-01-01 4:50:00 PM&quot;, &quot;2024-03-22 11:00:00 AM&quot;)\nmain_end &lt;- c(&quot;2024-01-01 11:40:00 PM&quot;, &quot;2024-03-22 9:00:00 PM&quot;)\n\nsecond_start &lt;- c(&quot;2024-01-01 2:00:00 PM&quot;, &quot;2024-03-22 12:00:00 PM&quot;)\nsecond_end &lt;- c(&quot;2024-01-02 12:15:00 AM&quot;, &quot;2024-03-22 8:00:00 PM&quot;)\n\nthird_start &lt;- c(&quot;2024-01-01 8:00:00 AM&quot;, &quot;2024-03-22 8:00:00 AM&quot;)\nthird_end &lt;- c(&quot;2024-01-01 5:00:00 PM&quot;, &quot;2024-03-22 5:00:00 PM&quot;)\n\ndf &lt;- tibble::tibble(main_start, main_end,\n                     second_start, second_end,\n                     third_start, third_end) %&gt;% \n  mutate(main_start = ymd_hms(main_start),\n         main_end = ymd_hms(main_end),\n         second_start = ymd_hms(second_start),\n         second_end = ymd_hms(second_end),\n         third_start = ymd_hms(third_start),\n         third_end = ymd_hms(third_end))\n</code></pre>\n<p>I want to find the total amount of time that MAIN time had overlapped with SECOND or THIRD</p>\n<p>If there is a double overlap it only needs to count once</p>\n<p>For example, in row 1</p>\n<ul>\n<li>Main time is from 4:50 PM to 11:40 PM.</li>\n<li>Second is from 2:00 PM to 12:15 AM the next morning.</li>\n<li>Third is from 8:00 AM to 5:00 PM</li>\n</ul>\n<p>The entire main time is overlapping at some point with either of the other two. There is some double overlap, but I don't need that\nSo the expected output would be 6 hours 50 minutes, or it can be in decimal form - doesn't really matter</p>\n<p>Row 2</p>\n<ul>\n<li>Main time 11:00 AM to 9:00 PM. Second 12:00 PM to 8:00 PM. Third 8:00 AM to 5:00 PM</li>\n<li>The overlap here is from 11:00 AM to 8:00 PM, so it the result should be a flat 9 hours.</li>\n</ul>\n<p>The only way I can think to calculate it is by listing every single minute between each option and finding the duplicates</p>\n",
        "tags": [
            "r",
            "tidyverse"
        ]
    },
    {
        "index": 59,
        "question_id": 79668239,
        "title": "Unable to Start Coding in C with Visual Studio Code",
        "body": "<p>I have been trying to start learning C on my own this summer as I am out of school, but have ran into a road block that I cannot seem to get through. I was following the official MinGW tutorial for Windows 10 <a href=\"https://code.visualstudio.com/docs/cpp/config-mingw\" rel=\"nofollow noreferrer\">here</a> and followed every step but yet still I cannot run anything. I seem to have everything installed correctly:\n<a href=\"https://i.sstatic.net/DgR2sD4E.png\" rel=\"nofollow noreferrer\">Pic of Installed Versions</a>, but still nothing is able to run correctly. I have also tries to Configure the default build test in VSCode, still no luck, well well as <a href=\"https://www.youtube.com/watch?v=1PBD5qFWdq8&amp;t=24s\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.youtube.com/watch?v=77v-Poud_io\" rel=\"nofollow noreferrer\">that</a> video, with again no luck. Even this minimal program ...</p>\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(){\n\n    return 0;\n}\n</code></pre>\n<p>... does not run as there is a red squiggly under the first include line. The errors are as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>#include errors detected. Please update your includePath.  \nSquiggles are disabled for this translation unit (C:[PERSONALPATH]\\HelloWorld.c).\n</code></pre>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>could not open source file &quot;stdio.h&quot; (no directories in search list). \nPlease run the 'Select IntelliSense Configuration...' command to locate your system headers.\n</code></pre>\n<p>I simply want to learn and tinker with the syntax but after several hours and no progress I feel defeated.</p>\n",
        "tags": [
            "c",
            "visual-studio-code"
        ]
    },
    {
        "index": 60,
        "question_id": 79668344,
        "title": "piperTTS library instructions fail with error /usr/share/espeak-ng-data/phontab: No such file or directory",
        "body": "<p>I am trying to generate text to speech, developing in PopOS Linux Kernel 6.12.10. I found piperTTS, and would ask for help comparing different toolkits to see if there are better ones since this is just the first one I picked. But since that offends the powers that be here, I will settle for learning how to make it work.</p>\n<p>I downloaded the library, compiled with:</p>\n<pre><code>cmake -B build .\ncmake --build build\n</code></pre>\n<p>This successfully builds executables piper and testpiper</p>\n<p>The readme claims I need two files, a .onnx and a .json\nI found and downloaded these two:</p>\n<pre><code>63201294 Jun 16 16:53 en_US-lessac-medium.onnx\n    4885 Jun 16 16:53 en_US-lessac-medium.onnx.json\n</code></pre>\n<p>I got the instructions from the readme:\n<a href=\"https://github.com/rhasspy/piper/blob/master/README.md\" rel=\"nofollow noreferrer\">piperTTS README</a></p>\n<p>It says to run with:</p>\n<pre><code>echo 'Welcome to the world of speech synthesis!' | \\\n  ./piper --model en_US-lessac-medium.onnx --output_file welcome.wav\n</code></pre>\n<p>I tried from the top level, and from the build directory. Here is my command from build:</p>\n<pre><code>echo &quot;welcome to the world of speech synthesis!&quot; | ./piper --model ../en_US-lessac-medium.onnx --output_file test.wav\n[2025-06-16 19:48:23.657] [piper] [info] Loaded voice in 0.192179611 second(s)\nError processing file '/usr/share/espeak-ng-data/phontab': No such file or directory.\n</code></pre>\n<p>I don't understand what the missing file is for, nor is it mentioned in the README.\nWhat am I doing wrong?</p>\n<p>This library did look quite good, and the audio samples seemed fine, but if someone wants to recommend an alternate library that works better, I wouldn't mind.</p>\n",
        "tags": [
            "c",
            "text-to-speech"
        ]
    },
    {
        "index": 61,
        "question_id": 79668355,
        "title": "Z3 Lookup sorts with Cpp API without Constructors Definitions",
        "body": "<p>I'm currently trying to get information in some way of all the sorts present in an smt2 file, via the Cpp API. As I want to retrieve the values that are assigned to the sorts in the formula and assuming that there are no constructors for them defined. While I was following this logic I found the <code>m.get_func_decl()</code>. Which made it possible to retrieve the sorts of the argument functions. With no constructors which is what I need. <code>(declare-fun TestFunc (Int Bool Int) Int)</code>. But when I use a <code>define-fun</code>, this <code>(define-fun Main@main ((n Int)) (Int) ...</code>. is not available to access with <code>m.get_func_decl()</code>, I suppose some optimization happens that removes the declaration. So, my question is, are there any alternatives to the goal that I have in mind of getting a list of the sorts used in the smt file with no constructors?</p>\n",
        "tags": [
            "c++",
            "z3",
            "smt"
        ]
    },
    {
        "index": 62,
        "question_id": 79668382,
        "title": "Losing precision between vba and cell",
        "body": "<p>I have a vba sub which takes data from some cells, calls a function, then copies the data into a different cell.\nInside the Function, at the last step I see the value = .2046\nThe next step with the Function return value is .2046</p>\n<p>When I move the data to a cell the value shows as .2000</p>\n<p>The Cell is defined as Currency with 4 positions to the right of the '.'\nThe Variables are defined as Currency\nThe function is defined as a currency</p>\n<p>here is the code</p>\n<pre><code>Sub TestIt()\n\nDim v1, v2, v3 As Currency\n    v1 = 0.93@\n    v2 = 0.22@\n\n    v3 = FCalcCurrency(v1, v2)\n    Debug.Print (&quot;v3 after the function&quot; &amp; v3)\n    Sheets(&quot;Input&quot;).Range(&quot;V6&quot;).Value = v3\n\nEnd Sub\n\nFunction FCalcCurrency(ByVal v1 As Currency, ByVal v2 As Currency) As Currency\n    Dim answ As Currency\n\n    answ = v1 * v2\n\n    FCalcCurrency = answ\n    \n    Debug.Print (&quot;answ before return &quot; &amp; answ)\n\nEnd Function\n</code></pre>\n",
        "tags": [
            "excel",
            "vba",
            "currency"
        ]
    },
    {
        "index": 63,
        "question_id": 79668391,
        "title": "Why does Pyright report an incompatible method override when using a decorator with multiple parameters?",
        "body": "<p>I'm experiencing a type checking error with Pyright when using a decorator with a method that overrides another method. The error occurs only when the method has two parameters (<code>self</code> and another parameter), but disappears when I define it so that there's only one parameter (<code>self</code>).</p>\n<p>Here`s my code with errors:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from functools import wraps\nfrom typing import Callable, Concatenate, ParamSpec, TypeVar\n\nT = TypeVar(&quot;T&quot;)\nP = ParamSpec(&quot;P&quot;)\nR = TypeVar(&quot;R&quot;)\n\n\n# Here wrapper has channel: str\ndef use_channel(\n    func: Callable[Concatenate[T, str, P], R]\n) -&gt; Callable[Concatenate[T, str, P], R]:\n    @wraps(func)\n    def wrapper(self: T, channel: str, *args: P.args, **kwargs: P.kwargs) -&gt; R:\n        print(f&quot;[Decorator] self={self}, channel={channel}&quot;)\n        return func(self, channel, *args, **kwargs)\n    return wrapper\n\n\nclass A:\n    def set_channel(self, channel: str):\n        pass\n\n\nclass B(A):\n    @use_channel\n    # It result in Pyright Error\n    def set_channel(self, channel: str):\n        pass\n</code></pre>\n<p>This code displays no errors:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from functools import wraps\nfrom typing import Callable, Concatenate, ParamSpec, TypeVar\n\nT = TypeVar(&quot;T&quot;)\nP = ParamSpec(&quot;P&quot;)\nR = TypeVar(&quot;R&quot;)\n\n# Here wrapper only has self argument\ndef use_channel(\n    func: Callable[Concatenate[T, P], R]\n) -&gt; Callable[Concatenate[T, P], R]:\n    @wraps(func)\n    def wrapper(self: T, *args: P.args, **kwargs: P.kwargs) -&gt; R:\n        print(f&quot;[Decorator] self={self}&quot;)\n        return func(self, *args, **kwargs)\n    return wrapper\n\n\nclass A:\n    def set_channel(self, channel: str):\n        pass\n\n\nclass B(A):\n    @use_channel\n    # No Error\n    def set_channel(self, channel: str):\n        pass\n</code></pre>\n<p>The error message is:</p>\n<blockquote>\n<p>Method &quot;set_channel&quot; overrides class &quot;A&quot; in an incompatible manner</p>\n<p>Parameter 2 mismatch: base parameter &quot;channel&quot; is keyword parameter, override parameter is position-only</p>\n</blockquote>\n<p>Can someone explain why having one or two parameters makes a difference here? Is this related to how Pyright checks compatibility between methods?&quot;</p>\n",
        "tags": [
            "python",
            "decorator",
            "python-typing",
            "python-decorators",
            "pyright"
        ]
    },
    {
        "index": 64,
        "question_id": 79668407,
        "title": "Way to get japanese values from application.yaml",
        "body": "<p>I've like this format yaml:</p>\n<pre><code>customer:\n  vote:\n    people:\n      vote-order:\n        1:\n          id: 3\n          name: &quot;社長様&quot;\n        2:\n          id: 4\n          name: &quot;会長様&quot;\n        3:\n          id: 7\n          name: &quot;english_value&quot;\n\n\n</code></pre>\n<p>I've made a vote order like this to get values from this</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;customer.vote.people&quot;)\npublic class VoteOrder {\n\n    private Map&lt;Integer, Voter&gt; voteOrder;\n\n    public Map&lt;Integer, Voter&gt; getVoteOrder() {\n        return voteOrder;\n    }\n\n    public void setVoteOrder(Map&lt;Integer, Voter&gt; voteOrder) {\n        this.voteOrder = voteOrder;\n    }\n\n    public static class Voter {\n        private int id;\n        private String name;\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n    }\n}\n\n</code></pre>\n<p>I'm in weird situation now , like I've called value like this :\n<code>Map&lt;Integer, VoteOrder.Voter&gt; peoples = voteOrder.getVoteOrder();</code></p>\n<p>I can get values for 3 , like peoples.get(3) i can get name and id , but when i do <code>peoples.get(2)</code> or <code>peoples.get(1)</code> I get id but for name i get this value <code>??? ???</code></p>\n<p>I tried to search using vm option putting <code>-Dfile.encoding=UTF-8</code> or using <code>@PropertySource(value = &quot;classpath:application.yaml&quot;, encoding = &quot;UTF-8&quot;)</code> still cant get japanese characters from this yaml..</p>\n<p>Are there ways to get values?</p>\n<p>Thanks.</p>\n",
        "tags": [
            "java",
            "spring-boot"
        ]
    },
    {
        "index": 65,
        "question_id": 79668435,
        "title": "Angular route parameter input binding on child routes",
        "body": "<p>In my Angular 18 app, I have the following route configuration:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const routes: Routes = [\n  ...,\n  {\n    path: 'test/:year/:month',\n    component: ParentComponent,\n    children: [\n      {\n        path: 'child',\n        component: ChildComponent\n      }\n    ]\n  },\n  ...\n]\n</code></pre>\n<p>My RouterModule is also configured to bind the route params to the relevant component inputs:</p>\n<pre class=\"lang-js prettyprint-override\"><code>RouterModule.forRoot(routes, { bindToComponentInputs: true })\n</code></pre>\n<p>I have successfully got this working in my <code>ParentComponent</code>, where I am able to get the two route parameters with the following syntax:</p>\n<pre class=\"lang-js prettyprint-override\"><code>year = input&lt;number&gt;();\nmonth = input&lt;number&gt;();\n</code></pre>\n<p>However, if I try to do the same thing in my <code>ChildComponent</code> (which is rendered within <code>ParentComponent</code> via a router-outlet), I am not able to get values for these two route parameters.</p>\n<p>Is there a way to bind these route parameters to the child component's inputs?</p>\n",
        "tags": [
            "angular",
            "angular18"
        ]
    },
    {
        "index": 66,
        "question_id": 79668502,
        "title": "How to get calendar_today_outlined icon for Angular Material Datepicker?",
        "body": "<p>According to the documentation, <a href=\"https://api.flutter.dev/flutter/material/Icons/calendar_today_outlined-constant.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/material/Icons/calendar_today_outlined-constant.html</a></p>\n<p>calendar_today_outlined icon is shown as:\n<a href=\"https://i.sstatic.net/iVZYORpj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/iVZYORpj.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I use it in <a href=\"https://stackblitz.com/edit/angular-material-datepicker-ftbnrhi9?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">example</a></p>\n<pre><code>&lt;mat-icon #pickerSingleIcon&gt;calendar_today_outlined&lt;/mat-icon&gt;\n</code></pre>\n<p>I get the header filled: <a href=\"https://i.sstatic.net/bkYXWSUr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/bkYXWSUr.png\" alt=\"filled header\" /></a></p>\n<p>This confused me, why the specified calendar_today_outlined icon is shown the same as calendar_today.</p>\n<p>Wonder how to get the outlined icon for the calendar?</p>\n",
        "tags": [
            "angular",
            "angular-material",
            "mat-datepicker",
            "mat-icon"
        ]
    },
    {
        "index": 67,
        "question_id": 79668557,
        "title": "Match types defined in a header for switch statements with Clang AST",
        "body": "<p>I'm trying to match switch statements that operate on enum types defined in certain header files. I'm running clang-query on source that looks like the following:</p>\n<pre><code>enum class E {\n  ONE, \n  TWO\n};\n\nclass F {\n public:\n  E operator*() const { \n    return E{};\n  }\n};\n\nvoid foo(F f) {\n  switch (*f) {\n    case E::ONE: \n      break;\n    case E::TWO:\n      break;\n  }\n};\n</code></pre>\n<p>The AST dump of this is like follows:</p>\n<pre><code>SwitchStmt\n|-ImplicitCastExpr\n| `CXXOperatorCallExpr`\n</code></pre>\n<p>I'd expect the following to match the switch, but it doesn't</p>\n<pre><code>clang-query&gt; m switchStmt(implicitCastExpr())\n</code></pre>\n<p><a href=\"https://godbolt.org/z/nrqoT3r6f\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>What am I doing wrong? (My plan was to match with <code>implicitCastExpr()</code>, then match further with <code>hasImplicitDestinationType()</code> and <code>hasDeclaration()</code> to match declarations in those specific header files.)</p>\n",
        "tags": [
            "c++",
            "abstract-syntax-tree",
            "clang-ast-matchers"
        ]
    },
    {
        "index": 68,
        "question_id": 79668630,
        "title": "How to get summary statistics on the bottom rows of a merged regression table?",
        "body": "<p>I am playing the <code>{gtsummary}</code> package and want to have a merged regression table of a baseline and an interaction model. For both models I want to add the R-squared and the log-likelihood as the bottom two rows.</p>\n<pre><code>library(gtsummary)\nlibrary(logitr)\n\nmodel1 &lt;- logitr(\n  data    = yogurt,\n  outcome = &quot;choice&quot;,\n  obsID   = &quot;obsID&quot;,\n  pars    = c(&quot;price&quot;, &quot;feat&quot;, &quot;brand&quot;)\n)\n\nmodel2 &lt;- logitr(\n  data    = yogurt,\n  outcome = &quot;choice&quot;,\n  obsID   = &quot;obsID&quot;,\n  pars    = c(&quot;price*feat&quot;, &quot;brand&quot;)\n)\n\n# Make individual tables\nt1 &lt;- model1 |&gt; tbl_regression() |&gt; add_glance_table(include = c(&quot;r.squared&quot;, &quot;logLik&quot;))\nt2 &lt;- model2 |&gt; tbl_regression() |&gt; add_glance_table(include = c(&quot;r.squared&quot;, &quot;logLik&quot;))\n\n# Merge tables\ntbl_merge(\n  tbls = list(t1, t2),\n  tab_spanner = c(&quot;**Baseline**&quot;, &quot;**Interaction**&quot;)\n)\n</code></pre>\n<p>This gives a nice table but with the interaction term <code>price * feat</code> below the R-squared and log-likelihood statistics.</p>\n<p><a href=\"https://i.sstatic.net/EDHOBQQZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/EDHOBQQZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I can fix this by swapping the order of the tables</p>\n<pre><code>tbl_merge(\n  tbls = list(t2, t1),\n  tab_spanner = c(&quot;**Interaction**&quot;, &quot;**Baseline**&quot;)\n)\n</code></pre>\n<p>and then I get the rows in the correct order</p>\n<p><a href=\"https://i.sstatic.net/TBaQ6aJj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/TBaQ6aJj.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I want the baseline model to the left of the interaction model. How can I get the best of both worlds? Can I somehow swap the &quot;Baseline&quot; and &quot;Interaction&quot; column groups after the <code>tbl_merge</code>?</p>\n",
        "tags": [
            "r",
            "gtsummary",
            "gt"
        ]
    },
    {
        "index": 69,
        "question_id": 79668678,
        "title": "How can I configure the wrapping of a large long line of text in a form Django?",
        "body": "<p>I have a form with OneToOneField where data is loaded from another table model.\nBut I often have large data sizes there and the displayed text does not fit into the window size.\nIs it possible to somehow configure the text wrapping to 2-3 lines?</p>\n<p>How can I configure the wrapping of a large long line of text in a form?</p>\n<p><a href=\"https://i.sstatic.net/ZVywPDmS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/ZVywPDmS.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>from django.db import models\n\n# Create your models here.\n\n\nclass ArkiObject (models.Model):\n    nameobject = models.TextField(verbose_name=&quot;Наименование объекта&quot;)\n    def __str__(self):\n        return self.nameobject\n\nTYPE_OBJECT = [\n    (&quot;1&quot;, &quot;Котельная&quot;),\n    (&quot;2&quot;, &quot;Сети&quot;),\n    (&quot;3&quot;, &quot;БМК&quot;),\n    (&quot;4&quot;, &quot;ЦТП&quot;),\n    (&quot;5&quot;, &quot;ТГУ&quot;),\n]\n\nTYPE_WORK = [\n    (&quot;1&quot;, &quot;Реконструкция&quot;),\n    (&quot;2&quot;, &quot;Капитальный ремонт&quot;),\n    (&quot;3&quot;, &quot;Строительство&quot;),\n]\n\nTYPE_CITY = [\n    (&quot;1&quot;, &quot;Бронницы&quot;),\n    (&quot;2&quot;, &quot;Луховицы&quot;),\n    (&quot;3&quot;, &quot;Павловский Посад&quot;),\n    (&quot;4&quot;, &quot;Раменское&quot;),\n    (&quot;5&quot;, &quot;Шатура&quot;),\n]\n\nclass ArkiOneObject (models.Model):\n    city = models.CharField(\n        choices=TYPE_CITY,\n    verbose_name=&quot;Выберите ОМСУ&quot;)\n    typeobject = models.CharField(\n        choices=TYPE_OBJECT,\n    verbose_name=&quot;Выберите тип объекта&quot;)\n    typework = models.CharField(\n        choices=TYPE_WORK,\n    verbose_name=&quot;Выберите тип работ&quot;)\n    nameobject = models.OneToOneField(ArkiObject, verbose_name=&quot;Наименование объекта&quot;, on_delete=models.CASCADE)\n\n\nfrom django import forms\nfrom .models import *\n\n\nclass FormOne (forms.ModelForm):\n    class Meta:\n        model = ArkiOneObject\n        fields = &quot;__all__&quot;\n\n\n\nclass FormTwo (forms.ModelForm):\n    class Meta:\n        model = ArkiTwoObject\n        fields = &quot;__all__&quot;\n                \n\nclass FormThree (forms.ModelForm):\n    class Meta:\n        model = ArkiObject\n        fields = &quot;__all__&quot;\n                                \n\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot; /&gt;\n    &lt;title&gt;title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;form method=&quot;POST&quot; class=&quot;post-form&quot;&gt;\n            {% csrf_token %} {{formtwo.as_p}}\n            &lt;button type=&quot;submit&quot; class=&quot;button&quot;&gt;Отправить&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n    \n&lt;/body&gt;\n&lt;/html&gt;\n\n\ndef formone(request):\n    context = {}\n    formone = FormOne(request.POST or None)\n    if formone.is_valid():\n        formone.save()\n\n        return redirect(&quot;formone&quot;)\n    context['formone'] = formone\n    return render(request, &quot;formone.html&quot;, context)\n\n\ndef formtwo(request):\n    context = {}\n    formtwo = FormTwo(request.POST or None)\n    if formtwo.is_valid():\n        formtwo.save()\n\n        return redirect(&quot;formtwo&quot;)\n    context['formtwo'] = formtwo\n    return render(request, &quot;formtwo.html&quot;, context)   \n</code></pre>\n",
        "tags": [
            "python",
            "django",
            "templates",
            "django-models",
            "django-forms"
        ]
    },
    {
        "index": 70,
        "question_id": 79668693,
        "title": "Plotting the 95% error margin segments of the fitted line and controlling the line properties",
        "body": "<p>Using the <code>geom_smooth</code> function in <code>ggplot2</code> it cannot control the se boundaries for <code>linetype</code> and <code>linewidth</code>, is there a simpler way to achieve the following figure:\n<a href=\"https://i.sstatic.net/M6CzGGpB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/M6CzGGpB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Method 1:</strong> Use the repeated computation method to do and plot using <code>geom = ribbon</code>:</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(tidyverse)\n\nggplot(data = mpg, aes(x = displ,y = hwy))+\n  geom_point()+\n  geom_smooth(method = &quot;lm&quot;, se = FALSE, color = &quot;black&quot;) +\n  stat_smooth(method = &quot;lm&quot;, \n              geom = 'ribbon',\n              fill = NA,\n              linetype = 2,\n              se = TRUE, color = &quot;blue&quot;) \n</code></pre>\n",
        "tags": [
            "r",
            "ggplot2"
        ]
    },
    {
        "index": 71,
        "question_id": 79668714,
        "title": "How to mount network disk to docker container?",
        "body": "<p>I have a network drive in the local network of the host machine (for example, at 10.10.10.10). I use Windows 11 and enter the command:</p>\n<pre><code>net use O: \\\\10.10.10.10\\share /user:login &quot;password&quot;\n</code></pre>\n<p>I mount the drive in Explorer. I can log in without problems.\nThen I try to mount values ​​in Astronomer. In the docker-compose.override.yml file I write:</p>\n<pre><code>version: &quot;3.1&quot;\nservices: \nscheduler: \n volumes: \n  - nfsmountCC:/mnt/share:rw\nvolumes: \n nfsmountCC: \n  driver: local \n  driver_opts: \n  type: cifs \n  o: &quot;username=login,password=password,iud=astro,vers=3.0&quot; \n  device: &quot;//10.10.10.10/share&quot;\n</code></pre>\n<p>But when creating a container an error occurs:</p>\n<blockquote>\n<p>Error: error building,\n(re)creating or starting project containers: Error response from\ndaemon: error while mounting volume\n'/var/lib/docker/volumes/work_b6bd7d_nfsmountCC/_data': failed to\nmount local volume: mount\n:/share/:/var/lib/docker/volumes/work_b6bd7d_nfsmountCC/_data, data:\naddr=10.10.10.10: connection refused.</p>\n</blockquote>\n<p>I also tried to make the following docker-compose.yaml file:</p>\n<pre><code>services:\napp:\n image: nginx:latest\n volumes:\n  - nfsmountCC:/mnt/share:rw\n\nvolumes:\n nfsmountCC:\n  driver: local\n  driver_opts:\n  type: cifs\n  o: &quot;username=login,password=password,vers=3.0&quot;\n  device: &quot;//10.10.10.10/share&quot;\n</code></pre>\n<p>And then I can go to the /mnt/share folder and see all the files and folders there.</p>\n<p>Why can't I mount the same disk in astronomer? How can I mount values ​​so that I can read and write?</p>\n<p>p.s. I use Docker Desktop with wsl2 backend</p>\n",
        "tags": [
            "docker",
            "astronomer"
        ]
    },
    {
        "index": 72,
        "question_id": 79669065,
        "title": "PHP new DateTime() with unix timestamp ignores Timezone for application and also explicit Timezone in constructor",
        "body": "<p>I have an object which have created property like unix timestamp integer.\nI try to convert this property to DateTime object and supposed the PHP will set up correct Timezone according application settings. Application is Laravel 12 which setting for timezone is correct as I see in a log file. Look at the code:</p>\n<pre><code>Log::info((new DateTimeZone(config('app.timezone')))-&gt;getName());  // Europe/Bratislava\n$row-&gt;created = (new DateTime('@' . $row-&gt;created), new DateTimeZone(config('app.timezone')));\nLog::info($row-&gt;created-&gt;getTimezone()-&gt;getName());  // +00:00  !!!!!\n</code></pre>\n<p>The DateTime constructor completelly ignores second argument.\nNext code works fine:</p>\n<pre><code>Log::info((new DateTimeZone(config('app.timezone')))-&gt;getName());  // Europe/Bratislava\n$row-&gt;created = (new DateTime('@' . $row-&gt;created))-&gt;setTimezone(new  DateTimeZone(config('app.timezone')));\nLog::info($row-&gt;created-&gt;getTimezone()-&gt;getName());  // Europe/Bratislava\n</code></pre>\n<p>It seems like a bug in PHP. Am I right? Can somebody confirm my investigation?</p>\n",
        "tags": [
            "php",
            "laravel",
            "datetime",
            "php-8",
            "laravel-12"
        ]
    },
    {
        "index": 73,
        "question_id": 79669101,
        "title": "How to avoid use of long in C++?",
        "body": "<p>I work on a very large C++11 codebase, and we want to prevent future developers from declaring variables as <code>long</code>, since using <code>long</code> causes some issues when compiling on Windows compared to Linux.</p>\n<p>Our project uses several external libraries that include declarations with <code>long</code>, but these should not be used directly in our code. Is there any way (without modifying the <code>.h</code> and <code>.cpp</code> files of our project) to prevent developers from declaring variables as <code>long</code> in the future?</p>\n<p>I have tried (and failed) to use <code>-include forbid_long.h</code>, where <code>forbid_long.h</code> contains a macro like <code>#define long static_assert(...)</code>, but this breaks the build due to conflicts with standard headers.</p>\n<p>Is there any way to cause a compile-time error if someone declares a <code>long</code>?</p>\n",
        "tags": [
            "c++",
            "c++11",
            "long-integer"
        ]
    },
    {
        "index": 74,
        "question_id": 79669200,
        "title": "How can I graphically view HL7 FHIR data?",
        "body": "<p>I noticed that fhir data is a graph node-edge data format. I would like to view the data graphically. How can this be done?</p>\n",
        "tags": [
            "graph",
            "hl7-fhir"
        ]
    },
    {
        "index": 75,
        "question_id": 79669227,
        "title": "listview and dismissable not animating a listtiles background correctly when removing an item",
        "body": "<p>im having an issue with the Listview Builder in Flutter.\nIm using dismissible to remove items from that listview. When removing an item, the other items don't animate correctly. The text &quot;goes up&quot; first, then the background follows when the text &quot;arrived&quot;, they are not grouped together. Im using tileColor to give the tiles the background color.</p>\n<pre><code>Expanded(\n  child: ListView.builder(\n    itemCount: todos.length,\n    itemBuilder: (context, index) {\n      return Dismissible(\n        key: Key(todos[index]),\n        onDismissed: (direction) {\n          setState(() {\n            todos.removeAt(index);\n            checkboxState.removeAt(index);\n          });\n        },\n        child: ListTile(\n          tileColor: primaryColor,\n          title: Text(\n            todos[index],\n          ),\n        ),\n      );\n    },\n  ),\n),\n</code></pre>\n<p><a href=\"https://i.sstatic.net/pzSpmWuf.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/pzSpmWuf.gif\" alt=\"current behaviour\" /></a></p>\n",
        "tags": [
            "flutter",
            "listview",
            "flutter-listview",
            "flutter-list-tile"
        ]
    },
    {
        "index": 76,
        "question_id": 79669311,
        "title": "Add label on right y axis of two combined facet plots in R",
        "body": "<p>I have combined two facet plots unsing <code>ggplot2</code> and <code>patchwork</code>. Because my original data is rather complex, I can not handel it with just one <code>facet_grid</code>.\nSo I combine the two plots after creating them seperately. However, I dont know how I can add a secon y-axis lab on the right of the combined plot.</p>\n<p>Any ideas on how to do this?\nI have tried using e.g. <code>scale_y_continuous(sec.axis = dup_axis(name = &quot;second axis&quot;))</code> but nothing worked.</p>\n<p>Here I created some example data and plots:</p>\n<pre><code>\nlibrary(ggplot2)\nlibrary(patchwork)\n\n# Create a sample dataset\ndata_sample &lt;- data.frame(\n  group = rep(c(&quot;A&quot;, &quot;B&quot;), each = 20),\n  n_classes = rep(c(&quot;xyz&quot;, &quot;zyx&quot;), each = 10),\n  indicator = rep(c(&quot;Indicator 1&quot;, &quot;Indicator 2&quot;), each = 20),\n  ICC = runif(40, 0, 1), # Random values for x-axis\n  extrapolation_rate = runif(40, 0, 1) # Random values for y-axis\n)\n\nbasic_facet_plot1 &lt;- ggplot(data_sample, aes(x = ICC, y = extrapolation_rate, color = group)) +\n  geom_point() + # Adding points\n  facet_grid(indicator ~ n_classes) + # Facetting on n_classes on the x-axis\n  theme_minimal() + # Using a minimal theme\n  labs(\n    title = &quot;Sample Facet Plot&quot;,\n    y = &quot;Something&quot;,\n    color = &quot;Group&quot;\n  ) +\n  theme(\n    axis.title.x = element_blank() # Remove x-axis title\n    \n  )\n\ndata_sample &lt;- data.frame(\n  group = rep(c(&quot;A&quot;, &quot;B&quot;), each = 20),\n  n_classes = rep(c(&quot;abc&quot;, &quot;cba&quot;), each = 10),\n  indicator = rep(c(&quot;Indicator 3&quot;, &quot;Indicator 4&quot;), each = 20),\n  ICC = runif(40, 0, 1), # Random values for x-axis\n  extrapolation_rate = runif(40, 0, 1) # Random values for y-axis\n)\n\n\n# double the plot\nbasic_facet_plot2 &lt;- ggplot(data_sample, aes(x = ICC, y = extrapolation_rate, color = group)) +\n  geom_point() + # Adding points\n  facet_grid(indicator ~ n_classes) + # Facetting on n_classes on the x-axis\n  theme_minimal() + # Using a minimal theme\n  labs(\n    y = &quot;Something else&quot;,\n    color = &quot;Group&quot;,\n    x = &quot;ICC&quot;,\n  ) \n\n# Print the plot\nbasic_facet_plot2\n\n\n# Adjust plot margins (you may need to tweak the margin sizes for your specific plots)\nbasic_facet_plot1 &lt;- basic_facet_plot1 + theme(plot.margin = margin(t = 1, r = 1, b = -2, l = 1, unit = &quot;cm&quot;))\nbasic_facet_plot2 &lt;- basic_facet_plot2 + theme(plot.margin = margin(t = 0, r = 1, b = 0, l = 1, unit = &quot;cm&quot;))\n\n# Combine plots vertically with reduced space\ncombined_plot &lt;- (basic_facet_plot1  / basic_facet_plot2) \n# comes from patchwork\n\nprint(combined_plot)\n\n# Add legend below the plots\nfinal_plot &lt;- combined_plot + plot_layout(guides = 'collect') &amp; theme(legend.position = 'bottom') \n\n\n# Print the final plot with legend below\nprint(final_plot)\n\n\n</code></pre>\n<p><a href=\"https://i.sstatic.net/65kZYJQB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/65kZYJQB.jpg\" alt=\"red where I want to add a text\" /></a></p>\n",
        "tags": [
            "r",
            "ggplot2",
            "facet-grid"
        ]
    },
    {
        "index": 77,
        "question_id": 79669323,
        "title": ".NET 8 not communicating with grpc client",
        "body": "<blockquote>\n<p>Grpc.Core.RpcException: Status(StatusCode=&quot;Internal&quot;, Detail=&quot;Error starting gRPC call. HttpRequestException: The SSL connection could not be established, see inner exception. AuthenticationException: Authentication failed, see inner exception. Win32Exception: The function requested is not supported&quot;, DebugException=&quot;System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.&quot;)<br />\nSystem.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.<br />\nSystem.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.<br />\nSystem.ComponentModel.Win32Exception (0x80090302): The function requested is not supported</p>\n</blockquote>\n<p>I am using .NET 8 on Windows 10.</p>\n<p>If I call same GRPC service from postman from same machine it works.</p>\n",
        "tags": [
            "c#",
            "grpc",
            "tls1.2",
            "tls1.3",
            "asp.net-core-8"
        ]
    },
    {
        "index": 78,
        "question_id": 79669328,
        "title": "When to use getReader() versus [Symbol.asyncIterator]()",
        "body": "<p>With the current WebAPI's there seems to be two very similar ways to consume a ReadableStream and I'm curious what are the pros/cons of each and in which use cases I'd use one over the other. I've tried searching and AI prompting to no avail.</p>\n<p>Say I have a ReadableStream like this:</p>\n<pre><code>class MyStream extends ReadableStream {\n    #count = 0;\n    constructor() {\n        super({\n            pull: (controller) =&gt; controller.enqueue(this.#count++),\n        });\n    }\n}\n</code></pre>\n<p>There are two ways to consume this stream that we commonly see online:</p>\n<h2>getReader().read()</h2>\n<pre><code>const reader = new MyStream().getReader();\nlet done = false;\nlet value = 0;\n\ntry {\n    while (!done &amp;&amp; value &lt; 5) {\n        ({ done, value } = await reader.read());\n        console.log(value);\n    }\n} finally {\n    reader.releaseLock();\n}\n</code></pre>\n<p>Or for individual chunks:</p>\n<pre><code>const reader = new MyReader().getReader();\ntry {\n    const { value: firstCount } = await reader.read();\n} finally {\n    reader.releaseLock();\n}\n</code></pre>\n<h2>for await...of</h2>\n<pre><code>for await (const count of new MyStream()) {\n    console.log(count);\n    if (count &gt;= 5) break;\n}\n</code></pre>\n<p>Or for individual chunks:</p>\n<pre><code>const iter = new MyReader()[Symbol.asyncIterator]();\ntry {\n    const { value: firstCount } = await iter.next();\n} finally {\n    iter.return();\n}\n</code></pre>\n<p>Based on these two I'm curious why we have both and when would we use one over the other?</p>\n",
        "tags": [
            "javascript"
        ]
    },
    {
        "index": 79,
        "question_id": 79669389,
        "title": "Pandas Subtract One Dataframe From Another (if match)",
        "body": "<p>I have a pandas dataframe that has information about total attendance for schools grouped by School, District, Program, Grade, and Month #. The data looks like the following (<code>df</code>):</p>\n<pre><code>School    District    Program    Grade    Month     Count\n   123         456          A     9-12       10       100\n   123         456          B     9-12       10        95\n   321         654          A     9-12       10        23\n   321         456          A      7-8       10        40\n</code></pre>\n<p>Some of the counts are inflated and need to be reduced based on the data from another dataframe (<code>ToSubtract</code>):</p>\n<pre><code>School    District    Program    Grade    Month     Count\n   123         456          A     9-12       10        10\n   321         654          A     9-12       10         8\n</code></pre>\n<p>Both dataframes are already grouped so there will be no duplicate grouping. Subtracting <code>ToSubtract</code> from <code>df</code> will result in:</p>\n<pre><code>School    District    Program    Grade    Month     Count  X\n   123         456          A     9-12       10        90  *\n   123         456          B     9-12       10        95\n   321         654          A     9-12       10        15  *\n   321         456          A      7-8       10        40\n</code></pre>\n<p>(<code>X</code> column to be marked with <code>*</code> to indicate value was modified).</p>\n<p><code>df</code> has a lot more entries for all of the other schools, districts, months, etc. I was looking into <code>df.sub()</code> but it looks like the elements have to be lined up. My other idea was to use <code>df.iterrows()</code> to go through each row of <code>df</code> and check if there is a corresponding row in <code>ToSubtract</code> but this seems very inefficient.</p>\n<p>What would be the best way to subtract one dataframe from another, matching several columns</p>\n",
        "tags": [
            "python",
            "pandas"
        ]
    },
    {
        "index": 80,
        "question_id": 79669435,
        "title": "How to manage BelongsToMany relationship in Laravel with API Platform?",
        "body": "<p>I'm working with API Platform for Laravel and encountering difficulties managing BelongsToMany relationships. While BelongsTo and HasMany relationships work seamlessly by sending IRIs in the request body, BelongsToMany doesn't seem to follow the same pattern.</p>\n<p>I'm trying to add users (participants) to a trip when creating (POST) or updating (PATCH) a trip.</p>\n<p>Here's the Trip Model:</p>\n<pre class=\"lang-php prettyprint-override\"><code>#[ApiResource(\n    operations: [\n        new Get(),\n        new GetCollection(),\n        new Post(\n            rules: StoreTripRequest::class\n        ),\n        new Patch(\n            rules: UpdateTripRequest::class\n        ),\n        new Delete()\n    ]\n)]\nclass Trip extends Model\n{\n\n    use HasFactory, HasUuids;\n\n    /**\n     * The attributes that are mass assignable.\n     *\n     * @var list&lt;string&gt;\n     */\n    protected $fillable = [\n        'label',\n        'description',\n        'distance',\n        'duration',\n        'is_public',\n        'geojson',\n    ];\n\n    protected $casts = [\n        'is_public' =&gt; 'boolean',\n    ];\n\n    public function author(): BelongsTo\n    {\n        return $this-&gt;belongsTo(User::class);\n    }\n\n    public function stops(): HasMany\n    {\n        return $this-&gt;hasMany(Stop::class);\n    }\n\n    public function participants(): BelongsToMany\n    {\n        return $this-&gt;belongsToMany(User::class, 'user_trip', 'trip_id', 'user_id');\n    }\n\n    public function luggages(): HasMany\n    {\n        return $this-&gt;hasMany(Luggage::class);\n    }\n</code></pre>\n<p>For BelongsTo (author) and HasMany (stops) relationships, sending IRIs in the request body works as expected during a POST or PATCH operation:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;label&quot;: &quot;My Trip&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;distance&quot;: null,\n    &quot;duration&quot;: null,\n    &quot;is_public&quot;: true,\n    &quot;geojson&quot;: null,\n    &quot;author&quot;: &quot;/api/users/01977e42-9412-713c-861c-93cfbdd9c077&quot;,\n    &quot;stops&quot;: [\n        &quot;/api/stops/01977e42-98cd-73fb-9fae-e76b52fed90f&quot;,\n        &quot;/api/stops/01977e42-98c1-73c7-b35e-d3790fba6ba0&quot;\n    ],\n}\n</code></pre>\n<p>However, when I try to do something similar for the participants (BelongsToMany) relation by including a list of user IRIs:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;participants&quot;: [\n        &quot;/api/users/01977e42-9412-713c-861c-93cfbdd9c077&quot;\n    ]\n</code></pre>\n<p>I receive the following error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;type&quot;: &quot;/errors/500&quot;,\n    &quot;title&quot;: &quot;An error occurred&quot;,\n    &quot;status&quot;: 500,\n    &quot;detail&quot;: &quot;SQLSTATE[42S22]: Column not found: 1054 Unknown column 'participants' in 'field list' (Connection: mysql, SQL: update `trips` set `participants` = [{\\&quot;id\\&quot;:\\&quot;01977e42-9412-713c-861c-93cfbdd9c077\\&quot;,\\&quot;pseudo\\&quot;:\\&quot;lexa\\&quot;,\\&quot;email\\&quot;:\\&quot;axel-reviron@proton.me\\&quot;,\\&quot;email_verified_at\\&quot;:\\&quot;2025-06-17T14:19:41.000000Z\\&quot;,\\&quot;created_at\\&quot;:\\&quot;2025-06-17T14:19:41.000000Z\\&quot;,\\&quot;updated_at\\&quot;:\\&quot;2025-06-17T14:19:41.000000Z\\&quot;}], `trips`.`updated_at` = 2025-06-17 15:54:00 where `id` = 01977e42-9560-700a-8ccd-32ad2957f207)&quot;\n</code></pre>\n<p>It's not correctly interacting with the BelongsToMany relation to manage entries in the user_trip pivot table.\nThank you in advance for your help!</p>\n<p><em>Update:\nBased on my understanding of the documentation, subresources in API Platform are designed for GET operations so that is not what I need here.\nI attempted to use a DTO with a StateProcessor to send new participants and their permissions (view/edit) for a Trip. However, I encountered a 403 error because the ResourceAccessChecker evaluates the Gate with the DTO instance instead of the actual Trip model, causing the authorization to fail.\nThis behavior made me realize what @soyuka explained <a href=\"https://github.com/api-platform/core/issues/7181#issuecomment-2916427012\" rel=\"nofollow noreferrer\">here</a>.\nI also looked into the default 'PersistProcessor' for Laravel and found that BelongsToMany relationships are not handled.<br />\nAt this point, it feels like I’m fighting against the framework’s design. I’m considering creating a dedicated controller with a custom route to handle this.\nAm I missing something, or is this the correct approach in API Platform with Laravel?</em></p>\n",
        "tags": [
            "laravel",
            "eloquent",
            "api-platform.com"
        ]
    },
    {
        "index": 81,
        "question_id": 79669438,
        "title": "Divide a dataset by percentage count using sum",
        "body": "<p>I have a table:</p>\n<pre><code>create table orders (\n  order_id integer,\n  order_sum numeric\n);\n</code></pre>\n<p>My task is:</p>\n<ol>\n<li><p>Divide all its rows into two parts: first part contains 20% of rows and second part contains 80% of rows.</p>\n</li>\n<li><p>But at the same time, the first part must contain about 20% of the total <code>order_sum</code> (not exactly 20 but as close to it as possible).</p>\n</li>\n</ol>\n<p>Without p.2, the task solves easily, something like that:</p>\n<pre><code>SELECT\n  t.order_id,\n  t.order_sum,\n  case when t.percentage &lt;= 20 then '1' else '2' end as part\nFROM\n  (\n    SELECT\n      t.order_id,\n      t.order_sum,\n      100 * cume_dist() over (order by random()) as percentage\n    FROM orders t\n  ) t;\n</code></pre>\n<p>But how can I improve/rewrite this to consider the p.2?</p>\n<p>Of course, the speed is important.</p>\n",
        "tags": [
            "postgresql"
        ]
    },
    {
        "index": 82,
        "question_id": 79669528,
        "title": "cmd batch execution adds a space after echo",
        "body": "<p>When I run a script, for example one that says</p>\n<pre><code>echo a&gt;&gt;1.txt\n</code></pre>\n<p>the command line interpreter adds a space; so in the command line, executing the above says</p>\n<pre><code>echo a  1&gt;&gt; 1.txt\n</code></pre>\n<p>And of course, the end of the line gets a space, which I do not need.</p>\n<p>So then I thought, I will put the echo in parentheses.  So my batch file became:</p>\n<pre><code>(echo a)&gt;&gt;1.txt\n</code></pre>\n<p>However, the command prompt did not give up with the space.  It now says:</p>\n<pre><code>(echo a ) 1&gt;&gt; 1.txt\n</code></pre>\n<p>How to get rid of the space?  I even tried modifying my file to say</p>\n<pre><code>&gt;&gt;1.txt (echo a)\n</code></pre>\n<p>However, the command prompt still re-formats it, and displays the same command as above on the command prompt, and I cannot get rid of the space.</p>\n",
        "tags": [
            "batch-file",
            "cmd",
            "windows-10"
        ]
    },
    {
        "index": 83,
        "question_id": 79669603,
        "title": "TextInput losing focus when keyboard opens in React Native",
        "body": "<p>I'm working with React Native, and I have a part of my app that contains some input fields inside a scrollable screen. When I tapped on a field, it would gain focus, but after scrolling, the field would trigger onBlur and lose focus — although the keyboard remained open with nothing to type and the keyboardType reverted to &quot;default&quot;.</p>\n<p>I managed to partially fix this by dismissing the keyboard when scrolling the screen. However, I still have a related issue:</p>\n<p>Sometimes, when the input field is too far down the screen, I tap on it, it scrolls up into view, but still immediately triggers onBlur and loses focus. I suspect this might be because, at the moment the keyboard is opening, the input gets briefly overlapped by the keyboard and loses visibility — and by the time it's back on screen, it has already lost focus.</p>\n<p>The keyboard stays open even though there’s no input with focus anymore.</p>\n<p>Here's a video showing the issue:</p>\n<p><a href=\"https://i.sstatic.net/gPZWwqIz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/gPZWwqIz.gif\" alt=\"enter image description here\" /></a></p>\n<p>What I want is a way to solve this issue — I don’t want the input to lose focus while the keyboard is opening.</p>\n<p>Here is my TextInput code:</p>\n<pre class=\"lang-none prettyprint-override\"><code> (\n   {\n     disabled = false,\n     error = false,\n     errorMessage,\n     icon,\n     iconPressed,\n     inputId,\n     isTextArea = false,\n     label,\n     maskType = &quot;custom&quot;,\n     onchangeText,\n     onPressIcon,\n     placeholder,\n     required = false,\n     styleInput,\n     styleView,\n     type = &quot;string&quot;,\n     variant = &quot;default&quot;,\n     width = &quot;100%&quot;,\n     infoToShow = &quot;&quot;,\n     ...props\n   }: InputProps,\n   ref: Ref&lt;TextInput | TextInputMask&gt;, //Passar Ref&lt;TextInput&gt; caso o campo não necessite de máscara. Caso precise, passar Ref&lt;TextInputMask&gt;\n ) =&gt; {\n   const [focused, setFocused] = useState(false);\n\n   const isDefaultSize = !isTextArea;\n   const showIconPressed = false &amp;&amp; iconPressed !== undefined;\n   let options: TextInputMaskOptionProp;\n\n   switch (maskType) {\n     case &quot;credit-card&quot;:\n       options = {\n         obfuscated: false,\n         issuer: &quot;visa-or-mastercard&quot;,\n       };\n       break;\n     case &quot;money&quot;:\n       options = {\n         unit: &quot;R$&quot;,\n       };\n       break;\n     case &quot;cel-phone&quot;:\n       options = {\n         maskType: &quot;BRL&quot;,\n         withDDD: true,\n         dddMask: &quot;(99) &quot;,\n       };\n       break;\n     case &quot;datetime&quot;:\n       options = { format: &quot;DD/MM/YYYY&quot; };\n   }\n\n   const borderStyle = [\n     variant === &quot;default&quot;\n       ? {\n         borderWidth: 1,\n         borderRadius: 8,\n       }\n       : {\n         borderBottomWidth: 1,\n       },\n     {\n       borderColor: error\n         ? Colors.v4RedError\n         : disabled\n           ? Colors.v7GrayDisabled\n           : focused &amp;&amp; variant === &quot;bottom-line&quot;\n             ? Colors.primary\n             : Colors.v3GraySubtitle,\n     },\n   ] as StyleProp&lt;ViewStyle&gt;;\n\n   useEffect(() =&gt; {\n     if (!focused) {\n       hideKeyboard();\n     }\n   }, [focused])\n\n\n   function textInputByMask() {\n     if (maskType === &quot;custom&quot;) {\n       return (\n         &lt;TextInput\n           {...props}\n           ref={ref as Ref&lt;TextInput&gt;}\n           placeholder={placeholder}\n           cursorColor={Colors.primary}\n           numberOfLines={isDefaultSize ? 1 : 7}\n           multiline={!isDefaultSize}\n           textAlignVertical={isDefaultSize ? &quot;center&quot; : &quot;top&quot;}\n           placeholderTextColor={Colors.v2GrayLargeText}\n           editable={!disabled}\n           onFocus={val =&gt; {\n             setFocused(true);\n           }}\n           onBlur={() =&gt; {\n             setFocused(false);\n           }}\n           style={[\n             globalStyles.textBody2,\n             styleInput,\n             { color: Colors.v2GrayLargeText, flex: 1, textAlign: &quot;left&quot; },\n           ]}\n         /&gt;\n       );\n     }\n\n     return (\n       &lt;TextInputMask\n         ref={ref as Ref&lt;TextInputMask&gt;}\n         {...props}\n         keyboardType=&quot;number-pad&quot;\n         placeholder={placeholder}\n         options={options}\n         cursorColor={Colors.primary}\n         numberOfLines={isDefaultSize ? 1 : 7}\n         multiline={!isDefaultSize}\n         textAlignVertical={isDefaultSize ? &quot;center&quot; : &quot;top&quot;}\n         placeholderTextColor={Colors.v2GrayLargeText}\n         editable={!disabled}\n         type={maskType}\n         onFocus={val =&gt; {\n           setFocused(true);\n         }}\n         onBlur={() =&gt; {\n           setFocused(false)\n         }}\n\n         style={[\n           globalStyles.textBody2,\n           styleInput,\n           { color: Colors.v2GrayLargeText, flex: 1, textAlign: &quot;left&quot; },\n         ]}\n       /&gt;\n     );\n   }\n\n   return (\n     &lt;View style={{ gap: 5 }}&gt;\n       &lt;LabelRequired\n         label={label}\n         color={error ? &quot;v4RedError&quot; : &quot;v1GrayTitle&quot;}\n         required={required}\n         infoToShow={infoToShow}\n       /&gt;\n       &lt;View\n         style={[\n           allStyles.searchBarContainer,\n           styleView,\n           borderStyle,\n           {\n             width,\n             backgroundColor: disabled\n               ? Colors.v5GrayDivider\n               : Colors.transparent,\n           },\n         ]}&gt;\n         {textInputByMask()}\n         {icon &amp;&amp; (\n           &lt;TouchableOpacity\n             activeOpacity={onPressIcon ? undefined : 1}\n             onPress={() =&gt; {\n               if (onPressIcon) {\n                 onPressIcon();\n               }\n             }}&gt;\n             &lt;IconStyled\n               icon={showIconPressed ? iconPressed.icon : icon.icon}\n               color={error ? &quot;v4RedError&quot; : icon.color}\n               size={icon.size}\n             /&gt;\n           &lt;/TouchableOpacity&gt;\n         )}\n       &lt;/View&gt;\n       {errorMessage &amp;&amp; (\n         &lt;Subtitle\n           variant=&quot;subtitle3&quot;\n           color={error ? &quot;v4RedError&quot; : &quot;v3GraySubtitle&quot;}\n           fontWeight=&quot;NotoSans Regular&quot;\n           leftText&gt;\n           {errorMessage}\n         &lt;/Subtitle&gt;\n       )}\n     &lt;/View&gt;\n   );\n },\n);\n</code></pre>\n<p>And here is the code for the component that renders the list of inputs:</p>\n<pre><code>export default function EtapaExecucao({ etapa }: EtapaExecucaoProps) {\n\n   const itensOrdenados = [...etapa.etapaItens].sort((a, b) =&gt; a.ordem - b.ordem);\n   const firstExpandedControll = itensOrdenados.map((item, index) =&gt; false);\n   const [opened, setOpened] = useState(firstExpandedControll);\n\n   return (\n       &lt;View style={{ flex: 1, paddingVertical: 16 }}&gt;\n           &lt;FlatList\n               data={itensOrdenados}\n               keyExtractor={(_, index) =&gt; index.toString()}\n               showsVerticalScrollIndicator={false}\n               keyboardShouldPersistTaps={true}\n               keyboardDismissMode='on-drag'\n               automaticallyAdjustContentInsets={false}\n               horizontal={false}\n               ItemSeparatorComponent={() =&gt; (\n                   &lt;View style={{ paddingVertical: 16 }}&gt;\n                       &lt;Divider /&gt;\n                   &lt;/View&gt;\n               )}\n               renderItem={({ item, index }) =&gt; (\n                   &lt;EtapaItemExecucao\n                       key={`${etapa.id}-${index}`} // key força a recriação do accordion\n                       etapaItem={item}\n                       etapaId={etapa.id!}\n                       accordion={itensOrdenados.length &gt; 1}\n                       opened={opened[index]}\n                       onExpand={(expanded) =&gt; {\n                           setOpened(prev =&gt; prev.map((item, i) =&gt; i === index ? expanded : false));\n                       }}\n                   /&gt;\n               )}\n           /&gt;\n       &lt;/View&gt;\n   );\n}\n</code></pre>\n<p>It might seem like the two are unrelated, but the TextInput is a deep child of EtapaExecucao. I’m not including the rest of the code because it’s too long, but between them there’s no additional list or scrollable component. The hierarchy is:\nEtapaExecucao &gt; EtapaItemExecucao &gt; ItemChecklist &gt; CheckListCampo &gt; Input &gt; TextInput</p>\n<p>Also, I’ve discovered something important: in the top-level parent component, I have two fixed buttons at the bottom of the screen. When I temporarily remove these buttons, the input field no longer loses focus — meaning it doesn’t trigger onBlur anymore.</p>\n<p>So it seems the issue happens because the input field gets briefly covered by these fixed bottom buttons while the keyboard is opening, causing it to lose visibility and focus.</p>\n<p>However, I need to keep these buttons in the UI. Is there a way to elevate or adjust the input field so it’s never covered (even briefly) by the fixed buttons while the keyboard is opening? Here's the relevant code from the parent component showing the fixed buttons at the bottom:</p>\n<pre><code>const routes = etapas.map((_, index) =&gt; ({\n    key: ${index},\n  }));\n\n  const renderScene = ({ route }: any) =&gt; {\n    const index = parseInt(route.key);\n    const etapa = etapasCompletasOrdenadas[index];\n\n    if (etapa?.id === -1) {\n      return &lt;Revisao onNavigateToStep={(numEtapa) =&gt; setEtapaAtual(numEtapa)} /&gt;;\n    }\n\n    return &lt;EtapaExecucao etapa={etapa} /&gt;;\n  };\n\n\n  const isUltimaEtapa = etapaAtual === etapas.length - 1;\n\n  return (\n    &lt;View style={allStyles.fullscreen}&gt;\n      &lt;View style={allStyles.defaultScreen}&gt;\n        &lt;HeaderEtapasExecucao\n          currentStep={etapaAtual}\n          navigateToStep={setEtapaAtual}\n          descricao={etapasCompletasOrdenadas[etapaAtual]?.descricao}\n          stepsList={etapas.map((etapa, index) =&gt; ({\n            id: index,\n            descricao: Etapa ${index + 1}: ${etapa.descricao}\n          }))}\n        /&gt;\n        &lt;TabView\n          navigationState={{ index: etapaAtual, routes }}\n          renderScene={renderScene}\n          onIndexChange={() =&gt; { }}\n          renderTabBar={() =&gt; null}\n          swipeEnabled={false}\n        /&gt;\n        &lt;BottomEtapas\n          etapaId={etapasCompletasOrdenadas[etapaAtual]?.id}\n          currentStepFixed={etapaAtual + 1}\n          stepDescription={etapasCompletasOrdenadas[etapaAtual + 1]?.descricao}\n          onPressButtonNext={() =&gt; {\n            if (!isUltimaEtapa) {\n              setBotaoPressionadoEtapa();\n              setEtapaAtual(prev =&gt; Math.min(prev + 1, etapas.length - 1));\n            }\n          }}\n          revisao={isUltimaEtapa}\n          onPressCancelButton={() =&gt; resetBaixa()}\n          onPressButtonSubmit={() =&gt; finishOs()}\n        /&gt;\n      &lt;/View&gt;\n    &lt;/View&gt;\n  );\n</code></pre>\n",
        "tags": [
            "typescript",
            "react-native",
            "scrollview",
            "react-native-flatlist"
        ]
    },
    {
        "index": 84,
        "question_id": 79669655,
        "title": "How to fix LinearProgressBar",
        "body": "<p>I need to implement a simple progress bar into my app. It should just indicate a value between 0 and 100, but I have some visual part I don`t like.</p>\n<pre><code>LinearProgressIndicator(\n  modifier = Modifier.height(15.dp),\n  progress = { 0.5f },\n  gapSize = 0.dp\n)\n</code></pre>\n<p><a href=\"https://i.sstatic.net/Z40O3kAm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Z40O3kAm.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't like that dot at the end and the slight gap between the current progress and the entire bar.</p>\n",
        "tags": [
            "android",
            "kotlin",
            "android-jetpack-compose",
            "android-progressbar"
        ]
    },
    {
        "index": 85,
        "question_id": 79669676,
        "title": "Extract the coordinates of a rendered dot plot",
        "body": "<p>Say I have a variable and create a dot plot of the distribution:</p>\n<pre class=\"lang-r prettyprint-override\"><code>library(ggplot2)\nlibrary(ggdist)\n\ndata.frame(x = rchisq(500, df = 10)) |&gt; \n  ggplot(aes(x = x)) +\n  geom_dots(layout = &quot;hex&quot;)\n</code></pre>\n<p><img src=\"https://i.imgur.com/I3meMZ0.png\" alt=\"Plot rendered by included code showing dots in the shape of a chi-square distribution\" /></p>\n<p>The points are automatically arranged along the x- and y-axes.\nIs is possible to extract the x and y coordinates for each point, after they have been arranged?</p>\n<p>I have tried using <code>ggplot_build()</code>, but when I extract the data, the value of <code>y</code> is always 0.</p>\n<pre class=\"lang-r prettyprint-override\"><code>my_plot &lt;- data.frame(x = rchisq(500, df = 10)) |&gt; \n  ggplot(aes(x = x)) +\n  geom_dots(layout = &quot;hex&quot;)\n\nhead(ggplot_build(my_plot)$data[[1]])\n#&gt;           x PANEL group flipped_aes y datatype height ymin ymax thickness\n#&gt; 1  8.712773     1    -1        TRUE 0     slab      1    0    1         1\n#&gt; 2  4.223199     1    -1        TRUE 0     slab      1    0    1         1\n#&gt; 3  7.535543     1    -1        TRUE 0     slab      1    0    1         1\n#&gt; 4  9.253599     1    -1        TRUE 0     slab      1    0    1         1\n#&gt; 5 20.435195     1    -1        TRUE 0     slab      1    0    1         1\n#&gt; 6  9.940869     1    -1        TRUE 0     slab      1    0    1         1\n#&gt;   family     side scale\n#&gt; 1        topright   0.9\n#&gt; 2        topright   0.9\n#&gt; 3        topright   0.9\n#&gt; 4        topright   0.9\n#&gt; 5        topright   0.9\n#&gt; 6        topright   0.9\n</code></pre>\n<p><sup>Created on 2025-06-17 with <a href=\"https://reprex.tidyverse.org\" rel=\"nofollow noreferrer\">reprex v2.1.1</a></sup></p>\n",
        "tags": [
            "r",
            "ggplot2",
            "ggdist"
        ]
    },
    {
        "index": 86,
        "question_id": 79669708,
        "title": "Setting range with gspread",
        "body": "<p>I have been trying to set up a program to replace all instances of a number in column in google Sheets with a string using <code>gspread</code>.\nI believe the first response of the this post covers most of my problems <a href=\"https://stackoverflow.com/questions/66523866/how-to-replace-all-cells-that-starts-with-in-google-sheets-using-python\">How to replace all cells that starts with in google sheets using python</a>\nHowever I cannot find documentation explaing how to assign a gridRange as mentioned <a href=\"https://stackoverflow.com/a/66524001/14681457\">at the end of this answer</a>. My code executes but it does not change anything</p>\n<p>I was hoping to replace every instance of a number with a string in a column.The code executes but it does not update the google sheet</p>\n<blockquote>\n<pre><code>import gspread\nimport pandas as pd\ngc = gspread.service_account(filename=&quot;credentials.json&quot;) \nsh = gc.open('Copy of GCE MCQ')\nworksheet = sh.worksheet('2024')\nbody = {\n     &quot;requests&quot;: [\n         {\n             &quot;findReplace&quot;: {\n                 &quot;find&quot;: &quot;12&quot;,\n                 &quot;searchByRegex&quot;: True,\n                 &quot;range&quot;: {&quot;D:D&quot;,\n                     &quot;sheetId&quot;: worksheet.id,\n                 },\n                 &quot;replacement&quot;: &quot;Immunity&quot;\n             }\n         }\n     ]\n }\n</code></pre>\n</blockquote>\n<p>Writing gridRange like so stops any errors but does not update the sheet</p>\n",
        "tags": [
            "python",
            "google-sheets",
            "gspread"
        ]
    },
    {
        "index": 87,
        "question_id": 79669932,
        "title": "Python how to load SQL Server table with sqlalchemy?",
        "body": "<p>I'm trying to load table using Python in most effective way, and learned that <code>sqlalchemy / engine</code> is the best tool for that.\nBut I really struggle to make this construction work for SQL Server as my target, I did exactly like in <a href=\"https://docs.sqlalchemy.org/en/20/dialects/mssql.html#module-sqlalchemy.dialects.mssql.pyodbc\" rel=\"nofollow noreferrer\">here</a> , played with all types of <code>= &quot;DRIVER={SQL Server Native Client 10.0}</code> but still it doesn't work. For this tasks I don't have any other option like SSRS/linked servers/etc.. I created <code>df</code> with different method for easy testing. Layout of tables is identical, just different server/db.\nBelow is my code:</p>\n<pre><code>import pyodbc as pb\nimport pandas as pd\nimport sqlalchemy\nfrom sqlalchemy.engine import URL\n\nSource_connStr = 'Driver={SQL Server};Server=SQLXTBRR;Database=Base; Trusted_Connection=True;'\nSource_conn = pb.connect(Source_connStr)\n\nTarget_connStr= 'Driver={SQL Server};Server=SQLXTBRR;Database=Custom; Trusted_Connection=True;'\n\nquery = (&quot;SELECT   * FROM  dbo.Cust_Clients&quot;)\ndf = pd.read_sql(query,SQL_conn)         ## &lt;=== used to create df  works OK\nprint(df)\n\nconnection_url = URL.create(\n    &quot;mssql+pyodbc&quot;, query={&quot;odbc_connect&quot;: Target_connStr}    \n)\nengine = sqlalchemy.create_engine(connection_url)\n\ndf.to_sql('Cust_Clients', engine, if_exists='append', index=False) ##line 30 load into table\n\n#pd.read_sql('Cust_Clients',engine)\n</code></pre>\n<p>And here is fragment of error messages, looks like it breaks on line 30. I  tried to write and read with engine, same bad result.\nI assume first  <code>UserWarning: pandas only support SQLALchemy..</code> is not critical.</p>\n<pre><code>C:\\PythonScripts\\LoadDB_V1.py:22: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.\n  df = pd.read_sql(query,SQL_conn)\n       id first_name   last_name  ... deleted  general_id consent_refused\n0  111111  John  Walshes  ...    None      14785444               0\n\n[1 rows x 18 columns]\nmssql+pyodbc://?odbc_connect=Driver%3D%7BSQL+Server%7D%3BServer% SQLXTBRR%3BDatabase% Custom%3B+Trusted_Connection%3DTrue%3B\nTraceback (most recent call last):\n  File &quot;C:\\PythonScripts\\.venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py&quot;, line 1963, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n….\npyodbc.Error: ('HY104', '[HY104] [Microsoft][ODBC SQL Server Driver]Invalid precision value (0) (SQLBindParameter)')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File &quot;C:\\PythonScripts\\ LoadDB _V1.py&quot;, line 30, in &lt;module&gt;\n    df.to_sql(Cust_Clients, engine, if_exists='append', index=False)   ## load into table\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;C:\\PythonScripts\\.venv\\Lib\\site-packages\\pandas\\util\\_decorators.py&quot;, line 333, in wrapper\n    return func(*args, **kwargs)\n</code></pre>\n",
        "tags": [
            "python",
            "sql-server",
            "pyodbc"
        ]
    },
    {
        "index": 88,
        "question_id": 79669993,
        "title": "How do I discern ESC-sequences from other characters in C?",
        "body": "<p>I am writing a shell in C that will be running in a Linux terminal (Ubuntu). The main problem so far is detecting ESC sequences.\nI am aware that all ESC sequences begin with the same byte, 0x1b. My question is how do i detect whether the user has typed a special key that results in a sequence (e.g RIGHT_ARROW) or if they just quickly typed ESC and a couple other characters.\nAn example of the problem:</p>\n<ol>\n<li>read() detects <code>1B</code>. So this is either ESC or an ESC sequence, to determine the answer, read() is called again to retrieve a byte from stdin.</li>\n<li>read() detects <code>5B</code>. So the input so far could either be ESC + [ or this could be an ESC sequence. To determine the answer, I call read() again to retrieve a byte from stdin.</li>\n<li>read() detects <code>43</code>. This forms the sequence <code>0x1B5B43</code>. How do i tell if the user typed RIGHT_ARROW or if they typed ESC + [ + C?</li>\n</ol>\n",
        "tags": [
            "c",
            "shell",
            "terminal"
        ]
    },
    {
        "index": 89,
        "question_id": 79670207,
        "title": "How to dynamically update the language direction (RTL / LTR)?",
        "body": "<h3>Problem</h3>\n<p>I'm using Swiper Element in an Angular component and I want to dynamically update the swiper's direction based on the current language ('ar' for <code>RTL</code>, 'en' for <code>LTR</code>) using a LangService.</p>\n<p>The swiper works fine initially, but when the language is changed at runtime, the Swiper layout breaks (e.g. wrong direction, wrong navigation, broken layout).</p>\n<h3>Code</h3>\n<p><strong>swiper.component.html</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;swiper-container #swiperContainer init=&quot;false&quot; class=&quot;h-100&quot;&gt;\n  @for (product of [].constructor(9); track $index) {\n    &lt;swiper-slide&gt;\n      &lt;app-small-product-card /&gt;\n    &lt;/swiper-slide&gt;\n  }\n&lt;/swiper-container&gt;\n</code></pre>\n<p><strong>swiper.component.ts</strong></p>\n<pre class=\"lang-ts prettyprint-override\"><code>@Component({\n  selector: 'app-mini-product-swiper',\n  ...\n})\nexport class MiniProductSwiperComponent {\n  lang = inject(LangService).currentLang;\n\n  @Input() swiperClass = '';\n  @Input() swiperBreakpoints = { ... };\n\n@ViewChild('swiperContainer') swiperContainer!: ElementRef;\n\n  constructor() {\n    effect(() =&gt; {\n      const lang = this.lang();\n      if (lang === 'ar') {\n        // update swiper direction to rtl\n      } else {\n        // update swiper direction to ltr\n      }\n    });\n  }\n\n  platformId = inject(PLATFORM_ID);\n\n  ngOnInit(): void {\n    // register Swiper Element\n    register();\n  }\n\n  ngAfterViewInit(): void {\n    if (isPlatformBrowser(this.platformId)) {\n      this.assignSwiperParams();\n    }\n  }\n\n  assignSwiperParams() {\n    const swiperElement = this.swiperContainer.nativeElement;\n    const swiperParams: SwiperOptions = {\n      modules: [Navigation, Autoplay],\n      slidesPerView: 1,\n      spaceBetween: 16,\n      speed: 500,\n      loop: false,\n      grabCursor: true,\n      navigation: {\n        nextEl: `.${this.swiperClass}-button-next`,\n        prevEl: `.${this.swiperClass}-button-prev`,\n      },\n      autoplay: {\n        delay: 2500,\n        disableOnInteraction: true,\n      },\n      breakpoints: this.swiperBreakpoints,\n    };\n\n    // now we need to assign all parameters to Swiper element\n    Object.assign(swiperElement!!, swiperParams);\n\n    // and now initialize it\n    swiperElement?.initialize();\n  }\n}\n</code></pre>\n<h3>Question</h3>\n<p>How can I update the Swiper direction (<code>'rtl'</code> or <code>'ltr'</code>) dynamically after the language is changed?</p>\n<ul>\n<li>Do I need to destroy and re-initialize the Swiper?</li>\n<li>Is there a way to re-assign the direction param and re-render without breaking the layout?</li>\n<li>What’s the recommended approach when using  in Angular?</li>\n</ul>\n",
        "tags": [
            "angular",
            "swiper.js"
        ]
    },
    {
        "index": 90,
        "question_id": 79670251,
        "title": "CPU running hot on JFrame resizing",
        "body": "<p>Can you ever make frame resizing at least somewhat reasonable in terms of the CPU usage?</p>\n<p>Here's a bare-bones demo. It's just a <code>JFrame</code> with a <code>JPanel</code> inside it, that's it. Aggressively resize it (press the resize handle and yank the mouse in all directions) and monitor the CPU usage. You may notice strange things.</p>\n<p>On my Windows 10 machine (which is not top-tier but should manage such a trivial task easily), the CPU usage may be easily in the 50s. It's way over the top, in my opinion. I realize it's repainting, but I don't see any excuse for such astronomical figures. If I don't resize, it's in single digits.</p>\n<p>Is there anything at all I can do to improve it at least to some degree?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.WindowConstants;\nimport java.awt.Color;\nimport java.awt.Dimension;\n\npublic class ResizingExample {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(ResizingExample::launch);\n    }\n\n    private static void launch() {\n        JFrame frame = new JFrame(&quot;ScrollPane Example&quot;);\n        frame.setContentPane(createPanel());\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    private static JPanel createPanel() {\n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createLineBorder(Color.RED, 3));\n        panel.setPreferredSize(new Dimension(250, 150));\n        return panel;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/6OJSmyBM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/6OJSmyBM.png\" alt=\"CPU is hot\" /></a></p>\n<p>In case you're wondering, the processor is AMD Ryzen 3 1200 Quad-Core Processor.</p>\n<p>Java 8.</p>\n",
        "tags": [
            "java",
            "swing",
            "cpu-usage"
        ]
    },
    {
        "index": 91,
        "question_id": 79670305,
        "title": "Is reflection thread safe in C#?",
        "body": "<p>Can I access <code>PropertyInfo</code> from the same <code>System.Type</code> from multiple threads?</p>\n<p>Can I call the same <code>PropertyInfo.GetValue</code> on different objects from multiple threads?</p>\n",
        "tags": [
            "c#",
            "multithreading",
            "thread-safety"
        ]
    },
    {
        "index": 92,
        "question_id": 79670459,
        "title": "Can I access elements of standard-layout array with a pointer to base class",
        "body": "<p>Assuming that I have a non-empty base class and a derived class, both standard-layout, and I create an array of <code>Derived</code>, can I iterate over this array with a pointer to <code>Base</code>?</p>\n<pre><code>#include &lt;type_traits&gt;\n\nstruct Base { int x; };\nstruct Derived : Base {};\nstatic_assert(std::is_standard_layout_v&lt;Derived&gt;);\nstatic_assert(sizeof(Base[2]) == sizeof(Derived[2]));\n\nint main() {\n    Derived a[3];\n    Base* b = a;\n    b = b + 2; // is this valid?\n}\n</code></pre>\n<p><code>[expr.add]</code> says &quot;Adding a value other than 0 or 1 to a pointer to a base class subobject, a member subobject, or a complete object results in undefined behavior&quot;.</p>\n<p>Also <code>[expr.add]</code> says &quot;if the expressions P or Q have type “For addition [...], if the expression P has type “pointer to cv T”, where T and the array element type are not similar, the behavior is undefined&quot;.</p>\n<p>And &quot;similar&quot; is defined in <code>[conv.qual]</code>: &quot;Two types T1 and T2 are similar if [...], and the types denoted by U are the same.&quot;</p>\n<p>So apparently it is not valid to iterate with a pointer to a base class,\nbut could there be an exception for standard-layout types?</p>\n<p>Or is standard-layout only for unions?</p>\n",
        "tags": [
            "c++",
            "language-lawyer"
        ]
    },
    {
        "index": 93,
        "question_id": 79670585,
        "title": "Django/PostgreSQL: Unique constraint with a dynamic condition like expires_at &gt; now()",
        "body": "<p>I'm building a secure OTP system in Django. The model looks like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>class OTP(models.Model):\n    MAX_ATTEMPTS = 3\n    DEFAULT_EXPIRE_IN_MINUTES = 1\n\n    class Purposes(models.IntegerChoices):\n        LOGIN = 1, &quot;Login&quot;\n        REGISTER = 2, &quot;Register&quot;\n        VERIFY_PHONE = 3, &quot;Verify Phone&quot;\n        VERIFY_EMAIL = 4, &quot;Verify Email&quot;\n\n    otp_hash = models.CharField(max_length=64)\n    purpose = models.IntegerField(choices=Purposes)\n    phone = PhoneNumberField(null=True, blank=True)\n    email = models.EmailField(null=True, blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    expires_at = models.DateTimeField()\n    failed_attempts = models.PositiveSmallIntegerField(default=0)\n    used = models.BooleanField(default=False)\n    used_at = models.DateTimeField(null=True, blank=True)\n</code></pre>\n<p><strong>What I want to enforce:</strong></p>\n<p>A user should not receive another OTP if there is already an unexpired (based on <code>expires_at</code> field), unused (<code>used=False</code>) OTP for the same purpose.</p>\n<p>The condition should apply either for:</p>\n<ul>\n<li>(phone, purpose) if phone is set, or</li>\n<li>(email, purpose) if email is set.</li>\n</ul>\n<p>And this logic must hold true even under concurrent requests.</p>\n<p><strong>What I've tried so far:</strong></p>\n<ul>\n<li>Application-level check with OTP.objects.filter(...) before creating\na new one — this is not safe under race conditions.</li>\n<li>Adding a is_expired boolean field and a conditional UniqueConstraint\nlike this:</li>\n</ul>\n<pre class=\"lang-py prettyprint-override\"><code>class Meta:\n    constraints = [\n        models.UniqueConstraint(\n            fields=[&quot;phone&quot;, &quot;purpose&quot;],\n            condition=Q(is_expired=False),\n            name=&quot;unique_active_phone_otp&quot;\n        ),\n        models.UniqueConstraint(\n            fields=[&quot;email&quot;, &quot;purpose&quot;],\n            condition=Q(is_expired=False),\n            name=&quot;unique_active_email_otp&quot;\n        ),\n    ]\n</code></pre>\n<p>But this requires updating the is_expired field manually or periodically when expires_at &lt; now(), which adds operational complexity and is easy to forget.</p>\n<p>Is there a cleaner way to enforce this uniqueness at the database level, even with time-based conditions like <code>expires_at &gt; now()</code>?</p>\n",
        "tags": [
            "django",
            "postgresql",
            "django-models",
            "django-orm"
        ]
    },
    {
        "index": 94,
        "question_id": 79670714,
        "title": "How to build C++ std module",
        "body": "<p>I am running Fedora 42, which supports gcc/g++ 15.1, which in turn implements C++23. I figure that I have a compiler that supports C++ modules, but I have to compile the modules to use them. In particular, I am trying to get &quot;import std;&quot; to compile. I am trying to compile a trivial example as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>g++ -fmodules -std=c++23 Ex2_03.cc -o Ex2_03\n</code></pre>\n<p>g++ replies</p>\n<pre class=\"lang-none prettyprint-override\"><code>std: error: failed to read compiled module: No such file or directory\n</code></pre>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>std: note: imports must be built before being imported\n</code></pre>\n<p>What kind of file(s) do I have to build? What are the precursors? How do I do the build?</p>\n",
        "tags": [
            "c++",
            "gcc",
            "c++20"
        ]
    },
    {
        "index": 95,
        "question_id": 79670789,
        "title": "Getting &quot;Unknown attribute &#39;MainActor&#39;&quot; when using MainActor with Task",
        "body": "<pre><code>Task { @MainActor // ERROR: Unknown attribute 'MainActor'\n    handleSuccess(of: response)\n}\n</code></pre>\n<p>I thought you can use actors on Tasks. Not sure what I'm doing wrong.</p>\n",
        "tags": [
            "swift",
            "task",
            "actor",
            "swift-task"
        ]
    },
    {
        "index": 96,
        "question_id": 79670841,
        "title": ".NET Core Microservices in Docker, Why are my appsettings.json files mixing up?",
        "body": "<p>I'm running into an issue with my .NET Core microservices setup in Docker. I have a single solution with multiple microservices, and each one has its own <code>appsettings.json</code>. But when I build and run them with Docker, the configs seem to clash, one service ends up picking up another’s settings.</p>\n<p>I want each microservice to only use its own <code>appsettings.json</code> during both the Docker build and runtime.</p>\n<p>What I’ve Tried:</p>\n<p>Each project has its own <code>appsettings.json</code>, and in each service’s Dockerfile, I use</p>\n<pre><code>COPY appsettings.json /app/appsettings.json\n</code></pre>\n<p>But somewhere along the way, the settings seem to get mixed up.</p>\n",
        "tags": [
            "c#",
            "docker",
            ".net-core"
        ]
    },
    {
        "index": 97,
        "question_id": 79670843,
        "title": "Unexpected Behavior in Spyder Debugger When Inspecting Variable Values Inside a while Loop",
        "body": "<p>I'm debugging a <code>while</code> loop using <code>pdb</code> in Spyder and noticed a behavior that seems unexpected. Here's a simplified version of the code:</p>\n<pre><code>import pdb\n\nidx = 0\npdb.set_trace()\nwhile idx &lt; 1:\n    print(str(idx))\n    idx = idx+1\n    print(str(idx))\n       \n    pdb.set_trace()\n</code></pre>\n<ul>\n<li>The first time the debugger stops at the first <code>pdb.set_trace()</code>, <code>idx</code> is displayed as <code>0</code> both in the Variable Explorer and in the Console - as expected.</li>\n<li>After continuing and hitting the second <code>pdb.set_trace()</code> inside the loop, <code>idx</code> appears to be still displayed as <code>0</code>, even though it should have been incremented already.</li>\n<li>Trying to evaluate <code>idx &lt; 1</code> in the Console prints <code>True</code>, which is inconsistent with the expected state.</li>\n<li>Despite this, Spyder executes the loop correctly and exits the <code>while</code> loop after one iteration.</li>\n</ul>\n<p>I tried to investigate this further, testing this other variation:</p>\n<pre><code>while idx &lt; 2:\n    print(str(idx))\n    idx += 1\n    print(str(idx))\n    \n    pdb.set_trace()\n</code></pre>\n<p>In this version, the value of <code>idx</code> is correctly updated in the Variable Explorer (and Console) <em>only after</em> the <code>while</code> condition is evaluated, and <code>idx</code> is finally displayed to be equal to <code>1</code> after pressing <code>Ctrl+F10</code> (Debug current line). This makes it look like the Variable Explorer and Console are a step behind during debugging — even when the variable has technically already been updated.</p>\n<p><strong>My questions:</strong></p>\n<ul>\n<li>Is this behavior normal or expected in Spyder's debugger, or is this a known issue?</li>\n<li>Am I misunderstanding how Spyder interacts with <code>pdb</code> or how the execution timeline should look?</li>\n</ul>\n<p>The same issue occurs by manually putting breakpoints rather than using <code>pdb</code>, so it does not seem to be a <code>pdb</code>-specific problem. Any clarification would be appreciated.</p>\n<p><strong>I am running:</strong></p>\n<ul>\n<li>Windows 10</li>\n<li>Spyder 6.0.7 (under conda 24.11.3)</li>\n<li>Python 3.12.7 64-bit</li>\n<li>Qt 5.15.2</li>\n<li>PyQt5 5.15.10</li>\n</ul>\n",
        "tags": [
            "python",
            "debugging",
            "spyder"
        ]
    },
    {
        "index": 98,
        "question_id": 79670953,
        "title": "Why does including header with a structure definition not lead to a redefinition error?",
        "body": "<p>I have simple program to make a point with x and y coords and function to move it.\nThere are three files:</p>\n<ol>\n<li>main.c</li>\n<li>structs.h</li>\n<li>structs.c</li>\n</ol>\n<p><strong>structs.h</strong> Has the definition of structure</p>\n<pre><code>typedef struct point{\n        int x;\n        int y;\n} Point;\nvoid move (Point *p, int d);\n</code></pre>\n<p><strong>structs.c</strong></p>\n<pre><code>#include &quot;structs.h&quot;\nvoid move(Point *p, int d){\n        p-&gt;x = p-&gt;x + d;\n        p-&gt;y = p-&gt;y + d;\n}\n</code></pre>\n<p><strong>main.c</strong> Creates a point, moves it and prints</p>\n<pre><code>#include &quot;structs.h&quot;\n#include &lt;stdio.h&gt;\nint main(){\n        Point p={1,2};\n        move(&amp;p, 3);\n        printf(&quot;%d %d&quot;, p.x, p.y);\n        return 0;\n}\n\n</code></pre>\n<p>As far as i know after processing the include by the preprocessor, both files should have the same structure definition, and there should be an error redefining the structure. But the program compiles and runs. Can you explain why?</p>\n<p>EDT:\nIf i manually add a definition to one of the C files above, then everything will fail as expected. Why does it turn on</p>\n<p>now it will fail with redefinition error</p>\n<pre><code>#include &quot;structs.h&quot;\n#include &lt;stdio.h&gt;\n\ntypedef struct point{\n        int x;\n        int y;\n} Point;\n\nint main(){\n        Point p={1,2};\n        move(&amp;p, 3);\n        printf(&quot;%d %d&quot;, p.x, p.y);\n        return 0;\n}\n\n</code></pre>\n",
        "tags": [
            "c",
            "header",
            "structure"
        ]
    },
    {
        "index": 99,
        "question_id": 79671102,
        "title": "How to fill area between a geom_line and a geom_step in ggplot2?",
        "body": "<p>I'm trying to reproduce a graph similar to those used for displaying ambulatory blood pressure monitoring (ABPM) data, with step lines and a filled area between them.</p>\n<p><a href=\"https://i.sstatic.net/O9rpLNx1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/O9rpLNx1.png\" alt=\"ABPM plot\" /></a></p>\n<p>I’ve managed to build the step lines, but I’m having trouble filling the area above them correctly. The stat_difference() function doesn’t seem to work as expected in this case — it doesn’t fill the area properly when the lines are steps.</p>\n<p>Here’s a minimal reproducible example of what I have so far:</p>\n<pre><code>data &lt;- structure(list(Date = structure(c(1750165200, 1750166100, 1750167000, \n1750167900, 1750168800, 1750169700, 1750170600, 1750171500, 1750172400, \n1750173300, 1750174200, 1750175100, 1750176000, 1750176900, 1750177800, \n1750178700, 1750179600, 1750180500, 1750181400, 1750182300, 1750183200, \n1750184100, 1750185000, 1750185900, 1750186800, 1750187700, 1750188600, \n1750189500, 1750190400, 1750191300, 1750192200, 1750193100, 1750194000, \n1750194900, 1750195800, 1750196700, 1750197600, 1750198500, 1750199400, \n1750200300, 1750201200, 1750202100, 1750203000, 1750203900, 1750204800, \n1750205700, 1750206600, 1750207500, 1750208400, 1750209300, 1750210200, \n1750211100, 1750212000, 1750213800, 1750215600, 1750217400, 1750219200, \n1750221000, 1750222800, 1750224600, 1750226400, 1750228200, 1750230000, \n1750231800, 1750233600, 1750235400, 1750237200, 1750238100, 1750239000, \n1750239900, 1750240800, 1750241700, 1750242600, 1750243500, 1750244400, \n1750245300, 1750246200, 1750247100, 1750248000, 1750248900, 1750249800, \n1750250700), class = c(&quot;POSIXct&quot;, &quot;POSIXt&quot;), tzone = &quot;&quot;), SBP_Patient = c(154, \n150, 130, 145, 136, 140, 145, 148, 152, 140, 160, 150, 150, 145, \n139, 120, 125, 132, 145, 135, 150, 157, 154, 146, 145, 165, 170, \n120, 115, 168, 150, 148, 162, 146, 154, 167, 170, 145, 152, 148, \n152, 149, 145, 140, 152, 140, 164, 150, 145, 130, 120, 110, 112, \n110, 124, 128, 100, 90, 98, 100, 110, 105, 95, 105, 115, 119, \n130, 125, 130, 142, 140, 140, 142, 146, 145, 140, 145, 132, 145, \n150, 152, 160), DBP_Patient = c(95, 90, 98, 89, 95, 90, 95, 86, \n85, 90, 100, 85, 89, 82, 85, 80, 80, 87, 85, 83, 85, 90, 95, \n95, 85, 95, 105, 90, 80, 95, 90, 92, 98, 85, 85, 95, 98, 90, \n95, 95, 97, 89, 80, 82, 82, 80, 98, 95, 82, 80, 74, 70, 70, 60, \n68, 80, 70, 65, 70, 75, 80, 70, 62, 75, 75, 80, 80, 75, 80, 80, \n98, 89, 82, 84, 80, 85, 83, 80, 89, 90, 95, 95), SBP_Threshold = c(135, \n135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, \n135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, \n135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, \n135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, \n135, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, \n135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, 135, \n135, 135, 135), DBP_Threshold = c(85, 85, 85, 85, 85, 85, 85, \n85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, \n85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, \n85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 70, \n70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 85, 85, 85, 85, \n85, 85, 85, 85, 85, 85, 85, 85, 85, 85, 85), Period = structure(c(1L, \n1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, \n2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, \n1L), levels = c(&quot;Wake&quot;, &quot;Sleep&quot;), class = &quot;factor&quot;)), row.names = c(NA, \n-82L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))\n\nggplot(data, aes(x = Date)) +\n  ggh4x::stat_difference(aes(ymin = SBP_Threshold,\n                             ymax = SBP_Patient), alpha = 0.5,\n                         levels = c(&quot;SBP Above&quot;, &quot;SBP Normal&quot;),\n                         show.legend = F) +\n  ggh4x::stat_difference(aes(ymin = DBP_Threshold,\n                             ymax = DBP_Patient), alpha = 0.5,\n                         levels = c(&quot;DBP Above&quot;, &quot;DBP Normal&quot;),\n                         show.legend = F) +\n  geom_step(aes(y = SBP_Threshold, group = 1), color = &quot;grey50&quot;) +\n  geom_step(aes(y = DBP_Threshold, group = 1), color = &quot;grey50&quot;) +\n  geom_line(aes(y = SBP_Patient, group = 1, color = &quot;Systolic&quot;)) +\n  geom_line(aes(y = DBP_Patient, group = 1, color = &quot;Diastolic&quot;)) +\n  scale_color_manual(values = c(&quot;Systolic&quot; = &quot;red&quot;,\n                                &quot;Diastolic&quot; = &quot;blue3&quot;)) +\n  scale_fill_manual(values = c(&quot;SBP Above&quot; = &quot;red&quot;,\n                               &quot;SBP Normal&quot; = &quot;transparent&quot;,\n                               &quot;DBP Above&quot; = &quot;blue3&quot;,\n                               &quot;DBP Normal&quot; = &quot;transparent&quot;)) +\n  scale_x_datetime(date_breaks = &quot;1 hour&quot;, date_labels = &quot;%H&quot;) +\n  labs(y = &quot;Arterial blood pressure (mmHg)&quot;, x = &quot;Hour&quot;, color = NULL) +\n  theme_bw()\n</code></pre>\n<p><a href=\"https://i.sstatic.net/OlSWrz51.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/OlSWrz51.png\" alt=\"My current plot\" /></a></p>\n<p>My question is: how can I correctly fill the area between two step lines, preserving the step structure of the lines?</p>\n<p>Thanks in advance for any help!</p>\n",
        "tags": [
            "r",
            "ggplot2"
        ]
    },
    {
        "index": 100,
        "question_id": 79671259,
        "title": "GPG Password Screen does not allow submitting password when using Git",
        "body": "<p>I'm using a GPG Personal Access token to sign my commits. The token is not expired (I checked this first), and has all the right repo scopes to allow for a commit.</p>\n<p>When I pull using <code>git pull &lt;branch&gt; --rebase</code>, I get prompted by a GPG Password Screen as usual. I'm usually able to input my password here and submit, but now not only can I not submit my password (by hitting Enter), the password is also not obfuscated with asterisks.</p>\n<p>I've tried running <code>export GPG_TTY=$(tty)</code>, this does not fix the problem. I've included a screenshot below:</p>\n<p>Any ideas why this is happening? Please halp!</p>\n<p><a href=\"https://i.sstatic.net/ZLDZulDm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/ZLDZulDm.png\" alt=\"screenshot of GPG GUI\" /></a></p>\n",
        "tags": [
            "git",
            "gnupg",
            "personal-access-token"
        ]
    }
]