[
    {
        "tags": [
            "c++",
            "g++",
            "language-lawyer",
            "clang++"
        ],
        "owner": {
            "account_id": 21086680,
            "reputation": 61,
            "user_id": 16252391,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/97fc086a7f8b90731b89a18aac3e7952?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Caesium1337",
            "link": "https://stackoverflow.com/users/16252391/caesium1337"
        },
        "is_answered": false,
        "view_count": 131,
        "answer_count": 1,
        "score": 6,
        "last_activity_date": 1746507604,
        "creation_date": 1746482256,
        "last_edit_date": 1746492828,
        "question_id": 79607696,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607696/why-does-this-c-operator-overloading-code-work-in-clang-but-not-gcc-msvc-with",
        "title": "Why does this C++ operator overloading code work in Clang but not GCC/MSVC with C++20?",
        "body": "<p>I recently encountered an interesting C++ code example that compiles with Clang (-std=c++20) but fails with GCC and MSVC. The code involves operator overloading and friend function declarations.</p>\n<p>Code Example:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n\ntemplate&lt;typename T&gt;\nclass Foo;\n\ntemplate&lt;typename T&gt;\nFoo&lt;T&gt; operator+(int, const Foo&lt;T&gt;&amp;);\n\ntemplate&lt;typename T&gt;\nclass Foo\n{\npublic:\n    Foo(const T&amp; val) : data(val) {}\n    Foo operator+(int);\n\n    friend Foo&lt;T&gt; operator+&lt;&gt;(int, const Foo&lt;T&gt;&amp;);\n\nprivate:\n    T data;\n};\n\ntemplate&lt;typename T&gt;\nFoo&lt;T&gt; Foo&lt;T&gt;::operator+(int num)\n{\n    return Foo(this-&gt;data + num);\n}\n\ntemplate&lt;typename T&gt;\nFoo&lt;T&gt; operator+(int num, const Foo&lt;T&gt;&amp; other)\n{\n    return Foo(other.data + num);\n}\n\nint main()\n{\n    Foo&lt;int&gt; a(1);\n    auto v1 = a + 2;\n    auto v2 = 2 + a;\n}\n</code></pre>\n<p>Compiler Behavior:\nClang (17.0.1): Works with -std=c++20</p>\n<p>GCC (13.2): Fails with error about operator+ not being declared</p>\n<p>MSVC (v19.38): Similar failure</p>\n<p>GCC has an error:</p>\n<pre><code>&lt;source&gt;: In instantiation of 'class Foo&lt;int&gt;':\n&lt;source&gt;:35:15:   required from here\n   35 |     Foo&lt;int&gt; a(1);\n      |               ^\n&lt;source&gt;:15:19: error: template-id 'operator+&lt;&gt;' for 'Foo&lt;int&gt; operator+(int, const Foo&lt;int&gt;&amp;)' does not match any template declaration\n   15 |     friend Foo&lt;T&gt; operator+&lt;&gt;(int, const Foo&lt;T&gt;&amp;);\n      |                   ^~~~~~~~~~~\n&lt;source&gt;:22:8: note: candidate is: 'Foo&lt;T&gt; Foo&lt;T&gt;::operator+(int) [with T = int]'\n   22 | Foo&lt;T&gt; Foo&lt;T&gt;::operator+(int num)\n      |        ^~~~~~\n&lt;source&gt;: In instantiation of 'Foo&lt;T&gt; operator+(int, const Foo&lt;T&gt;&amp;) [with T = int]':\n&lt;source&gt;:37:19:   required from here\n   37 |     auto v2 = 2 + a;\n      |                   ^\n&lt;source&gt;:30:22: error: 'int Foo&lt;int&gt;::data' is private within this context\n   30 |     return Foo(other.data + num);\n      |                ~~~~~~^~~~\n&lt;source&gt;:18:7: note: declared private here\n   18 |     T data;\n      |       ^~~~\n</code></pre>\n<p>Workaround:\nSwapping the order of operator declarations inside the class makes it work:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>template&lt;typename T&gt;\nclass Foo\n{\npublic:\n    Foo(const T&amp; val) : data(val) {}\n    friend Foo&lt;T&gt; operator+&lt;&gt;(int, const Foo&lt;T&gt;&amp;);\n    Foo operator+(int);\n\nprivate:\n    T data;\n};\n</code></pre>\n"
    },
    {
        "tags": [
            "c++",
            "visual-c++",
            "multiple-inheritance",
            "virtual-functions"
        ],
        "owner": {
            "account_id": 2149732,
            "reputation": 205,
            "user_id": 2329098,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/d9ff93d195b43c01d6b6eec38cd2811b?s=256&d=identicon&r=PG",
            "display_name": "Bill Greene",
            "link": "https://stackoverflow.com/users/2329098/bill-greene"
        },
        "is_answered": true,
        "view_count": 138,
        "accepted_answer_id": 79607034,
        "answer_count": 2,
        "score": 5,
        "last_activity_date": 1746452792,
        "creation_date": 1746443781,
        "last_edit_date": 1746444366,
        "question_id": 79606814,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606814/c-class-with-multiple-inheritance-and-covariant-return-types",
        "title": "C++ class with multiple inheritance and covariant return types",
        "body": "<p>I am trying to understand a compile error from the latest version of\nVC++. The error occurs in a class that inherits from two base classes and\nincludes a virtual function that overrides functions in the base classes but\nhas a different return type.</p>\n<p>The code compiles and executes correctly in g++ and clang.</p>\n<p>I would like to know if this VC++ error is a bug and, if so, is there a\nsimple workaround that preserves the intent of the code?</p>\n<p>The example code and error message are below:</p>\n<pre><code>#include &lt;iostream&gt;\nusing std::cout;\n\nclass Vr {};\nclass Ar : public Vr {};\nclass Br : public Vr {};\nclass Dr : public Ar, public Br {};\nstruct Vx {\n  virtual Vr* vf() {\n    cout &lt;&lt; &quot;Vx::vf() called.\\n&quot;;\n    return 0;\n  }\n};\n\nstruct Ax : virtual Vx {\n  virtual Ar* vf() override {\n    cout &lt;&lt; &quot;Ax::vf() called.\\n&quot;;\n    return 0;\n  }\n};\n\nstruct Bx : virtual Vx {\n  virtual Br* vf() override {\n    cout &lt;&lt; &quot;Bx::vf() called.\\n&quot;;\n    return 0;\n  }\n};\n\nstruct Dx : Ax, Bx {\n  // Uncomment the following line to resolve.\n  virtual Dr* vf() override {\n    cout &lt;&lt; &quot;Dx::vf() called.\\n&quot;;\n    return 0;\n  }\n};\n\nint main()\n{\n  Dx* dx = new Dx;\n  auto r = dx-&gt;vf();\n  cout &lt;&lt; &quot;r=&quot; &lt;&lt; r &lt;&lt; '\\n';\n}\n</code></pre>\n<h2>VC++ error messages</h2>\n<pre><code>2&gt;multInheritanceCovariantRetTest.cpp 1&gt;Done building project\n&quot;multipleInheritanceTests.vcxproj&quot; -- FAILED.\n2&gt;C:\\wgreene\\tests\\c++\\MiscTests\\multInheritanceCovariantRetTest.cpp(31,15):\nerror C2555: 'Dx::vf': overriding virtual function return type differs\nand is not covariant from 'Ax::vf' 2&gt;   \nC:\\wgreene\\tests\\c++\\MiscTests\\multInheritanceCovariantRetTest.cpp(16,15):\n2&gt;    see declaration of 'Ax::vf' 2&gt;   \nC:\\wgreene\\tests\\c++\\MiscTests\\multInheritanceCovariantRetTest.cpp(31,15):\n2&gt;    'Vr': ambiguous base is not covariant\n2&gt;C:\\wgreene\\tests\\c++\\MiscTests\\multInheritanceCovariantRetTest.cpp(31,15):\nerror C2555: 'Dx::vf': overriding virtual function return type differs\nand is not covariant from 'Bx::vf' 2&gt;   \nC:\\wgreene\\tests\\c++\\MiscTests\\multInheritanceCovariantRetTest.cpp(23,15):\n2&gt;    see declaration of 'Bx::vf' 2&gt;   \nC:\\wgreene\\tests\\c++\\MiscTests\\multInheritanceCovariantRetTest.cpp(31,15):\n2&gt;    'Vr': ambiguous base is not covariant\n</code></pre>\n"
    },
    {
        "tags": [
            "c",
            "scope",
            "identifier",
            "goto",
            "c17"
        ],
        "owner": {
            "account_id": 26731573,
            "reputation": 139,
            "user_id": 28451805,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/4738c5533252f6fa1e3d90556b88999f?s=256&d=identicon&r=PG",
            "display_name": "Cinverse",
            "link": "https://stackoverflow.com/users/28451805/cinverse"
        },
        "is_answered": true,
        "view_count": 57,
        "accepted_answer_id": 79607939,
        "answer_count": 2,
        "score": 5,
        "last_activity_date": 1746532681,
        "creation_date": 1746502073,
        "last_edit_date": 1746532670,
        "question_id": 79607928,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607928/strictly-speaking-where-does-the-scope-of-a-label-name-starts-and-ends-in-c",
        "title": "strictly speaking, where does the scope of a label name starts and ends in C?",
        "body": "<p>In C17's final draft N2176 document,</p>\n<ol>\n<li>at 1st paragraph of 6.2.1, it defines a label name as a type of identifier,</li>\n<li>at 3rd paragraph of 6.2.1, it says</li>\n</ol>\n<blockquote>\n<p>A label name is the only kind of identifier that has function scope. <strong>It can be used (in a goto statement) anywhere in the function in which it appears</strong>, and is declared implicitly by its syntactic appearance (followed by a : and a statement).</p>\n</blockquote>\n<ol start=\"3\">\n<li>at 7th paragraph of 6.2.1, it says that, except a struct tag, union tag, enumeration tag, and an enumeration constant,</li>\n</ol>\n<blockquote>\n<p><strong>Any other identifier has scope that begins just after the completion of its declarator.</strong></p>\n</blockquote>\n<p>So, I find it conflicting to say that the scope of a label name starts at the start of a function body and end at the end of a function body, because of the paragraph 7 in 6.2.1 (to say that it starts after the completion of the label name's declaration does not makes sense when it can be accessed before its declaration).</p>\n<p>Where exactly does the scope of a label name starts in C?</p>\n"
    },
    {
        "tags": [
            "c",
            "gcc",
            "clang",
            "qsort",
            "c23"
        ],
        "owner": {
            "account_id": 6870251,
            "reputation": 1030,
            "user_id": 5402249,
            "user_type": "registered",
            "accept_rate": 87,
            "profile_image": "https://lh3.googleusercontent.com/-g-9VJ8L0HoQ/AAAAAAAAAAI/AAAAAAAAABc/TCQXMP4ByKw/photo.jpg?sz=256",
            "display_name": "Kyle",
            "link": "https://stackoverflow.com/users/5402249/kyle"
        },
        "is_answered": true,
        "view_count": 129,
        "answer_count": 2,
        "score": 4,
        "last_activity_date": 1746354914,
        "creation_date": 1746301119,
        "question_id": 79605049,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605049/how-is-a-qsort-allocation-failure-handled",
        "title": "How is a qsort allocation failure handled?",
        "body": "<p>My question is what happens when qsort in C can not allocate the space it needs to do its thing. The C standard presents qsort as nonerring, but in reality it must need to allocate space for any decent algorithm.</p>\n<p>The only truly reliable way to make qsort nonerring would be to make it fall back to a constant space algorithm if it fails to allocate what it needs. That would be terribly slow, but nonerring.</p>\n<p>Does anyone know how this is actually handled in practice? I am most interested in how Clang and GCC handle it.</p>\n<p>The motivation for the question is that I am working on code that needs to be extremely robust, which sorts large arrays in a setting where memory may be tight already, so I am worried about qsort putting it over the edge and not having a way in my code to manage that situation.</p>\n"
    },
    {
        "tags": [
            "r",
            "http-status-code-403"
        ],
        "owner": {
            "account_id": 4784444,
            "reputation": 7010,
            "user_id": 3961566,
            "user_type": "registered",
            "accept_rate": 71,
            "profile_image": "https://i.sstatic.net/uKa34.jpg?s=256",
            "display_name": "Russ Lenth",
            "link": "https://stackoverflow.com/users/3961566/russ-lenth"
        },
        "is_answered": false,
        "view_count": 80,
        "answer_count": 0,
        "score": 4,
        "last_activity_date": 1746326863,
        "creation_date": 1746326863,
        "question_id": 79605257,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605257/r-check-has-403-errors-for-stackoverflow-urls",
        "title": "R check has 403 errors for stackoverflow URLs",
        "body": "<p>My R package has several references to URLs, especially in its <code>NEWS.md</code> file.\nThese have never caused problems until now; but a recent <code>R CMD check</code> with my package had messages like this:</p>\n<pre><code>Found the following (possibly) invalid URLs:\n  URL: https://stackoverflow.com/questions/63713439\n    From: NEWS.md\n    Status: 403\n    Message: Forbidden\n  URL: https://stackoverflow.com/questions/64962094\n    From: NEWS.md\n    Status: 403\n    Message: Forbidden\n</code></pre>\n<p>Looking at <code>NEWS.md</code>, there are several links in there, but I get these messages only from the ones on <code>stackoverflow.com</code>! You can easily confirm that these pages exist and are available from a web browser.</p>\n<p>I can confirm this from the console via the <code>httr::http_status()</code> function:</p>\n<pre><code>&gt; http_status(GET(&quot;https://stackoverflow.com/questions/63713439&quot;))\n$category\n[1] &quot;Client error&quot;\n\n$reason\n[1] &quot;Forbidden&quot;\n\n$message\n[1] &quot;Client error: (403) Forbidden&quot;\n&gt;\n&gt; ### Or the same with the complete URL including the part after the numbers:\n&gt; http_status(GET(&quot;https://stackoverflow.com/questions/63713439/interpreting-results-from-emmeans-comparison&quot;))\n$category\n[1] &quot;Client error&quot;\n\n$reason\n[1] &quot;Forbidden&quot;\n\n$message\n[1] &quot;Client error: (403) Forbidden&quot;\n</code></pre>\n<p>Meanwhile, non-stackoverflow sites work fine:</p>\n<pre><code>&gt; http_status(GET(&quot;https://cran.r-project.org/web/packages/emmeans/index.html&quot;))\n$category\n[1] &quot;Success&quot;\n\n$reason\n[1] &quot;OK&quot;\n\n$message\n[1] &quot;Success: (200) OK&quot;\n</code></pre>\n<p>But I know this is not a peculiarity with my own system, because I get the same errors if I check the package with winbuilder.</p>\n<p>Can anybody explain why this happens -- and most especially, if there is a workaround?</p>\n"
    },
    {
        "tags": [
            "python",
            "ubuntu",
            "pip",
            "windows-subsystem-for-linux",
            "venv"
        ],
        "owner": {
            "account_id": 26951769,
            "reputation": 43,
            "user_id": 20520879,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/ALm5wu3sdfmjXnRqUtObjn6mIail_RE89hCg3222e5ZEtQ=k-s256",
            "display_name": "Лев Базинов",
            "link": "https://stackoverflow.com/users/20520879/%d0%9b%d0%b5%d0%b2-%d0%91%d0%b0%d0%b7%d0%b8%d0%bd%d0%be%d0%b2"
        },
        "is_answered": true,
        "view_count": 67,
        "accepted_answer_id": 79605474,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1746354633,
        "creation_date": 1746350341,
        "question_id": 79605465,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605465/no-module-named-pip-in-venv-but-pip-installed",
        "title": "No module named pip in venv but pip installed",
        "body": "<p>I work in WSL Ubuntu. After instalation python3.13 dependencies from my previous projects stopped working. Venv with python 3.12 stopped activate in vscode interface. ErrorMessage:</p>\n<blockquote>\n<p>An Invalid Python interpreter is selected, please try changing it to enable features such as IntelliSense, linting, and debugging. See output for more details regarding why the interpreter is invalid.</p>\n</blockquote>\n<p>command &quot;source venv/bin/activate&quot; works but all libraries &quot;could not be resolvedPylance&quot;. When I try reinstal I see error:</p>\n<blockquote>\n<p>ModuleNotFoundError: No module named 'pip'</p>\n</blockquote>\n<p>But pip installed in this venv. I can see it folders. <strong>init</strong> and <strong>main</strong> files etc.\nI have pip for python3.12 and I have -m venv for python 3.12. I can recreate this venv but why I can`t turn it on properly?</p>\n<p>Tried reinstall venv and pip for python3.12.\npython3 -m ensurepip is ok:</p>\n<blockquote>\n<p>Requirement already satisfied: pip in /usr/lib/python3/dist-packages (24.0)</p>\n</blockquote>\n<p>But python3.12 -m ensurepip</p>\n<blockquote>\n<p>ensurepip is disabled in Debian/Ubuntu for the system python.</p>\n</blockquote>\n<p>python3.12 -m pip --version is working also as python3.12 -m pip install and python3.12 -m pip --upgrade pip</p>\n"
    },
    {
        "tags": [
            "php",
            "codeigniter",
            "mysqli",
            "codeigniter-4",
            "php-8.1"
        ],
        "owner": {
            "account_id": 5752331,
            "reputation": 1057,
            "user_id": 4541566,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/YDhW3.jpg?s=256",
            "display_name": "Dejan Dozet",
            "link": "https://stackoverflow.com/users/4541566/dejan-dozet"
        },
        "is_answered": true,
        "view_count": 52,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1746420502,
        "creation_date": 1746378227,
        "last_edit_date": 1746420502,
        "question_id": 79605857,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605857/ci4-php-8-1-finally-block-not-executed-when-mysqli-sql-exception-occurs-but",
        "title": "CI4 + PHP 8.1: Finally block not executed when mysqli_sql_exception occurs (but works with register_shutdown_function)",
        "body": "<p>I'm working on a CodeIgniter 4 project (CI: 4.4.3 production mode | PHP: 8.1.32), and I'm running into a strange issue where my <code>finally</code> block <strong>never executes</strong> if a database error happens during execution — even though I'm catching <code>\\Throwable</code> (and doesn't remove the lock file).</p>\n<p>But when I uncomment <code>register_shutdown_function()</code>, it works and cleans up the lock file.</p>\n<p>Here's a minimal reproduction:</p>\n<h3><code>run()</code> method in <code>CronRunner</code></h3>\n<pre class=\"lang-php prettyprint-override\"><code>namespace App\\Models;\n\nclass CronRunner extends CI_Model {\n\n  public function run($data) {\n\n    $result = &quot;OK&quot;;\n\n    $executedAt = date('Y-m-d H:i:s'); // for logs\n    $executedAtUnix = time();         // for duration calc\n\n    $lockFile = WRITEPATH . 'cache/cronRunner.lock';\n\n    if (file_exists($lockFile))\n      return;\n\n    file_put_contents($lockFile, ENVIRONMENT);\n\n    // This works — when it's enabled, the file gets removed\n    // register_shutdown_function(function () use ($lockFile) {\n    //   if (file_exists($lockFile)) {\n    //     unlink($lockFile);\n    //   }\n    // });\n\n    try {\n      $this-&gt;notifyLongRunningTask();\n    } catch (\\Throwable $e2) {\n      $result = $e2-&gt;getMessage();\n      log_message('error', (string) $result);\n    } finally {\n      log_message('error', 'FINALLY BLOCK REACHED');\n      if (file_exists($lockFile)) {\n        unlink($lockFile);\n      }\n    }\n\n    return ['result' =&gt; $result];\n  }\n}\n</code></pre>\n<hr />\n<h3>Here’s <code>notifyLongRunningTask()</code></h3>\n<pre class=\"lang-php prettyprint-override\"><code>function notifyLongRunningTask() {\n  $PushSubscriptions = new PushSubscriptions();\n  $PushSentLog = new PushSentLog();\n\n  $db = \\Config\\Database::connect();\n\n  $sql = &quot;\n    SELECT hs.id as hourly_id, date_started, time_started, hs.organization_id, hs.user_created, c.name Client, p.client_id\n    FROM HourlySheet hs\n      JOIN ToDo t ON hs.todo_id = t.id\n      JOIN Project p ON t.project_id = p.id\n      JOIN Client c ON p.client_id = c.id\n    WHERE time_finished IS NULL\n  &quot;;\n\n  $query = $db-&gt;query($sql);\n\n  foreach ($query-&gt;getResult() as $row) {\n    $startedAt = strtotime($row-&gt;date_started . ' ' . $row-&gt;time_started);\n    $now = time();\n\n    // This line causes the issue\n    $PushSentLog_res = $PushSentLog-&gt;select(&quot; AND user_created = {$row-&gt;user_created} AND name = 'notifyLongRunningTask' ORDER BY id DESC LIMIT 1 &quot;);\n    \n    // ...\n  }\n}\n</code></pre>\n<hr />\n<h3>The actual query error</h3>\n<pre class=\"lang-none prettyprint-override\"><code>mysqli_sql_exception: Column 'name' in WHERE is ambiguous\n</code></pre>\n<p>And the query is triggered from within the <code>select()</code> method of our CI_Model-based class. That method includes this logic:</p>\n<pre class=\"lang-php prettyprint-override\"><code>if (!$query) {\n  $error = $db-&gt;error()[&quot;message&quot;];\n  $baseClass = get_parent_class($this);\n  $this-&gt;log_it($error, $baseClass . &quot; &quot; . __FUNCTION__ . ' DB Error');\n  return ['result' =&gt; (string) $error];\n}\n</code></pre>\n<p>So the SQL error is:</p>\n<ul>\n<li><strong>Caught</strong></li>\n<li><strong>Logged</strong></li>\n<li><strong>Returned</strong> as part of <code>['result' =&gt; '...']</code></li>\n</ul>\n<p>But still — somehow — this causes PHP/CI4 to <strong>terminate execution before <code>finally</code> runs</strong>, and the lock file is <strong>not removed</strong>.</p>\n<hr />\n<h3>What works</h3>\n<p>If I uncomment the <code>register_shutdown_function()</code>, then the lock file is removed as expected.</p>\n<p>This tells me <strong>the script is being shut down unexpectedly</strong>, despite <code>\\Throwable</code> being caught, and no <code>exit()</code> or fatal visible.</p>\n<hr />\n<h3>Why is this happening?</h3>\n<ul>\n<li>We're on PHP 8.1.32 and CI4 4.4.3</li>\n<li><code>DBDebug</code> is set to <code>false</code> (production mode)</li>\n<li>The query fails with a typical ambiguous column error</li>\n<li>It is handled inside <code>select()</code> (custom function)</li>\n<li>But the <code>finally</code> block from the <code>run()</code> method is <strong>never reached</strong></li>\n<li>The shutdown function <strong>does get called</strong></li>\n</ul>\n<hr />\n<h3>Question</h3>\n<p>Why is the <code>finally</code> block <strong>not executed</strong>, even though the exception is handled and no uncaught fatal is shown?</p>\n<p>Is this a PHP 8.1 + CI4 side effect?<br />\nOr are certain internal CI4 behaviors forcing a shutdown?</p>\n<p>Any insight from CI4 internals or PHP changes in 8.1+ would be much appreciated.</p>\n"
    },
    {
        "tags": [
            "c++",
            "x86-64",
            "simd",
            "avx2"
        ],
        "owner": {
            "account_id": 42255,
            "reputation": 8528,
            "user_id": 123054,
            "user_type": "registered",
            "accept_rate": 83,
            "profile_image": "https://www.gravatar.com/avatar/8f1fa9865a203902c73dff3f6011eaf2?s=256&d=identicon&r=PG",
            "display_name": "Matt",
            "link": "https://stackoverflow.com/users/123054/matt"
        },
        "is_answered": true,
        "view_count": 107,
        "accepted_answer_id": 79606179,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1746471112,
        "creation_date": 1746396932,
        "last_edit_date": 1746430366,
        "question_id": 79606115,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606115/how-to-improve-performance-of-a-packed-yuv-to-planar-yuv-conversion-using-avx2",
        "title": "How to improve performance of a packed yuv to planar yuv conversion using avx2?",
        "body": "<p>I'm converting frames delivered in v210 (packed 10bit yuv) format to p210 (planar 10bit carried as 16bit values). Input is typically 4k (3840x2160) at upto 60Hz. The scalar implementation is quite simple and probably fast enough but more headroom would be handy so I thought to attempt to get a speedup using avx2.</p>\n<p>Unfortunately my current implementation is ~30% slower on my test box (intel alder lake, msvc 19.44 compiler) so am looking for some tips on how to improve it. It would be particularly useful to know which bits of this are &quot;slow&quot; as well example alternative instructions/techniques that can perform this type of interleaving.</p>\n<p>For reference</p>\n<p>v210 is a format that packs 12 10-bit unsigned components into four 32-bit little-endian words where the two 2 bits of each 32bit is padding.</p>\n<p><a href=\"https://i.sstatic.net/7oRExFte.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/7oRExFte.png\" alt=\"v210 layout\" /></a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/windows/win32/medfound/10-bit-and-16-bit-yuv-video-formats#422-formats\" rel=\"nofollow noreferrer\">p210</a> is a planar format with a Y plane followed an interleaved downsampled UV plane</p>\n<p>conceptually current implementation is:</p>\n<ul>\n<li>load 2 blocks of 4 words into a single <code>__m256i</code></li>\n<li>mask &amp; shift to extract each component into separate <code>__m256i</code></li>\n<li>pack 32bit values down to 16bit</li>\n<li>shuffle &amp; blend to generate the separate y and uv planes (using 96bits of each 128bit lane)</li>\n<li>shift up to 16bit &amp; write to the output</li>\n</ul>\n<p>which can be represented visually like this (light yellow are irrelevant zero values, bright yellow marks the separation between the lanes</p>\n<p><a href=\"https://i.sstatic.net/UDM2QSgE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/UDM2QSgE.png\" alt=\"impl\" /></a></p>\n<p>the actual code</p>\n<pre><code>    void convert(const uint8_t* src, int srcStride, uint8_t* dstY, uint8_t* dstUV, int width, int height)\n{\n    const int groupsPerLine = width / 12;\n\n    // Pre-compute constants once outside the loops\n    const __m256i mask10 = _mm256_set1_epi32(0x3FF);\n    const __m256i zeroes = _mm256_setzero_si256();\n    const __m256i s2_shuffleMask = _mm256_setr_epi8(\n        -1, -1, 0, 1, 2, 3, -1, -1, 4, 5, 6, 7, -1, -1, -1, -1,\n        -1, -1, 0, 1, 2, 3, -1, -1, 4, 5, 6, 7, -1, -1, -1, -1\n    );\n    const __m256i s1_shuffleMask = _mm256_setr_epi8(\n        0, 1, -1, -1, 2, 3, 4, 5, -1, -1, 6, 7, -1, -1, -1, -1,\n        0, 1, -1, -1, 2, 3, 4, 5, -1, -1, 6, 7, -1, -1, -1, -1\n    );\n    const __m256i s0_shuffleMask = _mm256_setr_epi8(\n        0, 1, 2, 3, -1, -1, 4, 5, 6, 7, -1, -1, -1, -1, -1, -1,\n        0, 1, 2, 3, -1, -1, 4, 5, 6, 7, -1, -1, -1, -1, -1, -1\n    );\n    const uint8_t y_blend_mask_1 = 0b00001001;\n    const uint8_t y_blend_mask_2 = 0b00011011;\n    const uint8_t uv_blend_mask_1 = 0b00110110;\n    const uint8_t uv_blend_mask_2 = 0b00101101;\n\n    // Process all lines with a single loop implementation\n    for (int lineNo = 0; lineNo &lt; height; ++lineNo)\n    {\n        const uint32_t* srcLine = reinterpret_cast&lt;const uint32_t*&gt;(src + lineNo * srcStride);\n        uint16_t* dstLineY = reinterpret_cast&lt;uint16_t*&gt;(dstY + lineNo * width * 2);\n        uint16_t* dstLineUV = reinterpret_cast&lt;uint16_t*&gt;(dstUV + lineNo * width * 2);\n\n        // Process all complete groups\n        int g = 0;\n        for (; g &lt; groupsPerLine - (lineNo == height - 1 ? 1 : 0); ++g)\n        {\n            // Load 8 dwords\n            __m256i dwords = _mm256_loadu_si256(reinterpret_cast&lt;const __m256i*&gt;(srcLine));\n\n            // transpose to extract a 10-bit component into a 32bit slot spread across 3 registers\n            __m256i s0_32 = _mm256_and_si256(dwords, mask10);                         // bits 0–9\n            __m256i s1_32 = _mm256_and_si256(_mm256_srli_epi32(dwords, 10), mask10);  // bits 10–19\n            __m256i s2_32 = _mm256_and_si256(_mm256_srli_epi32(dwords, 20), mask10);  // bits 20–29\n\n            // pack down to 16bit and fill the remainder with zeroes\n            __m256i s0_16 = _mm256_packs_epi32(s0_32, zeroes);\n            __m256i s1_16 = _mm256_packs_epi32(s1_32, zeroes);\n            __m256i s2_16 = _mm256_packs_epi32(s2_32, zeroes);\n\n            // shuffle to prepare for blending\n            __m256i s0_16_shuffled = _mm256_shuffle_epi8(s0_16, s0_shuffleMask);\n            __m256i s1_16_shuffled = _mm256_shuffle_epi8(s1_16, s1_shuffleMask);\n            __m256i s2_16_shuffled = _mm256_shuffle_epi8(s2_16, s2_shuffleMask);\n\n            // blend to y and uv\n            __m256i y_tmp = _mm256_blend_epi16(s0_16_shuffled, s1_16_shuffled, y_blend_mask_1);\n            __m256i uv_tmp = _mm256_blend_epi16(s0_16_shuffled, s1_16_shuffled, uv_blend_mask_1);\n            __m256i y = _mm256_blend_epi16(s2_16_shuffled, y_tmp, y_blend_mask_2);\n            __m256i uv = _mm256_blend_epi16(s2_16_shuffled, uv_tmp, uv_blend_mask_2);\n\n            // scale\n            __m256i y_scaled = _mm256_slli_epi16(y, 6);\n            // write 96 bits from each lane\n            __m128i y_lo = _mm256_extracti128_si256(y_scaled, 0);\n            __m128i y_hi = _mm256_extracti128_si256(y_scaled, 1);\n            _mm_storeu_si128(reinterpret_cast&lt;__m128i*&gt;(dstLineY), y_lo);\n            _mm_storeu_si128(reinterpret_cast&lt;__m128i*&gt;(dstLineY + 6), y_hi);\n\n            // scale\n            __m256i uv_scaled = _mm256_slli_epi16(uv, 6);\n            // write 96 bits from each lane\n            __m128i uv_lo = _mm256_extracti128_si256(uv_scaled, 0);\n            __m128i uv_hi = _mm256_extracti128_si256(uv_scaled, 1);\n            _mm_storeu_si128(reinterpret_cast&lt;__m128i*&gt;(dstLineUV), uv_lo);\n            _mm_storeu_si128(reinterpret_cast&lt;__m128i*&gt;(dstLineUV + 6), uv_hi);\n\n            dstLineY += 12;\n            dstLineUV += 12;\n            srcLine += 8;\n        }\n\n        // Handle last group for the last line as the m128i can overflow\n        if (lineNo == height - 1 &amp;&amp; g &lt; groupsPerLine)\n        {\n            // Load 8 dwords\n            __m256i dwords = _mm256_loadu_si256(reinterpret_cast&lt;const __m256i*&gt;(srcLine));\n\n            // transpose to extract a 10-bit component into a 32bit slot spread across 3 registers\n            __m256i s0_32 = _mm256_and_si256(dwords, mask10);                         // bits 0–9\n            __m256i s1_32 = _mm256_and_si256(_mm256_srli_epi32(dwords, 10), mask10);  // bits 10–19\n            __m256i s2_32 = _mm256_and_si256(_mm256_srli_epi32(dwords, 20), mask10);  // bits 20–29\n\n            // pack down to 16bit and fill the remainder with zeroes\n            __m256i s0_16 = _mm256_packs_epi32(s0_32, zeroes);\n            __m256i s1_16 = _mm256_packs_epi32(s1_32, zeroes);\n            __m256i s2_16 = _mm256_packs_epi32(s2_32, zeroes);\n\n            // shuffle to prepare for blending\n            __m256i s0_16_shuffled = _mm256_shuffle_epi8(s0_16, s0_shuffleMask);\n            __m256i s1_16_shuffled = _mm256_shuffle_epi8(s1_16, s1_shuffleMask);\n            __m256i s2_16_shuffled = _mm256_shuffle_epi8(s2_16, s2_shuffleMask);\n\n            // blend to y and uv\n            __m256i y_tmp = _mm256_blend_epi16(s0_16_shuffled, s1_16_shuffled, y_blend_mask_1);\n            __m256i uv_tmp = _mm256_blend_epi16(s0_16_shuffled, s1_16_shuffled, uv_blend_mask_1);\n            __m256i y = _mm256_blend_epi16(s2_16_shuffled, y_tmp, y_blend_mask_2);\n            __m256i uv = _mm256_blend_epi16(s2_16_shuffled, uv_tmp, uv_blend_mask_2);\n\n            // scale\n            __m256i y_scaled = _mm256_slli_epi16(y, 6);\n            // write 96 bits from each lane\n            __m128i y_lo = _mm256_extracti128_si256(y_scaled, 0);\n            __m128i y_hi = _mm256_extracti128_si256(y_scaled, 1);\n\n            alignas(32) uint16_t tmpY[16] = { 0 };\n            _mm_storeu_si128(reinterpret_cast&lt;__m128i*&gt;(tmpY), y_lo);\n            _mm_storeu_si128(reinterpret_cast&lt;__m128i*&gt;(tmpY + 6), y_hi);\n\n            // scale\n            __m256i uv_scaled = _mm256_slli_epi16(uv, 6);\n            // write 96 bits from each lane\n            __m128i uv_lo = _mm256_extracti128_si256(uv_scaled, 0);\n            __m128i uv_hi = _mm256_extracti128_si256(uv_scaled, 1);\n            alignas(32) uint16_t tmpUV[16] = { 0 };\n            _mm_storeu_si128(reinterpret_cast&lt;__m128i*&gt;(tmpUV), uv_lo);\n            _mm_storeu_si128(reinterpret_cast&lt;__m128i*&gt;(tmpUV + 6), uv_hi);\n\n            // Calculate remaining pixels to avoid writing past the end of the buffer\n            const int remainingPixels = width - g * 12;\n            const size_t bytesToCopy = std::min(24, remainingPixels * 2); // 2 bytes per pixel\n\n            std::memcpy(dstLineY, tmpY, bytesToCopy);\n            std::memcpy(dstLineUV, tmpUV, bytesToCopy);\n\n            dstLineY += 12;\n            dstLineUV += 12;\n            srcLine += 8;\n        }\n    }\n}\n</code></pre>\n"
    },
    {
        "tags": [
            "python",
            "numpy",
            "genfromtxt"
        ],
        "owner": {
            "account_id": 12503894,
            "reputation": 1421,
            "user_id": 9471909,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/1622c4024d30967dc192928b6ef46a30?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user17911",
            "link": "https://stackoverflow.com/users/9471909/user17911"
        },
        "is_answered": true,
        "view_count": 74,
        "answer_count": 3,
        "score": 4,
        "last_activity_date": 1746455356,
        "creation_date": 1746437574,
        "question_id": 79606665,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606665/extract-header-from-the-first-commented-line-in-numpy-via-numpy-genfromtxt",
        "title": "Extract header from the first commented line in NumPy via numpy.genfromtxt",
        "body": "<p>My environment:</p>\n<pre><code>OS: Windows 11\nPython version: 3.13.2\nNumPy version: 2.1.3\n</code></pre>\n<p>According to <a href=\"https://numpy.org/doc/stable/user/basics.io.genfromtxt.html#the-comments-argument\" rel=\"nofollow noreferrer\">NumPy Fundementals</a> guide describing how to use <code>numpy.genfromtxt</code> function:</p>\n<blockquote>\n<p>The optional argument <code>comments</code> is used to define a character string\nthat marks the beginning of a comment. By default, genfromtxt assumes\n<code>comments='#'</code>. The comment marker may occur anywhere on the line. Any\ncharacter present after the comment marker(s) is simply ignored.</p>\n<p><strong>Note: There is one notable exception to this behavior: if the optional argument <code>names=True</code>, the first commented line will be\nexamined for names.</strong></p>\n</blockquote>\n<p>To do a test about the above-mentioned note (indicated in bold), I created the following data file and I put the header line, as a commented line:</p>\n<p><strong>C:\\tmp\\data.txt</strong></p>\n<pre><code>#firstName|LastName\nAnthony|Quinn\nHarry|POTTER\nGeorge|WASHINGTON\n</code></pre>\n<p>And the following program to read and print the content of the file:</p>\n<pre><code>with open(&quot;C:/tmp/data.txt&quot;, &quot;r&quot;, encoding=&quot;UTF-8&quot;) as fd:\n    result = np.genfromtxt(fd,\n                           comments=&quot;#&quot;,\n                           delimiter=&quot;|&quot;,\n                           dtype=str,\n                           names=True,\n                           skip_header=0)\n    print(f&quot;result = {result}&quot;)\n</code></pre>\n<p>But the result is not what I expected:</p>\n<pre><code>result = [('', '') ('', '') ('', '')]\n</code></pre>\n<p>I cannot figure out where is the error in my code and I don't understand why the content of my data file, and in particular, its header line after the comment indicator #, is not interpreted correctly.</p>\n<p>I'd appriciate if you could kindly make some clarification.</p>\n"
    },
    {
        "tags": [
            "android",
            "kotlin",
            "android-jetpack-compose",
            "kotlin-multiplatform"
        ],
        "owner": {
            "account_id": 1120199,
            "reputation": 269,
            "user_id": 1128655,
            "user_type": "registered",
            "accept_rate": 75,
            "profile_image": "https://www.gravatar.com/avatar/ffdb33f164cded12dfeba9f7032b6666?s=256&d=identicon&r=PG",
            "display_name": "Ankur Samarya",
            "link": "https://stackoverflow.com/users/1128655/ankur-samarya"
        },
        "is_answered": false,
        "view_count": 70,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1746519526,
        "creation_date": 1746455092,
        "last_edit_date": 1746500449,
        "question_id": 79607113,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607113/compose-isnt-recomposing-with-the-new-lambda-instance",
        "title": "Compose isn&#39;t recomposing with the new lambda instance?",
        "body": "<p>Can someone please help me in why Bar isn't recomposing with the new lambda instance?</p>\n<p>In this example code, I am creating a new instance of <code>onBarClick</code> every time the state changes.\nSince it's a new instance, the <code>Bar</code> should recompose as well — but it's not.</p>\n<p>I've disabled strong skipping using <code>enableStrongSkippingMode = false</code>.</p>\n<pre><code>@Composable\nfun Foo() {\n    val state = remember {\n        mutableIntStateOf(1)\n    }\n\n    val onBarClick = {}\n\n    Log.d(&quot;logs&quot;, &quot;Foo Recomposition ${onBarClick}&quot; )\n\n    Column {\n        Text(text = &quot;Value ${state.value}&quot;)\n        \n        Bar(onBarClick = onBarClick)\n\n        Button(onClick = { state.value++ }) {\n            Text(text = &quot;Increment&quot;)\n        }\n    }\n}\n\n@Composable\nfun Bar(onBarClick: () -&gt; Unit) {\n    Log.d(&quot;logs&quot;, &quot;Bar Recomposition&quot; )\n    Button(onClick = onBarClick) {\n        Text(text = &quot;Dummy Button&quot;)\n    }\n}\n</code></pre>\n<p>I have already checked that possibility, it is not converting into a singleton.</p>\n<p>logs:</p>\n<p><a href=\"https://i.sstatic.net/cnH5MVgY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/cnH5MVgY.png\" alt=\"logs of logcat\" /></a></p>\n"
    },
    {
        "tags": [
            "c++",
            "macos",
            "zsh",
            "macos-sequoia"
        ],
        "owner": {
            "account_id": 4726174,
            "reputation": 183,
            "user_id": 3822741,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://www.gravatar.com/avatar/5f6c73ed746889b9259901231a8db89c?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "annethereshewent",
            "link": "https://stackoverflow.com/users/3822741/annethereshewent"
        },
        "is_answered": true,
        "view_count": 62,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1746501587,
        "creation_date": 1746497921,
        "last_edit_date": 1746498374,
        "question_id": 79607878,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607878/macos-sequoia-15-4-1-compiled-c-binary-instantly-killed-on-run-zsh-killed",
        "title": "macOS Sequoia 15.4.1: Compiled C++ binary instantly killed on run (zsh: killed)",
        "body": "<p>I recently upgraded to Sequoia 15.4.1 on my Macbook, and now I'm running into an issue where even trivial c++ binaries get automatically killed by the operating system. Here is the trivial c++ file:</p>\n<pre><code>#include &lt;iostream&gt;\n\nint main() {\n    std::cout &lt;&lt; &quot;test!\\n&quot;;\n\n    return 0;\n}\n</code></pre>\n<p>When I run <code>g++ test.cpp &amp;&amp; ./a.out</code> I get the following error:</p>\n<pre><code>% ./a.out\nzsh: killed     ./a.out\n</code></pre>\n<p>I thought it was because a.out wasn't signed, but that doesn't seem to be the case. My trivial C++ program just gets killed without any explanation.</p>\n<p>Has anyone run into this recently? It started happening after I upgraded my OS so I think it has to do with the new MacOS version.</p>\n"
    },
    {
        "tags": [
            "c",
            "enums",
            "scope",
            "enumeration",
            "c17"
        ],
        "owner": {
            "account_id": 26731573,
            "reputation": 139,
            "user_id": 28451805,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/4738c5533252f6fa1e3d90556b88999f?s=256&d=identicon&r=PG",
            "display_name": "Cinverse",
            "link": "https://stackoverflow.com/users/28451805/cinverse"
        },
        "is_answered": true,
        "view_count": 95,
        "accepted_answer_id": 79608239,
        "answer_count": 2,
        "score": 4,
        "last_activity_date": 1746523739,
        "creation_date": 1746517138,
        "last_edit_date": 1746519798,
        "question_id": 79608204,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79608204/what-is-the-difference-between-an-enumeration-constant-and-an-enumerator",
        "title": "What is the difference between an enumeration constant and an enumerator?",
        "body": "<p>In C17's final draft N2176,</p>\n<p>in the 1st paragraph of 6.2.1 it says</p>\n<blockquote>\n<p>member of an enumeration is called an enumeration constant.</p>\n</blockquote>\n<p>in the 7th paragraph 6.2.1 it says</p>\n<blockquote>\n<p>Each enumeration constant has scope that begins just after the appearance of its defining enumerator in an enumerator list.</p>\n</blockquote>\n<p>Now consider this example code:</p>\n<pre><code>enum days\n{\n    MONDAY,\n    TUESDAY,\n    WEDNESDAY,\n    THURSDAY,\n    FRIDAY,\n    SATURDAY\n};\n</code></pre>\n<ol>\n<li>In the above code, the symbols <code>MONDAY</code>, <code>TUESDAY</code>, etc are the <code>enumerator</code>s and the values 0, 1, 2, 3, 4, and 5 are <code>enumeration constant</code>s, right?</li>\n<li>If yes, then what does the <code>scope of an enumeration constant</code> mean? (I interpret the phrase <code>scope of an enumeration constant</code> as the scope of an integer constant in the enumeration list, say 0, which is not making sense. The phrase <code>scope of an enumerator</code> makes more sense to me).</li>\n</ol>\n<p>Please explain the distinction between an <code>enumeration constant</code> and an <code>enumerator</code>.</p>\n"
    },
    {
        "tags": [
            "php",
            "drupal"
        ],
        "owner": {
            "account_id": 41811274,
            "reputation": 41,
            "user_id": 30460071,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/61cf87d4e7e0a8e2a26a645020e0f911?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Nicolas",
            "link": "https://stackoverflow.com/users/30460071/nicolas"
        },
        "is_answered": true,
        "view_count": 41,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1746525160,
        "creation_date": 1746522491,
        "last_edit_date": 1746522588,
        "question_id": 79608354,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79608354/preprocessing-function-never-called",
        "title": "Preprocessing function never called",
        "body": "<p>I'm very new Drupal Developer, and I would like to know why some of my preprocess function are never called.\nAt the beginning, I only used one single preprocess function.</p>\n<pre><code>// Before\nfunction my_theme_preprocess_paragraph(array &amp;$variables): void {\n  if ($variables['paragraph']-&gt;bundle() == 'cta') {\n    ...\n  }\n}\n\n// Now\nfunction my_theme_preprocess_paragraph__cta(array &amp;$variables): void { \n  ...\n}\n</code></pre>\n<p>I'd like to change the organization, so that I don't have one big function, but several small ones. But the function I use now is never called by Drupal.</p>\n<p>I've checked the machine names of my paragraphs as well as my file call, and everything seems to work correctly on this side. I've also cleared the cache several times using the <strong>drush cr</strong> command.</p>\n<p>Anyone knows how fix it ?</p>\n<p>Thanks</p>\n"
    },
    {
        "tags": [
            "c++",
            "namespaces",
            "c++-concepts"
        ],
        "owner": {
            "account_id": 2927056,
            "reputation": 12837,
            "user_id": 2508150,
            "user_type": "registered",
            "accept_rate": 89,
            "profile_image": "https://www.gravatar.com/avatar/6213045ef38ad15e90df7f6d7909f549?s=256&d=identicon&r=PG",
            "display_name": "Paolo M",
            "link": "https://stackoverflow.com/users/2508150/paolo-m"
        },
        "is_answered": false,
        "view_count": 101,
        "answer_count": 1,
        "score": 4,
        "last_activity_date": 1746537353,
        "creation_date": 1746525354,
        "last_edit_date": 1746536974,
        "question_id": 79608435,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79608435/requires-expressions-and-function-namespaces",
        "title": "`requires` expressions and function namespaces",
        "body": "<p>How can I define a C++ constraint that involves a namespace-specified function? <a href=\"https://godbolt.org/z/Ts77KTYdj\" rel=\"nofollow noreferrer\">Example</a>:</p>\n<pre><code>template&lt;typename T&gt;\nconcept C = requires(T t) {\n    { N::foo(t) } -&gt; std::same_as&lt;void&gt;;\n};\n\nstruct S {};\n\nnamespace N {\n    void foo(S) {}\n}\n\nstatic_assert(C&lt;S&gt;);\n</code></pre>\n<p>The requirements are that <code>S</code> must be in the global namespace, whereas <code>foo</code> must be within <code>N</code>.</p>\n<p><em>Conceptually</em> (pun intended), <code>S</code> <em>does fulfil</em> concept <code>C</code>. But the code is not compiling because <code>N::</code> does not make sense to the compiler when the concept is defined. And of course, fwd-declaring <code>void foo(S)</code> in the namespace <code>N</code> before the concept definition is not an option, because I can't know type <code>S</code> in advance. What am I missing here?</p>\n<p>EDIT: note that concept <code>C</code> can belong to whatever namespace. I've tried to define it within <code>N</code>, but that doesn't help.</p>\n"
    },
    {
        "tags": [
            "sql-server",
            "entity-framework",
            "triggers"
        ],
        "migrated_to": {
            "other_site": {
                "styling": {
                    "tag_background_color": "#FFF",
                    "tag_foreground_color": "#000",
                    "link_color": "#0077CC"
                },
                "related_sites": [
                    {
                        "relation": "meta",
                        "api_site_parameter": "dba.meta",
                        "site_url": "https://dba.meta.stackexchange.com",
                        "name": "Database Administrators Meta Stack Exchange"
                    },
                    {
                        "relation": "chat",
                        "site_url": "https://chat.stackexchange.com?tab=site&host=dba.stackexchange.com",
                        "name": "Chat Stack Exchange"
                    }
                ],
                "markdown_extensions": [
                    "Prettify"
                ],
                "launch_date": 1313521200,
                "open_beta_date": 1294686000,
                "closed_beta_date": 1294081200,
                "site_state": "normal",
                "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/dba/Img/apple-touch-icon@2.png",
                "favicon_url": "https://cdn.sstatic.net/Sites/dba/Img/favicon.ico",
                "icon_url": "https://cdn.sstatic.net/Sites/dba/Img/apple-touch-icon.png",
                "audience": "database professionals who wish to improve their database skills and learn from others in the community",
                "site_url": "https://dba.stackexchange.com",
                "api_site_parameter": "dba",
                "logo_url": "https://cdn.sstatic.net/Sites/dba/Img/logo.png",
                "name": "Database Administrators",
                "site_type": "main_site"
            },
            "on_date": 1746318641,
            "question_id": 346386
        },
        "owner": {
            "account_id": 23748126,
            "reputation": 41,
            "user_id": 17765236,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/b9cc326d5a55fbe9c742eff80cc5b56c?s=256&d=identicon&r=PG",
            "display_name": "mrigrek74",
            "link": "https://stackoverflow.com/users/17765236/mrigrek74"
        },
        "is_answered": false,
        "view_count": 33,
        "closed_date": 1746318641,
        "answer_count": 0,
        "score": 3,
        "locked_date": 1746318641,
        "last_activity_date": 1746288762,
        "creation_date": 1746288345,
        "last_edit_date": 1746288762,
        "question_id": 79604877,
        "link": "https://stackoverflow.com/questions/79604877/the-trigger-of-cascading-table-is-not-firing-when-the-output-clause-added-to-the",
        "closed_reason": "Not suitable for this site",
        "title": "The trigger of cascading table is not firing when the OUTPUT clause added to the delete query",
        "body": "<p>I have 2 tables with the cascade delete rule -\n<code>[dbo].[Invoices]</code> and <code>[dbo].[InvoiceRows]</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE [dbo].[Invoices]\n(\n    [InvoiceId] [int] IDENTITY(1,1) NOT NULL,\n    --other columns\n\n    CONSTRAINT [PK_Invoices] \n        PRIMARY KEY CLUSTERED ([InvoiceId] ASC)\n)\nGO\n\nCREATE TABLE [dbo].[InvoiceRows]\n(\n    [InvoiceRowId] [int] IDENTITY(1,1) NOT NULL,\n    [ProductId] [int] NOT NULL,\n    [Price] [money] NOT NULL,\n    [Quantity] [int] NOT NULL,\n    [InvoiceId] [int] NOT NULL\n    --other columns\n\n    CONSTRAINT [PK_InvoiceRows] \n        PRIMARY KEY CLUSTERED ([InvoiceRowId] ASC)\n)\n\nALTER TABLE [dbo].[InvoiceRows] WITH CHECK \n    ADD CONSTRAINT [FK_InvoiceRows_Invoices] \n        FOREIGN KEY([InvoiceId]) REFERENCES [dbo].[Invoices] ([InvoiceId])\n             ON UPDATE CASCADE ON DELETE CASCADE\nGO\n\nALTER TABLE [dbo].[InvoiceRows] CHECK CONSTRAINT [FK_InvoiceRows_Invoices]\nGO\n</code></pre>\n<p><a href=\"https://i.sstatic.net/2roWnuM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/2roWnuM6.png\" alt=\"enter image description here\" /></a></p>\n<p>I want any change in the <code>[dbo].[InvoiceRows]</code> to cause a recalculation of some register.</p>\n<p>For this I added triggers:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TRIGGER [dbo].[TrInvoiceRows_Delete_UpdateProductRegister]\nON [dbo].[InvoiceRows]\nAFTER DELETE\nAS \nBEGIN\n    SET NOCOUNT ON;\n\n    PRINT 'TRIGGER Tr_InvoiceRows_Delete_UpdateProductRegister fired'\n    \n    --trigger logic\nEND\n</code></pre>\n<p>All triggers work fine when I work directly with <code>[dbo].[InvoiceRows]</code>. The triggers work fine also when I delete <code>[dbo].[Invoices]</code> using SSMS</p>\n<p>But recently I noticed that deleting <code>[dbo].[Invoices]</code> using Entity Framework generates the following code and the trigger IS NOT FIRED.\nThat is there is no any errors. Just ignoring the trigger</p>\n<pre class=\"lang-sql prettyprint-override\"><code>EXEC sp_executesql N'SET IMPLICIT_TRANSACTIONS OFF; SET NOCOUNT ON; DELETE FROM [Invoices]\nOUTPUT 1 WHERE [InvoiceId] = @p0; ',N'@p0 int',@p0=19936\n</code></pre>\n<p>I noticed that the problem is OUTPUT 1 and compared to queries.</p>\n<p><a href=\"https://i.sstatic.net/Z4ib3OmS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Z4ib3OmS.png\" alt=\"enter image description here\" /></a></p>\n<p>I realize that I have many options to fire trigger on the application side (do not use EF or delete the cascade table rows firstly)</p>\n<p>But I want to know if it is possible to solve the problem on the SQL  Server side? That is make cascading table delete trigger always fire without any surprises</p>\n"
    },
    {
        "tags": [
            "firebase",
            "react-native",
            "expo"
        ],
        "owner": {
            "account_id": 18249358,
            "reputation": 66,
            "user_id": 13284707,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/48a2461d08856e65adf7243a6a9f458c?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Benji",
            "link": "https://stackoverflow.com/users/13284707/benji"
        },
        "is_answered": false,
        "view_count": 94,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746366615,
        "creation_date": 1746293526,
        "last_edit_date": 1746296265,
        "question_id": 79604956,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604956/react-native-expo-53-firebase-auth-value-of-type-string-has-no-member-tol",
        "title": "React Native expo 53 + Firebase Auth: value of type &#39;String?&#39; has no member &#39;toLowerCase&#39;",
        "body": "<p>I'm trying to build an Expo (SDK 53, with Expo's managed workflow) react native app with native firebase authentication, for Ios.\nBut I get this error:</p>\n<blockquote>\n<p>Error: The &quot;Run fastlane&quot; step failed because of an error in the Xcode\nbuild process. We automatically detected following errors in your\nXcode build logs:</p>\n<ul>\n<li>value of type 'String?' has no member 'toLowerCase' Refer to &quot;Xcode Logs&quot; below for additional, more detailed logs.</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>(ios/blokklymobile/AppDelegate.swift:46:17)</p>\n<p>44 |   ) -&gt; Bool {   45 | // @generated begin\n@react-native-firebase/auth-openURL - expo prebuild (DO NOT MODIFY)<br />\n46 |     if url.host.toLowerCase() == &quot;firebaseauth&quot; {\n|                 ^ value of type 'String?' has no member 'toLowerCase'   47 |       // invocations for Firebase Auth are\nhandled elsewhere and should not be forwarded to Expo Router   48 |<br />\nreturn false   49 |     }</p>\n</blockquote>\n<p>From what I have understood 'toLowerCase()' should be 'lowercased()'. But what can I do about that, I guess this is from the firebase plugin?</p>\n<p>My plugins and dependencies:</p>\n<pre><code> &quot;plugins&quot;: [\n  &quot;@react-native-firebase/app&quot;,\n  &quot;@react-native-firebase/auth&quot;,\n  [\n    &quot;expo-build-properties&quot;,\n    {\n      &quot;ios&quot;: {\n        &quot;useFrameworks&quot;: &quot;static&quot;\n      }\n    }\n  ], \n</code></pre>\n<pre><code>&quot;dependencies&quot;: {\n    &quot;@react-native-firebase/app&quot;: &quot;^22.1.0&quot;,\n    &quot;@react-native-firebase/auth&quot;: &quot;^22.1.0&quot;,\n    &quot;axios&quot;: &quot;^1.9.0&quot;,\n    &quot;expo&quot;: &quot;~53.0.5&quot;,\n    &quot;react&quot;: &quot;19.0.0&quot;,\n    &quot;react-native&quot;: &quot;0.79.2&quot;,\n  },\n</code></pre>\n<ul>\n<li>I've tried downgrading to expo 52, and to previous firebase versions</li>\n<li>I tried this fix that I found online but it didn't work:</li>\n</ul>\n<pre><code>[ &quot;expo-build-properties&quot;, { \n    &quot;ios&quot;: {\n        &quot;useFrameworks&quot;: &quot;static&quot;,\n        &quot;extraPods&quot;: [\n            { &quot;name&quot;: &quot;FirebaseAppCheckInterop&quot;, &quot;version&quot;: &quot;= 10.21.0&quot; },\n            { &quot;name&quot;: &quot;FirebaseAuthInterop&quot;, &quot;version&quot;: &quot;= 10.21.0&quot; },\n            { &quot;name&quot;: &quot;FirebaseCoreExtension&quot;, &quot;version&quot;: &quot;= 10.21.0&quot; },\n            { &quot;name&quot;: &quot;FirebaseCoreInternal&quot;, &quot;version&quot;: &quot;= 10.21.0&quot; },\n            { &quot;name&quot;: &quot;FirebaseFirestoreInternal&quot;, &quot;version&quot;: &quot;= 10.21.0&quot; },\n            { &quot;name&quot;: &quot;FirebaseInstallations&quot;, &quot;version&quot;: &quot;= 10.21.0&quot; },\n            { &quot;name&quot;: &quot;FirebaseMessagingInterop&quot;, &quot;version&quot;: &quot;= 10.21.0&quot; },\n            { &quot;name&quot;: &quot;FirebaseSharedSwift&quot;, &quot;version&quot;: &quot;= 10.21.0&quot; },\n            { &quot;name&quot;: &quot;GoogleUtilities&quot;, &quot;version&quot;: &quot;= 7.12.0&quot; },\n            { &quot;name&quot;: &quot;PromisesObjC&quot;, &quot;version&quot;: &quot;= 2.3.1&quot; },\n            { &quot;name&quot;: &quot;leveldb-library&quot;, &quot;version&quot;: &quot;= 1.22.3&quot; }\n        ]\n    }\n}] \n</code></pre>\n<p>Do I have to wait for some firebase update?</p>\n"
    },
    {
        "tags": [
            "c++",
            "conan-2"
        ],
        "owner": {
            "account_id": 4466577,
            "reputation": 7016,
            "user_id": 3634032,
            "user_type": "registered",
            "accept_rate": 71,
            "profile_image": "https://i.sstatic.net/tn8TR.jpg?s=256",
            "display_name": "Sam Herrmann",
            "link": "https://stackoverflow.com/users/3634032/sam-herrmann"
        },
        "is_answered": true,
        "view_count": 62,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746490460,
        "creation_date": 1746324895,
        "question_id": 79605243,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605243/can-i-tell-conan-about-which-glibcxx-versions-are-supported-in-my-environment",
        "title": "Can I tell Conan about which GLIBCXX versions are supported in my environment?",
        "body": "<p>I am using Conan (version 2.15.1) to install Boost in a Debian Bullseye Docker container. I am able to do that successfully with the command <code>conan install --build &quot;*&quot; .</code> (<a href=\"https://docs.conan.io/2/reference/commands/install.html\" rel=\"nofollow noreferrer\">build everything from source</a>). However, if I use the command <code>conan install --build missing .</code> (build packages from source whose binary package is not found) I get the following error:</p>\n<pre><code>b2: /usr/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.29' not found (required by b2)\nboost/1.81.0: ERROR: \nPackage '05dfec083bf58cba12a79d642bb5802f477d797e' build failed\nERROR: boost/1.81.0: Error in build() method, line 1167\n        self.run(full_command)\n        ConanException: Error 1 while executing\n</code></pre>\n<p>This error suggests to me that Conan downloaded a binary package that is not actually compatible with my environment. I am currently using the auto-detected <a href=\"https://docs.conan.io/2/reference/config_files/profiles.html\" rel=\"nofollow noreferrer\">profile</a> which looks as follows:</p>\n<pre><code>[settings]\narch=x86_64\nbuild_type=Release\ncompiler=gcc\ncompiler.cppstd=gnu14\ncompiler.libcxx=libstdc++11\ncompiler.version=10\nos=Linux\n</code></pre>\n<p>Is there a way that I can tell Conan about which <code>GLIBCXX</code> versions are supported in my environment? Is there a profile setting that I am overlooking? It's perfectly acceptable if <a href=\"https://conan.io/center\" rel=\"nofollow noreferrer\">ConanCenter</a> doesn't have a compatible binary and the package needs to be built from source. My reason for wanting to switch from <code>--build &quot;*&quot;</code> to <code>--build missing</code> is because the former rebuilds from source on all subsequent builds when a previously built binary is available in the local cache, which is undesirable.</p>\n"
    },
    {
        "tags": [
            "matplotlib"
        ],
        "owner": {
            "account_id": 38106270,
            "reputation": 33,
            "user_id": 30439559,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/fc6b17ca5c8471411418185a99ec5e40?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "adweewgwgww",
            "link": "https://stackoverflow.com/users/30439559/adweewgwgww"
        },
        "is_answered": true,
        "view_count": 63,
        "accepted_answer_id": 79606807,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1746443958,
        "creation_date": 1746337227,
        "question_id": 79605316,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605316/is-it-possible-to-plot-a-very-large-number-of-data-on-matplotlib",
        "title": "Is it possible to plot a very large number of data on matplotlib?",
        "body": "<p>I am currently facing a problem which ask me to plot the Earth's location over a very long time (over 10000 days).</p>\n<p>I am using astroquery to get the location of Earth. I have decided to plot the location of Earth every day and making them into a graph. Is this possible or should I plot the location every 10-days or more to decrease the number of computations?</p>\n<pre><code>from astroquery.jplhorizons import Horizons\nfrom astropy.time import Time\n\ntau = Time(&quot;1986-08-06 11:08:00&quot;).jd  # for not confusing with the previous tau\nEarth_location = 3  # code for Earth barycentre\norigin = &quot;500@0&quot;  # code for solar system barycentre\nreal_earth_position = []\nnp.set_printoptions(threshold=sys.maxsize)\nD=1000\nfor i in range(0,D,1):\n    t = tau + i\n    query_earth = Horizons(id=Earth_location,location=origin, epochs=t)\n    vec_earth = query_earth.vectors() \n    x_e = vec_earth[&quot;x&quot;][0] #For Earth\n    y_e = vec_earth[&quot;y&quot;][0]\n    z_e = vec_earth[&quot;z&quot;][0]\n    real_earth_position.append([x_e, y_e, z_e])\n    \n    ax.scatter(x_e,y_e,z_e,label=f&quot;Position at {t}&quot;)\n    \nreal_earth_position = np.array(real_earth_position)\n</code></pre>\n<p>this is the code I have tried, but I notice that this takes about a second to create a new vector, so if D is 1000 it takes minutes to produce all vectors that I need. Is it possible to make it generate faster?</p>\n"
    },
    {
        "tags": [
            "tcl",
            "io-redirection"
        ],
        "owner": {
            "account_id": 29842564,
            "reputation": 99,
            "user_id": 22870381,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocKk5wdSLwcEXOHZM2I7xC0dHRkJziTGqy9-yi_ObXSL=k-s256",
            "display_name": "JS0",
            "link": "https://stackoverflow.com/users/22870381/js0"
        },
        "is_answered": true,
        "view_count": 36,
        "accepted_answer_id": 79605502,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746353468,
        "creation_date": 1746348896,
        "question_id": 79605444,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605444/tcl-tee-stderr-to-a-file",
        "title": "Tcl, tee stderr to a file",
        "body": "<p>I'm writing a <strong>Tcl 8.6</strong> script that needs to be portable across both <strong>Windows and Linux</strong>.</p>\n<p>We want to capture the content written to stderr by the rest of the program, and simultaneously write it to a file (like what <strong>tee</strong> is doing).</p>\n<p>My environment cannot install any external package, we need to implement it by our own.</p>\n<p>AI gives me this:</p>\n<pre><code>chan create write TeeFilter {\n    variable log\n    constructor {path} {\n        set log [open $path w]\n        chan configure $log -buffering none\n    }\n    method write {data} {\n        puts -nonewline $chan $data\n        puts -nonewline $log $data\n    }\n    method finalize {} {\n        close $log\n    }\n}\nchan push stderr [TeeFilter new &quot;captured_stderr.txt&quot;]\n</code></pre>\n<p>It does not work.</p>\n<blockquote>\n<p>ERROR : ERR (1) : wrong # args: should be &quot;chan create mode cmdprefix&quot;</p>\n</blockquote>\n<p>I've tried many AI suggestions, but none worked.\nBeen stuck for hours...</p>\n<p>Could someone please show me how to implement this?\nShort and clear is preferred.</p>\n<p>I'd really appreciate your help — I no longer trust AI answers on this.</p>\n"
    },
    {
        "tags": [
            "c",
            "windows",
            "winapi",
            "io"
        ],
        "owner": {
            "account_id": 15251234,
            "reputation": 79,
            "user_id": 11004513,
            "user_type": "registered",
            "profile_image": "https://lh5.googleusercontent.com/-LrCVsCi8Doc/AAAAAAAAAAI/AAAAAAAAAiM/erRlfHwBrnU/photo.jpg?sz=256",
            "display_name": "August sinyukov",
            "link": "https://stackoverflow.com/users/11004513/august-sinyukov"
        },
        "is_answered": true,
        "view_count": 119,
        "accepted_answer_id": 79605593,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746360059,
        "creation_date": 1746349286,
        "question_id": 79605450,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605450/is-there-a-64-bit-version-of-read-or-read",
        "title": "is there a 64 bit version of _read() or read()?",
        "body": "<p>_read() and read() 3rd argument (_MaxCharCount) is unsigned int, which limits the read to 2GB, is there a version that uses a 64 bit third argument? because there is _lseeki64 so doesnt make sense why no 64 bit read function.</p>\n"
    },
    {
        "tags": [
            "react-native",
            "expo",
            "appwrite",
            "expo-go",
            "react-native-turbomodule"
        ],
        "owner": {
            "account_id": 15816881,
            "reputation": 133,
            "user_id": 11412349,
            "user_type": "registered",
            "profile_image": "https://lh5.googleusercontent.com/-L-DCAhgRyBU/AAAAAAAAAAI/AAAAAAAAAEc/ky2H1J0MwEY/photo.jpg?sz=256",
            "display_name": "Rezarak SL",
            "link": "https://stackoverflow.com/users/11412349/rezarak-sl"
        },
        "is_answered": false,
        "view_count": 96,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1746370039,
        "creation_date": 1746349514,
        "question_id": 79605451,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605451/expo53-upgrade-turbomodules-with-appwrite-issue",
        "title": "Expo53 Upgrade Turbomodules with Appwrite Issue",
        "body": "<p>I have an app with React Native and Expo. I would like to continue developing with expo go, however since the new architecture is always enabled in expo go and hence the turbomodules are also always enabled I get the error:</p>\n<p><code>ERROR  Invariant Violation: TurboModuleRegistry.getEnforcing(...): 'PlatformConstants' could not be found. Verify that a module by this name is registered in the native binary., js engine: hermes. </code></p>\n<p>I'm pretty sure it has to do something with my Database Provider Appwrite since I also get this error and all my appwrite functionality isn't working anymore since the upgrade to expo 53:</p>\n<p><code>ERROR  Error fetching markers from database: [Error: Failed to fetch JSON data in bounds: Cannot read property 'OS' of undefined]</code></p>\n<p>Do you have any leads as to what I can do to continue developmemt?\nIf you need any further information i can provide it. Thanks for the help!</p>\n"
    },
    {
        "tags": [
            "uml",
            "use-case",
            "use-case-diagram"
        ],
        "owner": {
            "account_id": 41737178,
            "reputation": 53,
            "user_id": 30427317,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/JplgiU32.jpg?s=256",
            "display_name": "Sabine Meijran",
            "link": "https://stackoverflow.com/users/30427317/sabine-meijran"
        },
        "is_answered": false,
        "view_count": 52,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1746529681,
        "creation_date": 1746351648,
        "question_id": 79605482,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605482/generalization-include-or-exclude",
        "title": "Generalization, include or exclude",
        "body": "<p>I am wondering. In my book OCUP 2 Certification Guide, there is this following example about a use case generalization relationship.<br />\n<a href=\"https://i.sstatic.net/TxwpV4Jj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/TxwpV4Jj.png\" alt=\"enter image description here\" /></a></p>\n<p>Am I wrong that I do not see this as a generalization-relationship? A pay by cash does not feel like a &quot;kind-of&quot; pay overdue fine, but more like a extend or include? What do you think about it?</p>\n"
    },
    {
        "tags": [
            "angular",
            "server-side-rendering"
        ],
        "owner": {
            "account_id": 6915259,
            "reputation": 31,
            "user_id": 5309790,
            "user_type": "registered",
            "profile_image": "https://graph.facebook.com/10206048536705855/picture?type=large",
            "display_name": "Tilli85",
            "link": "https://stackoverflow.com/users/5309790/tilli85"
        },
        "is_answered": true,
        "view_count": 56,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746363411,
        "creation_date": 1746361572,
        "last_edit_date": 1746361764,
        "question_id": 79605609,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605609/nullinjectorerror-no-provider-for-injectiontoken",
        "title": "NullInjectorError: No provider for InjectionToken",
        "body": "<p>I am using an <strong>Angular 19 Workspace with SSR/SSG</strong>.</p>\n<p>I have a service in a library, that uses an Injection Token (from the App):</p>\n<p><strong>Service in Library:</strong></p>\n<pre><code>import { inject, Injectable } from '@angular/core';\nimport { STORAGE_BASE_URL } from '../tokens';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ContentService {\n  private readonly _storageBaseUrl = inject(STORAGE_BASE_URL);\n\n  getStorageBaseUrl(): string {\n    return this._storageBaseUrl;\n  }\n}\n</code></pre>\n<p><strong>tokens.ts in Library:</strong></p>\n<pre><code>import { InjectionToken } from '@angular/core';\n\nexport const STORAGE_BASE_URL = new InjectionToken&lt;string&gt;('storageBaseUrl');\n</code></pre>\n<p><strong>app.config.ts in App:</strong></p>\n<pre><code>import { environment } from '../environments/environment';\n\nexport const appConfig: ApplicationConfig = {\n  providers: [\n    // [...]\n    { provide: 'STORAGE_BASE_URL', useValue: environment.storageBaseUrl },\n  ],\n};\n</code></pre>\n<p>The <strong>app.config.server.ts</strong> gets this as well via:</p>\n<pre><code>export const config = mergeApplicationConfig(appConfig, serverConfig);\n</code></pre>\n<p><strong>environment.ts in App:</strong></p>\n<pre><code>export const environment = {\n  storageBaseUrl: 'https://foo',\n};\n</code></pre>\n<p>When I try to use the Service (<code>import { ContentService } from 'SharedLib'</code>); in the App I receive this error on <code>ng serve</code> after a short delay:</p>\n<pre><code>NullInjectorError: No provider for InjectionToken storageBaseUrl!\n</code></pre>\n<p>How can I solve the problem and why is there no provider?</p>\n<p>Thank you in advance!</p>\n"
    },
    {
        "tags": [
            "c++",
            "std",
            "template-meta-programming",
            "sfinae",
            "declval"
        ],
        "owner": {
            "account_id": 5825733,
            "reputation": 51,
            "user_id": 4592211,
            "user_type": "registered",
            "profile_image": "https://lh6.googleusercontent.com/-NP_C6iskrX4/AAAAAAAAAAI/AAAAAAAAAJ0/gJtlU701oKQ/photo.jpg?sz=256",
            "display_name": "Gemini Em",
            "link": "https://stackoverflow.com/users/4592211/gemini-em"
        },
        "is_answered": true,
        "view_count": 70,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1746492547,
        "creation_date": 1746386350,
        "last_edit_date": 1746426821,
        "question_id": 79605971,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79605971/cannot-detect-protected-base-class-method-with-sfinae",
        "title": "Cannot detect protected base class method with SFINAE",
        "body": "<p>I attempted the following approach using c++ SFINAE and <code>std::declval</code> to find if there exists the proper method in a base class, that can be called from the derived class. The derived class gets the base class from a template parameter. This works for a public method in the base class but not a protected method. Ideally I would prefer to keep the method I'm checking for protected. Here is the simplified code</p>\n<pre><code>template &lt;class Base&gt;\nclass Derived : public Base {\n\n  // SFINAE tester to find existence of foo (only works with public foo methods)\n  template &lt;class Type&gt;\n  static auto test_foo(int) -&gt; decltype(std::declval&lt;Type&gt;().foo(std::declval&lt;Bar&amp;&gt;()), std::true_  type());\n  template &lt;class&gt;\n  static auto test_foo(...) -&gt; std::false_type;\n  using has_foo = decltype(test_foo&lt;Base&gt;(0));\n\n  // using the has_foo constexpr\n  void process_bar(Bar&amp; bar) {\n    if constexpr (has_foo{})\n      Base::foo(bar);\n    ...\n  }\n};\n</code></pre>\n<p>Is there a way to transform this so that it can access the protected member of the base class while using declval (I think using <code>std::declval&lt;Base&gt;</code> might be making it so that it doesn't have access to the protected members of <code>Base</code> despite inheriting from it). Any help is appreciated, thanks!</p>\n"
    },
    {
        "tags": [
            "c++",
            "c++20",
            "c++-chrono"
        ],
        "owner": {
            "account_id": 280919,
            "reputation": 222150,
            "user_id": 576911,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=256&d=identicon&r=PG",
            "display_name": "Howard Hinnant",
            "link": "https://stackoverflow.com/users/576911/howard-hinnant"
        },
        "is_answered": true,
        "view_count": 66,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746390370,
        "creation_date": 1746390370,
        "question_id": 79606021,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606021/user-written-time-zones-in-c-with-fixed-offset",
        "title": "user-written time zones in C++ with fixed offset",
        "body": "<p>I have a UTC offset that is not known until run-time, and is not necessarily an\nintegral number of hours.  The IANA time zone\ndatabase isn't a good match for this.</p>\n<p>What is the simplest user-written time zone that can handle this?</p>\n"
    },
    {
        "tags": [
            "c",
            "enums",
            "switch-statement",
            "refactoring",
            "union"
        ],
        "owner": {
            "account_id": 31792141,
            "reputation": 63,
            "user_id": 24606607,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/91ff6f22cdb4b00d68b409d47df9d344?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Andrey Dorofeev",
            "link": "https://stackoverflow.com/users/24606607/andrey-dorofeev"
        },
        "is_answered": true,
        "view_count": 87,
        "accepted_answer_id": 79607104,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1746465509,
        "creation_date": 1746394268,
        "last_edit_date": 1746398254,
        "question_id": 79606084,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606084/replacement-for-using-switch-on-enum-value-to-access-struct-union-data-member",
        "title": "Replacement for using switch on enum value to access struct/union data member",
        "body": "<p>I'm writing an emulator of a custom ISA 16-bit processor that has instructions with operands of different sizes in C (C23 standard). In my code, I use enum members to indicate the size of the operands, and unions to model registers like the following code fragments show:</p>\n<pre><code>// Registers and other 8/16/(maybe 32/64 too) addressable areas. \ntypedef union Cell16 {\n  unsigned char  sz8;\n  unsigned short sz16;\n  // unsigned long sz32;\n  // unsigned long long sz64;\n} Cell16;\n</code></pre>\n<pre><code>// Represents supported operand size.\ntypedef enum Op_sz {\n  Op_sz8  = 8,\n  Op_sz16 = 16,\n  // Op_sz32 = 32, // Unsupported (for now).\n  // Op_sz64 = 64  // Unsupported (for now).\n} Op_sz;\n</code></pre>\n<p>I end up frequently using switches on operand size enum values like this (example from MOV handler):</p>\n<pre><code>switch (LAYOUT(d)) {\n    case Ops_layout_Reg2:\n      switch (SZ_L(d)) {\n        case Op_sz8:  REG_L(s,d).sz8 = REG_R(s,d).sz8;   break;\n        case Op_sz16: REG_L(s,d).sz16 = REG_R(s,d).sz16; break;\n        default: return EXEC_ERROR_INVALID_OP_SZ;\n      }\n      break;\n    case Ops_layout_RegImm:\n      switch (SZ_L(d)) {\n        case Op_sz8:  REG_L(s,d).sz8 = IMM1(d).sz8;   break;\n        case Op_sz16: REG_L(s,d).sz16 = IMM1(d).sz16; break;\n        default: return EXEC_ERROR_INVALID_OP_SZ;\n      }\n      break;\n    case Ops_layout_Imm2:\n    case Ops_layout_ImmReg:\n    default: return EXEC_ERROR_INVALID_3ADDR_OPS_LAYOUT;\n  }\n</code></pre>\n<p>I used macros just to make the code shorter; they are defined as follows and provide access to some fields of the <code>decoder_output d</code> and <code>state s</code>:</p>\n<pre><code>#define SZ_L(d)     d-&gt;fmt3.sz_left // type is Op_sz\n#define SZ_R(d)     d-&gt;fmt3.sz_right // type is Op_sz\n#define LAYOUT(d)   d-&gt;fmt3.layout\n#define REG_L(s,d)  s-&gt;GP_regs.raw[d-&gt;reg_ids.left] // type is Cell16\n#define REG_R(s,d)  s-&gt;GP_regs.raw[d-&gt;reg_ids.right] // type is Cell16\n#define IMM1(d)     d-&gt;imm1 // type is Cell16\n</code></pre>\n<p>The problem is that using these switches is tedious and makes the code ugly. Is there some language feature that can map enum values to assignments of data members of the same sizes? Is there some way to use the preprocessor to encapsulate these switches into a macro?</p>\n<p>I haven't found any comfortable way to use preprocessor.\nI thought that maybe having some mapping array like <code>static void (*map[])(void)</code> within the instruction handler function and use it like <code>// pseudocode: map[log2(sz_left) - 3]</code> to access underlying functions that do what I want. Apparently, it's bad because the compiler cannot inline function pointer calls, and because there's static storage for every instruction handler function.\nI would appreciate any other ideas to make the code clearer.</p>\n"
    },
    {
        "tags": [
            "c++",
            "iterator"
        ],
        "owner": {
            "account_id": 3279846,
            "reputation": 285,
            "user_id": 2959492,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://i.sstatic.net/EePem.png?s=256",
            "display_name": "catlover2",
            "link": "https://stackoverflow.com/users/2959492/catlover2"
        },
        "is_answered": true,
        "view_count": 98,
        "accepted_answer_id": 79606248,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1746506838,
        "creation_date": 1746410867,
        "question_id": 79606247,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606247/c-function-parameter-that-only-accepts-iterator-to-a-specific-type",
        "title": "C++ function parameter that only accepts iterator to a specific type",
        "body": "<p>I know I can use a template to make a constructor which accepts any type of iterator like this:</p>\n<pre><code>struct Thing\n{\n  std::vector&lt;int&gt; integers;\n  std::list&lt;std::string&gt; strings;\n\n  template &lt;typename InputIt&gt;\n  Thing(InputIt start, InputIt end): integers(start, end) {}\n};\n</code></pre>\n<p>Or, I can make constructors that accept the specific iterator type of the containers I'm using:</p>\n<pre><code>struct Thing\n{\n  std::vector&lt;int&gt; integers;\n  std::list&lt;std::string&gt; strings;\n\n  Thing(std::vector&lt;int&gt;::iterator start, std::vector&lt;int&gt;::iterator end): integers(start, end) {}\n  Thing(std::list&lt;std::string&gt;::iterator start, std::list&lt;std::string&gt;::iterator end): strings(start, end) {}\n};\n</code></pre>\n<p>I would like to do the above, but I don't want the iterators to be restricted to a specific type of container.</p>\n<p>I imagine having some types <code>IntInputIt</code> and <code>StringInputIt</code> that can only refer to int or std::string iterators, like this:</p>\n<pre><code>struct Thing\n{\n  std::vector&lt;int&gt; integers;\n  std::list&lt;std::string&gt; strings;\n\n  Thing(IntInputIt start, IntInputIt end): integers(start, end) {}\n  Thing(StringInputIt start, StringInputIt end): strings(start, end) {}\n};\n</code></pre>\n<p>Then I could initialize my struct from any kind of list:</p>\n<pre><code>std::vector&lt;int&gt; ints1({1,2,3});\nstd::list&lt;int&gt; ints2({4,5,6});\nauto thing1 = Thing(ints1.begin(), ints1.end());\nauto thing2 = Thing(ints2.begin(), ints2.end());\n</code></pre>\n<p>Is there a straightforward way to accomplish my imagined <code>IntInputIt</code> and <code>StringInputIt</code>?</p>\n"
    },
    {
        "tags": [
            "c",
            "flexible-array-member",
            "offsetof"
        ],
        "owner": {
            "account_id": 114848,
            "reputation": 138130,
            "user_id": 301832,
            "user_type": "registered",
            "accept_rate": 60,
            "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=256&d=identicon&r=PG",
            "display_name": "Donal Fellows",
            "link": "https://stackoverflow.com/users/301832/donal-fellows"
        },
        "is_answered": true,
        "view_count": 125,
        "answer_count": 3,
        "score": 3,
        "last_activity_date": 1746463564,
        "creation_date": 1746434999,
        "last_edit_date": 1746455395,
        "question_id": 79606596,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606596/using-offsetof-to-get-allocation-size",
        "title": "Using offsetof to get allocation size",
        "body": "<p>I have code that's got declarations like this:</p>\n<pre class=\"lang-c prettyprint-override\"><code>typedef struct {\n    int a;\n    int b;\n    double c;\n    double d;\n} Element;\n\ntypedef struct {\n    size_t used;\n    size_t capacity;\n    Element items[]; /* Flexible array member. */\n} Container;\n</code></pre>\n<p>(The real structures are more complex.)</p>\n<p>I want to allocate a <code>Container</code> on the heap, where that container will have <code>someNumber</code> of <code>Element</code> slots on the end (assume, for the sake of the question, that to be an unsigned parameter passed to the function where I'm doing this). I'm currently using this:</p>\n<pre class=\"lang-c prettyprint-override\"><code>Container *containerPtr = malloc(offsetof(Container, items) + someNumber * sizeof(Element));\n</code></pre>\n<p>This is a little long in practice (where the type names can get longer and a less trivial expression for the number of elements may be required) and has a number of places where I could make errors.</p>\n<p><strong>Could I validly shorten the computation of the amount to allocate to this?</strong></p>\n<pre class=\"lang-c prettyprint-override\"><code>Container *containerPtr = malloc(offsetof(Container, items[someNumber]));\n</code></pre>\n<p>I <em>know</em> this works with GCC, given how it implements <code>offsetof</code>, but <em>is it something I should expect to work in other compilers?</em> I can't find a clear answer yes or no.</p>\n<p>I've checked these and been left with much head-scratching:</p>\n<ul>\n<li><a href=\"https://en.cppreference.com/w/c/types/offsetof\" rel=\"nofollow noreferrer\">https://en.cppreference.com/w/c/types/offsetof</a></li>\n<li><a href=\"https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2396.htm#dr_496\" rel=\"nofollow noreferrer\">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2396.htm#dr_496</a></li>\n</ul>\n<p>[EDIT]: I've <a href=\"https://godbolt.org/z/8Y4WGv6b4\" rel=\"nofollow noreferrer\">tried it out on godbolt</a> and it seems very widely (but not quite universally) accepted in compilers that support flexible array members at all.</p>\n<p>[EDIT2]: If I add this (which looks suspiciously like something in a standard header file):</p>\n<pre><code>#define offset_of(type, member) \\\n    ((size_t) &amp;((type*) 0)-&gt;member)\n</code></pre>\n<p>then that works with all compilers that support FAMs, including the ones that don't work with <code>offsetof</code>. For the sake of argument, I've also tried using a VLA, as then I'd be able to use <code>sizeof</code>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>Container *foo(\n    unsigned someNumber)\n{\n    typedef struct {\n        size_t used;\n        size_t capacity;\n        Element items[someNumber]; /* VLA. */\n    } C;\n    return (Container*) malloc(sizeof(C));\n}\n</code></pre>\n<p>That makes GCC do something <em>weird</em> and unexpected with the stack before getting on with generating relevant code despite no variables with that type being declared, and many other compilers just outright refuse. (That at least is fine; they're allowed by current standards to do that.)</p>\n"
    },
    {
        "tags": [
            "python",
            "pandas",
            "dataframe"
        ],
        "owner": {
            "account_id": 39477366,
            "reputation": 179,
            "user_id": 29295031,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9775e8141b8c38fbe98812dd25803f1a?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "user29295031",
            "link": "https://stackoverflow.com/users/29295031/user29295031"
        },
        "is_answered": true,
        "view_count": 71,
        "accepted_answer_id": 79606822,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746444887,
        "creation_date": 1746442358,
        "question_id": 79606785,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606785/select-a-range-of-data-based-on-a-selected-value-using-pandas",
        "title": "Select a range of data based on a selected value using Pandas",
        "body": "<p>I have a dataframe, I need to select a range of data based on a month value, but the result expected is always showing six rows where the month selected appears in the filtered data , here's the code :</p>\n<pre><code>import pandas as pd\n\ndata = {\n    &quot;function&quot;: [&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;,&quot;test5&quot;,&quot;test6&quot;,&quot;test7&quot;,&quot;test8&quot;,&quot;test9&quot;,&quot;test10&quot;,&quot;test11&quot;,&quot;test12&quot;],\n    &quot;service&quot;: [&quot;A&quot;, &quot;B&quot;, &quot;AO&quot;, &quot;M&quot; ,&quot;A&quot;, &quot;PO&quot;, &quot;MP&quot;, &quot;YU&quot;, &quot;Z&quot;, &quot;R&quot;, &quot;E&quot;, &quot;YU&quot;],\n    &quot;month&quot;: [&quot;January&quot;,&quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;]\n}\n\ndf = pd.DataFrame(data)\n\nselected_month = &quot;January&quot;\nselected_month_idx = df[df[&quot;month&quot;] == selected_month].index[0]\nsix_months_indices = [i % len(df) for i in range(selected_month_idx - 2, selected_month_idx + 4)]\nsix_months_df = df.loc[six_months_indices] # add .reset_index(drop=True) if needed\nprint(six_months_df)\n</code></pre>\n<p>output :</p>\n<pre><code>   function service     month\n10   test11       E  November\n11   test12      YU  December\n0     test1       A   January\n1     test2       B  February\n2     test3      AO     March\n3     test4       M     April\n</code></pre>\n<p>the issue with this code is when I select <code>January</code> for example, the order of the months is not good, what I expet is somthing like that :</p>\n<pre><code>   function service     month\n0     test1       A   January\n1     test2       B  February\n2     test3      AO     March\n3     test4       M     April\n3     test5       A     May\n3     test6       PO    June\n</code></pre>\n<p>when I select <code>December</code> for example the output should be :</p>\n<pre><code> function service      month\n    6     test7      MP       July\n    7     test8      YU     August\n    8     test9       Z  September\n    9    test10       R    October\n    10   test11       E   November\n    11   test12      YU   December\n</code></pre>\n<p>when I select <code>Octobre</code> the output should be for example :</p>\n<pre><code>   function service      month\n6     test7      MP       July\n7     test8      YU     August\n8     test9       Z  September\n9    test10       R    October\n10   test11       E   November\n11   test12      YU   December\n</code></pre>\n<p>the order of the month displated matters, always <code>min(month)</code> =&gt; <code>max(month)</code> output like <code>this is not expected</code> :</p>\n<p>output :</p>\n<pre><code>   function service     month\n10   test11       E  November\n11   test12      YU  December\n0     test1       A   January\n1     test2       B  February\n2     test3      AO     March\n3     test4       M     April\n</code></pre>\n<p>anyone please could to adjust the code above,</p>\n<p>thanks</p>\n"
    },
    {
        "tags": [
            "c#",
            ".net",
            ".net-core",
            "msbuild",
            "solution"
        ],
        "owner": {
            "account_id": 404649,
            "reputation": 62458,
            "user_id": 773113,
            "user_type": "registered",
            "accept_rate": 72,
            "profile_image": "https://i.sstatic.net/FKKLW.jpg?s=256",
            "display_name": "Mike Nakis",
            "link": "https://stackoverflow.com/users/773113/mike-nakis"
        },
        "is_answered": true,
        "view_count": 101,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746463419,
        "creation_date": 1746444923,
        "last_edit_date": 1746452073,
        "question_id": 79606837,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606837/where-is-the-documentation-for-the-slnx-solution-format",
        "title": "Where is the documentation for the &#39;.slnx&#39; solution format?",
        "body": "<p>All I can find from Microsoft is two blog posts:</p>\n<ul>\n<li><p><a href=\"https://devblogs.microsoft.com/dotnet/introducing-slnx-support-dotnet-cli/\" rel=\"nofollow noreferrer\">&quot;Introducing support for SLNX, a new, simpler solution file format\nin the .NET CLI&quot;</a> dated March 13th, 2025, says that it is a preview feature.</p>\n</li>\n<li><p><a href=\"https://devblogs.microsoft.com/visualstudio/new-simpler-solution-file-format/\" rel=\"nofollow noreferrer\">&quot;New, Simpler Solution File Format&quot;</a>\n<em><strong>also</strong></em> dated March 13th, 2025 says that it is fully supported and contains no mention of preview.</p>\n</li>\n</ul>\n<p>These blog posts explain:</p>\n<ul>\n<li>how to enable it</li>\n<li>how to convert your old solution files to it</li>\n<li>how cool it is</li>\n<li>etc.</li>\n</ul>\n<p>...but being mere blog posts, they do not constitute <em><strong>documentation</strong></em>.</p>\n<p>More specifically, they do not explain:</p>\n<ul>\n<li>what <em><strong>XML elements</strong></em> are supported and what they do.</li>\n<li>what <em><strong>XML attributes</strong></em> each element supports, and what they do.</li>\n</ul>\n<p>So, where is the documentation?</p>\n"
    },
    {
        "tags": [
            "c++",
            "compiler-warnings"
        ],
        "owner": {
            "account_id": 28231013,
            "reputation": 41,
            "user_id": 21580236,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/AGNmyxZyQSENw8-9hiqcs2kja1Wwf6T-7tVi1-O6cwiH=k-s256",
            "display_name": "Lars",
            "link": "https://stackoverflow.com/users/21580236/lars"
        },
        "is_answered": true,
        "view_count": 148,
        "accepted_answer_id": 79606879,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746449364,
        "creation_date": 1746446073,
        "last_edit_date": 1746446544,
        "question_id": 79606868,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606868/assignment-in-else-if-statement-triggers-warning-in-msvc-but-not-in-gcc-clan",
        "title": "Assignment in (else) if statement triggers warning in MSVC but not in gcc / clang",
        "body": "<p>This code snippet triggers a warning in MSVC (VS2022 17.10.2).</p>\n<pre><code>int m = 0;\nif(int i = m)\n    // ...\nelse if (int i = m) // warning C4456: declaration of 'i' hides previous local declaration\n    // ...\n</code></pre>\n<p>Tested gcc / clang in <a href=\"https://wandbox.org/permlink/pFXUBjF8KHdNZ8fA\" rel=\"nofollow noreferrer\">wandbox</a></p>\n<p>Is MSVC's warning correct? Is the hiding happening also in gcc / clang, but they are not warning? I would expect consistent behavior across compilers.</p>\n"
    },
    {
        "tags": [
            "java",
            "spring-boot",
            "hibernate",
            "jpa"
        ],
        "owner": {
            "account_id": 21507989,
            "reputation": 53,
            "user_id": 15851104,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gjvq_HbFLrX3KnIFdlTtxqgxMB3VeAolKY2YbWrvw=k-s256",
            "display_name": "Ibrahim Alvi",
            "link": "https://stackoverflow.com/users/15851104/ibrahim-alvi"
        },
        "is_answered": true,
        "view_count": 72,
        "accepted_answer_id": 79607411,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746467787,
        "creation_date": 1746448277,
        "last_edit_date": 1746454709,
        "question_id": 79606913,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606913/receiving-data-too-long-for-column",
        "title": "Receiving Data Too Long for column",
        "body": "<p>I'm working with a <strong>Spring Boot</strong> application using JPA and Hibernate, and I'm trying to persist a field that is serialized as JSON using a custom <strong>@Converter</strong>. The field is mapped to a varchar(2000) column in <strong>MySQL</strong>.<br/>\n<strong>DTO:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlElement\nprivate Object value;\n</code></pre>\n<p><strong>Entity:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;value&quot;)\n@Convert(converter = JpaConverterJson.class)\nprivate Object value;\n</code></pre>\n<p><strong>Converter:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Converter\n@Slf4j\npublic class JpaConverterJson implements AttributeConverter&lt;Object, String&gt; {\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Override\n    public String convertToDatabaseColumn(Object meta) {\n        try {\n            objectMapper.disable(SerializationFeature.WRAP_ROOT_VALUE);\n            return objectMapper.writeValueAsString(meta);\n        } catch (JsonProcessingException ex) {\n            log.error(&quot;JsonProcessingException encoding Object into String: {}&quot;, ex.getMessage());\n            return null;\n        }\n    }\n\n    @Override\n    public Object convertToEntityAttribute(String dbData) {\n        try {\n            return objectMapper.readValue(dbData, Object.class);\n        } catch (IOException ex) {\n            log.error(&quot;IOException decoding json from database: {}&quot;, ex.getMessage());\n            return null;\n        }\n    }\n}\n</code></pre>\n<p><strong>Issue:</strong></p>\n<p>When I run a native SQL INSERT query, the data gets stored correctly.</p>\n<p>But when I persist the entity using JPA, I get this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'value' at row 1\n</code></pre>\n<p>Why does Hibernate fail to persist the data when the native SQL works?</p>\n"
    },
    {
        "tags": [
            "typescript"
        ],
        "owner": {
            "account_id": 3525287,
            "reputation": 2601,
            "user_id": 2946580,
            "user_type": "registered",
            "accept_rate": 83,
            "profile_image": "https://www.gravatar.com/avatar/820680c323b3b48fe46532ecfdd8b628?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "florian norbert bepunkt",
            "link": "https://stackoverflow.com/users/2946580/florian-norbert-bepunkt"
        },
        "is_answered": true,
        "view_count": 47,
        "accepted_answer_id": 79607071,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1746455534,
        "creation_date": 1746449414,
        "last_edit_date": 1746450629,
        "question_id": 79606949,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79606949/collapse-a-union-of-string-literals-in-intellisense-without-a-branded-type",
        "title": "Collapse a union of string literals in IntelliSense without a branded type",
        "body": "<p>In our codebase we have a <code>Currency</code> type which is a rather large union of string literals like</p>\n<pre><code>type Currency = &quot;EUR&quot; | &quot;USD&quot; | &quot;GBP&quot; // ...a lot of items\n</code></pre>\n<p>The same is true for our <code>CountryCode</code> type.</p>\n<p>Right now when using <code>Currency</code> inside other nested data structures and/or function return types, IntelliSense becomes messy, since <code>Currency</code> and <code>CountryCode</code> are shown with their full union, making the types barely readable.</p>\n<p>Is there a way to make the type &quot;collapse&quot; so that it only shows &quot;Currency&quot; in IntelliSense? I don't want to use a branded type, since I need to pass &quot;EUR&quot; to my code without casting it to a branded value first.</p>\n<p><strong>EDIT:</strong></p>\n<p>Self contained example:</p>\n<pre><code>const data = {\n  EUR: { name: &quot;Euro&quot; },\n  USD: { name: &quot;Dollar&quot; },\n  GBP: { name: &quot;British Pound&quot; },\n};\nexport const CURRENCY_CODES = Object.keys(data) as (keyof typeof data)[];\nexport type Currency = (typeof CURRENCY_CODES)[number];\n\nexport const foo = (currency: Currency) =&gt; ({ currency });\n\ntype A = ReturnType&lt;typeof foo&gt;;\n\n/**\n * A shows:\n * \n * type A = { currency: &quot;EUR&quot; | &quot;USD&quot; | &quot;GBP&quot;; }\n * \n * But desired:\n * \n * type A = { currency: Currency }\n */\n</code></pre>\n"
    },
    {
        "tags": [
            "node.js",
            "testing",
            "fastify"
        ],
        "owner": {
            "account_id": 5794975,
            "reputation": 633,
            "user_id": 4571057,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/7ffda59a2194b7c1a6b92af7d8842b16?s=256&d=identicon&r=PG",
            "display_name": "Eyal Ringort",
            "link": "https://stackoverflow.com/users/4571057/eyal-ringort"
        },
        "is_answered": false,
        "view_count": 37,
        "answer_count": 0,
        "score": 3,
        "last_activity_date": 1746457653,
        "creation_date": 1746455939,
        "last_edit_date": 1746457653,
        "question_id": 79607144,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607144/using-fastify-inject-with-a-post-method",
        "title": "Using fastify.inject() with a POST method",
        "body": "<p>When writing a test for my Fastify app, I'm trying to call the <code>fastify.inject()</code> with a <code>POST</code> method:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const response = await server.inject({\n  method: &quot;POST&quot;,\n  url: &quot;/agents&quot;,\n  headers: {\n    &quot;content-type&quot;: &quot;application/json&quot;,\n  },\n  payload: {\n    name: &quot;Bla&quot;,\n    description: &quot;Bol&quot;,\n  },\n});\n</code></pre>\n<p>This is the endpoint definitions:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// POST /agents - Create a new agent\nfastify.post(&quot;/&quot;, { schema: agentCreateSchema }, async (request, reply) =&gt; {\n  const agentData = request.body as AgentCreateDto;\n  const newAgent = await request.agentController.create(agentData);\n  return reply.code(201).send(newAgent);\n});\n</code></pre>\n<p>And here are the related definitions:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export const agentCreateSchema: FastifySchema = {\n  body: AgentCreateDtoSchema,\n  response: {\n    201: AgentDtoSchema,\n    400: ErrorResponseDtoSchema,\n  },\n};\n\nexport const AgentCreateDtoSchema = Type.Object({\n  name: Type.String(),\n  description: Type.Optional(Type.String()),\n  maxEngineIterations: Type.Optional(Type.Number()),\n  compositionMode: Type.Optional(Type.Enum(CompositionModeDto)),\n  tags: Type.Optional(Type.Array(Type.String())),\n});\nexport type AgentCreateDto = Static&lt;typeof AgentCreateDtoSchema&gt;;\n</code></pre>\n<p>However, I see the request is fetting to the server but my route code is not called... When doing the same with a <code>GET</code> or <code>DELETE</code> method (which have no <code>body</code>), I'm able to hit my route code.</p>\n<p>All the routes are configured correctly and the <code>url</code> is as specified in the code example above.</p>\n<p>Using <code>body</code> instead of <code>payload</code> produced the same results.</p>\n<p>I also tried to <code>JSON.stringify()</code> the payload but getting the same result.</p>\n<p>How can I call the <code>inject()</code> function with a <code>POST</code> method?</p>\n"
    },
    {
        "tags": [
            "c",
            "security",
            "function-pointers",
            "buffer-overflow",
            "void-pointers"
        ],
        "owner": {
            "account_id": 38146771,
            "reputation": 113,
            "user_id": 28621156,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/36005bfc5f00806dbf581a155ecac99f?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Tempest_Sword",
            "link": "https://stackoverflow.com/users/28621156/tempest-sword"
        },
        "is_answered": true,
        "view_count": 96,
        "accepted_answer_id": 79607304,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746462591,
        "creation_date": 1746458693,
        "last_edit_date": 1746459920,
        "question_id": 79607210,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607210/how-to-use-buffer-overflow-to-modify-function-pointer-value",
        "title": "How to use buffer overflow to modify function pointer value?",
        "body": "<p>I am currently trying to make a code more safe for a cybersecurity exercise. I was asked to make the flag contained in the <code>secret_function()</code> come out. The problem is that I can't modify the code and that I don't see how I can give the address of the <code>secret_function()</code> as the value of the <code>function_ptr()</code>. The only hint we were given is that a <code>buffer_overflow</code> might help, even though I don't understand how.</p>\n<p>I tried multiple values, but the only thing I was able to achieve was a segfault when I exceeded 10 characters due to the buffer limit.\nHere is the code of the functions involved:</p>\n<pre><code>void secret_function ()\n{\n    printf (&quot;{The stone isn't in the pocket anymore ...}\\n&quot;);\n}\nvoid monitor_radiation_levels ()\n{\n    char buffer[10];\n    void (* function_ptr) () = NULL;\n    printf (&quot;Enter radiation levels: &quot;);\n    gets (buffer);\n    printf (&quot;Radiation Levels: %s\\n&quot; ,buffer);\n    if (function_ptr){\n        function_ptr();\n    } else {\n        printf (&quot;Function Pointer: %p\\n&quot;,( void * ) function_ptr);\n    }\n}\n</code></pre>\n"
    },
    {
        "tags": [
            "go",
            "logging",
            "slog"
        ],
        "owner": {
            "account_id": 26556686,
            "reputation": 646,
            "user_id": 20185192,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/656e2b8393d74ddc564cc2ee93cf9eee?s=256&d=identicon&r=PG",
            "display_name": "Nazar Duma",
            "link": "https://stackoverflow.com/users/20185192/nazar-duma"
        },
        "is_answered": true,
        "view_count": 33,
        "accepted_answer_id": 79608012,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746511134,
        "creation_date": 1746464797,
        "last_edit_date": 1746465731,
        "question_id": 79607353,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607353/attributes-added-by-handler-middleware-not-appearing-when-using-logger-with",
        "title": "Attributes added by Handler middleware not appearing when using Logger.With",
        "body": "<p>I'm using Go's standard log/slog package and have created a custom handler middleware (ContextHandler) to automatically add request-scoped attributes (like session_id) from the context.Context to log records. This middleware wraps a base handler (like slog.JSONHandler or devslog.Handler).</p>\n<p>The middleware looks roughly like this:</p>\n<pre><code>// ContextHandler middleware\ntype ContextHandler struct {\n    slog.Handler\n}\n\nfunc NewContextHandler(handler slog.Handler) *ContextHandler {\n    return &amp;ContextHandler{Handler: handler}\n}\n\nfunc (h *ContextHandler) Handle(ctx context.Context, r slog.Record) error {\n    // Example: Get session ID from context\n    if sessionID, ok := contextkeys.GetSessionID(ctx); ok {\n        r.AddAttrs(slog.String(&quot;session_id&quot;, sessionID)) // Add attribute to record\n    }\n    // Pass record to the next handler\n    return h.Handler.Handle(ctx, r)\n}\n\n// Logger creation wraps the base handler\nfunc NewLogger( /* ... */ ) *slog.Logger {\n    var baseHandler slog.Handler\n    // ... logic to create baseHandler (JSON, devslog, etc.) ...\n    contextAwareHandler := NewContextHandler(baseHandler)\n    logger := slog.New(contextAwareHandler)\n    return logger\n}\n\n</code></pre>\n<p>In my gRPC handler, I inject the logger created by NewLogger:</p>\n<pre><code>type AuthHandler struct {\n    // ... other fields\n    logger *slog.Logger\n}\n\nfunc NewAuthHandler( /* ... */ logger *slog.Logger) *AuthHandler {\n    return &amp;AuthHandler{ /* ... */ logger: logger}\n}\n</code></pre>\n<p>The Observation:</p>\n<ol>\n<li>Works: When I use the injected logger directly with a *Context method, the session_id added by the middleware appears correctly in the final log output</li>\n</ol>\n<pre><code>// Inside handler method\nfunc (h *AuthHandler) SomeMethod(ctx context.Context, /* ... */) {\n    // ...\n    h.logger.InfoContext(ctx, &quot;Operation successful&quot;)\n    // Output includes &quot;session_id=xyz&quot;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Doesn't Work: When I create a derived logger using .With() within the handler method and then use a *Context method on the derived logger, the session_id added by the middleware does not appear in the final output (or its appearance is inconsistent), although attributes added via .With (like &quot;op&quot;) do appear:</li>\n</ol>\n<pre><code>// Inside handler method\nfunc (h *AuthHandler) SomeMethod(ctx context.Context, /* ... */) {\n    const op = &quot;Handler.SomeMethod&quot;\n    // Create derived logger\n    log := h.logger.With(slog.String(&quot;op&quot;, op))\n    // ...\n    log.InfoContext(ctx, &quot;Operation successful&quot;)\n    // Output includes &quot;op=Handler.SomeMethod&quot; BUT NOT &quot;session_id=xyz&quot;\n}\n</code></pre>\n<p>Question:</p>\n<p>Is this behavior expected? Why might attributes added dynamically to a slog.Record via r.AddAttrs in handler middleware fail to appear in the final output when the logging call is made using a logger instance derived from logger.With(...)? Is there a standard or recommended way to ensure attributes added by handler middleware work reliably even when .With is used?</p>\n<p>Go 1.24.2</p>\n"
    },
    {
        "tags": [
            "c",
            "language-lawyer",
            "case-sensitive",
            "case-insensitive"
        ],
        "owner": {
            "account_id": 2802349,
            "reputation": 155648,
            "user_id": 2410359,
            "user_type": "registered",
            "accept_rate": 87,
            "profile_image": "https://i.sstatic.net/pIl9T.png?s=256",
            "display_name": "chux",
            "link": "https://stackoverflow.com/users/2410359/chux"
        },
        "is_answered": false,
        "view_count": 57,
        "answer_count": 1,
        "score": 3,
        "last_activity_date": 1746527599,
        "creation_date": 1746490613,
        "last_edit_date": 1746521726,
        "question_id": 79607790,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607790/given-various-locales-like-turkish-should-a-xfd-nfinity-match-infinity",
        "title": "Given various locales like &quot;turkish&quot;, should a &quot;\\xFD&quot; &quot;nfinity&quot; match &quot;infinity&quot; in strtod()?",
        "body": "<p>Note that <em>locales</em> are a part of C that has evolving support.<br />\nFollowing is about C23 and maybe back to C99.</p>\n<p>This is about an minor corner case in <code>strtod()</code>.</p>\n<p>With <em>locales</em> like &quot;turkish&quot;, should <code>&quot;\\xDD&quot; &quot;NFINITY&quot;</code> or <code>&quot;\\xFD&quot; &quot;nfinity&quot;</code> match <code>&quot;INFINITY&quot;</code> or <code>&quot;infinity&quot;</code>?</p>\n<hr />\n<p><strong>Unusual <code>tolower()</code> and <code>toupper()</code></strong></p>\n<p>A few locales map a case changed <a href=\"https://simple.wikipedia.org/wiki/ASCII#Extended_ASCII\" rel=\"nofollow noreferrer\">non-ASCII</a> character to an <a href=\"https://simple.wikipedia.org/wiki/ASCII#Characters\" rel=\"nofollow noreferrer\">ASCII</a> one.</p>\n<p>Example: Locale &quot;turkish&quot; has <code>tolower(0xDD)</code> maps to <code>'i'</code> and <code>toupper(0xFD)</code> maps to <code>'I'</code>.</p>\n<pre><code>#include &lt;ctype.h&gt;\n#include &lt;locale.h&gt;\n#include &lt;stdio.h&gt;\n\nint main() {\n  void *ptr = setlocale(LC_ALL, &quot;turkish&quot;);\n  if (ptr) {\n#define TURKISH_I_WITH_DOT_ABOVE 0xDD\n    printf(&quot;TURKISH_I_WITH_DOT_ABOVE %3d, tolower(TURKISH_I_WITH_DOT_ABOVE):%3d, i: %3d\\n&quot;,\n    TURKISH_I_WITH_DOT_ABOVE, tolower(TURKISH_I_WITH_DOT_ABOVE), 'i');\n#define TURKISH_DOTLESS_I 0xFD\n    printf(&quot;TURKISH_DOTLESS_I        %3d, toupper(TURKISH_DOTLESS_I)       :%3d, I: %3d\\n&quot;,\n    TURKISH_DOTLESS_I, toupper(TURKISH_DOTLESS_I), 'I');\n  }\n}\n</code></pre>\n<p>Sample output:</p>\n<pre><code>TURKISH_I_WITH_DOT_ABOVE 221, tolower(TURKISH_I_WITH_DOT_ABOVE):105, i: 105\nTURKISH_DOTLESS_I        253, toupper(TURKISH_DOTLESS_I)       : 73, I:  73\n</code></pre>\n<hr />\n<p><strong>Sample <code>strtod()</code></strong></p>\n<p><code>strtod()</code> and friends are case insensitive in select ways.</p>\n<p>Upper case and lower case characters are defined in the language and per <em>locale</em>.</p>\n<blockquote>\n<p>C specifies: the 26 uppercase letters of the Latin alphabet<br />\nA B C D E F G H I J K L M<br />\nN O P Q R S T U V W X Y Z<br />\nthe 26 lowercase letters of the Latin alphabet<br />\na b c d e f g h i j k l m<br />\nn o p q r s t u v w x y z<br />\nC23dr (§ 5.2.1 3)</p>\n</blockquote>\n<blockquote>\n<p>A letter is an uppercase letter or a lowercase letter as defined previously in this subclause; in this document the term does not include other characters that are letters in other alphabets. (§ 5.2.1 4)</p>\n</blockquote>\n<blockquote>\n<p>7.4.2.7 The islower function<br />\n<code>int islower(int c);</code><br />\nThe <code>islower</code> function tests for any character that is a lowercase letter or is one of a locale-specific set of characters for which none of <code>iscntrl</code>, <code>isdigit</code>, <code>ispunct</code>, or <code>isspace</code> is true. In the &quot;C&quot; locale, <code>islower</code> returns true only for the lowercase letters (as defined in 5.2.1).</p>\n</blockquote>\n<blockquote>\n<p>(<code>strtod()</code>) The expected form of the subject sequence is an optional plus or minus sign, then one of the following:<br />\n...<br />\n— <strong>INF</strong> or <strong>INFINITY</strong>, ignoring case<br />\nC23 § 7.24.1.5 3</p>\n</blockquote>\n<blockquote>\n<p>In other than the &quot;C&quot; locale, additional locale-specific subject sequence forms may be accepted.  C23 § 7.24.1.5 7</p>\n</blockquote>\n<p>It appears my C lib <code>strtod()</code> does not ignore case per the locale and instead uses <em>case</em> per the 5.2.1 Character set spec.</p>\n<pre><code>#include &lt;locale.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nint main() {\n  void *ptr = setlocale(LC_ALL, &quot;turkish&quot;);\n  if (ptr) {\n    char *end;\n    char infinity[] = &quot;infinity&quot;;\n    double y = strtod(infinity, &amp;end);\n    printf(&quot;strtod(%s, &amp;end) --&gt; %g %td\\n&quot;, infinity, y, end - infinity);\n\n    #define TURKISH_I_WITH_DOT_ABOVE 0xDD\n    infinity[0] = (char) TURKISH_I_WITH_DOT_ABOVE;\n    y = strtod(infinity, &amp;end);\n    printf(&quot;strtod(%s, &amp;end) --&gt; %g %td\\n&quot;, infinity, y, end - infinity);\n\n    #define TURKISH_DOTLESS_I 0xFD\n    infinity[0] = (char) TURKISH_DOTLESS_I;\n    y = strtod(infinity, &amp;end);\n    printf(&quot;strtod(%s, &amp;end) --&gt; %g %td\\n&quot;, infinity, y, end - infinity);\n  }\n}\n</code></pre>\n<p>Sample output:</p>\n<pre><code>strtod(infinity, &amp;end) --&gt; inf 8\nstrtod(�nfinity, &amp;end) --&gt; 0 0\nstrtod(�nfinity, &amp;end) --&gt; 0 0\n</code></pre>\n<hr />\n<p><strong>Question</strong></p>\n<p>What are compliant behaviors concerning &quot;INF or INFINITY, <strong>ignoring case</strong>&quot;?<br />\nIf it should use or not use case per <em>locale</em>, what cite supports that?<br />\nPerhaps either are allowed?</p>\n<p>So it appears it one writes a <code>strtod()</code> replacement, code using <code>tolower()</code> or <code>toupper()</code> risks non-compliance as it may allow <code>&quot;\\xFD&quot; &quot;nfinity&quot;</code>.</p>\n"
    },
    {
        "tags": [
            "c",
            "utf-8",
            "c99",
            "surrogate-pairs"
        ],
        "owner": {
            "account_id": 12037864,
            "reputation": 654,
            "user_id": 8847293,
            "user_type": "registered",
            "accept_rate": 100,
            "profile_image": "https://i.sstatic.net/Gzgqo.png?s=256",
            "display_name": "amegyoushi",
            "link": "https://stackoverflow.com/users/8847293/amegyoushi"
        },
        "is_answered": true,
        "view_count": 84,
        "accepted_answer_id": 79608112,
        "answer_count": 3,
        "score": 3,
        "last_activity_date": 1746520330,
        "creation_date": 1746502143,
        "last_edit_date": 1746503531,
        "question_id": 79607931,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79607931/how-do-you-convert-a-single-surrogate-character-without-a-pair-into-its-utf-8-eq",
        "title": "How do you convert a single surrogate character without a pair into its UTF-8 equivalent?",
        "body": "<p>I am experimenting with <code>wctomb</code> in order to convert a <code>wchar_t</code> into its UTF-8 equivalent stored in a <code>char[]</code>. It works nicely, but not for surrogate characters ranging <code>U+D800</code> to <code>U+DFFF</code>.</p>\n<pre><code>int ret;\n// null-terminated\n// VS gives a warning on wctomb() for buffer overrunning on char mb[4]={0} for some reason ...\nchar mb[5] = { 0 };\nsetlocale(LC_ALL, &quot;en-US.utf8&quot;);\n// Gives 0xE2 0xAA 0x96 just fine, wctomb returns 3\nret = wctomb(mb, L'\\x2A96');\n// expected 0xED 0xBA 0xA0, but wctomb returns -1, i.e. invalid character\nret = wctomb(mb, L'\\xDEA0');\n</code></pre>\n<p>Is there another way to get the UTF-8 form of the surrogate character alone?<br />\nI also tried <code>wctomb_s</code> through <code>errno_t</code> and <code>&amp;ret</code> but it just yields the same outcome ...</p>\n"
    },
    {
        "tags": [
            "python",
            "seaborn"
        ],
        "owner": {
            "account_id": 6257671,
            "reputation": 12300,
            "user_id": 4865723,
            "user_type": "registered",
            "accept_rate": 80,
            "profile_image": "https://www.gravatar.com/avatar/8aae772c8cf4cacd09171ae6d3edf157?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "buhtz",
            "link": "https://stackoverflow.com/users/4865723/buhtz"
        },
        "is_answered": true,
        "view_count": 45,
        "accepted_answer_id": 79608544,
        "answer_count": 2,
        "score": 3,
        "last_activity_date": 1746529429,
        "creation_date": 1746523068,
        "question_id": 79608369,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79608369/bars-not-fitting-to-x-axis-ticks-in-a-seaborn-distplot",
        "title": "Bars not fitting to X-axis ticks in a Seaborn distplot",
        "body": "<p>I do generate that figure with <code>seaborn.distplot()</code>. My problem is that the ticks on the X-axis do not fit to the bars, in all cases. I would expect a relationship between bars and ticks like you can see at 11 and 15.</p>\n<p><a href=\"https://i.sstatic.net/BOCA6W8z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/BOCA6W8z.png\" alt=\"seaborn distplot\" /></a></p>\n<p>This is the MWE</p>\n<pre><code>import numpy as np\nimport pandas as pd\nimport seaborn as sns\n\n# Data\nnp.random.seed(42)\nn = 5000\ndf = pd.DataFrame({\n    'PERSON': np.random.randint(100000, 999999, n),\n    'Fruit': np.random.choice(['Banana', 'Strawberry'], n),\n    'Age': np.random.randint(9, 18, n)\n})\n\nfig = sns.displot(\n    data=df,\n    x='Age',\n    hue='Fruit',\n    multiple='dodge').figure\n\nfig.show() \n</code></pre>\n"
    },
    {
        "tags": [
            "excel",
            "vba"
        ],
        "owner": {
            "account_id": 41812163,
            "reputation": 33,
            "user_id": 30460574,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/20ae029fdb7e1bed74ce8be2f0484cf7?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Jim",
            "link": "https://stackoverflow.com/users/30460574/jim"
        },
        "is_answered": true,
        "view_count": 60,
        "accepted_answer_id": 79608537,
        "answer_count": 3,
        "score": 3,
        "last_activity_date": 1746529687,
        "creation_date": 1746525120,
        "last_edit_date": 1746528046,
        "question_id": 79608429,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79608429/byval-target-as-range-issue",
        "title": "ByVal Target As Range issue",
        "body": "<p>Hoping you can, long time Excel user (very) infrequent VBA user.</p>\n<p>I have setup the below code to keep my workbooks sheets hidden unless a cell in my &quot;project relevancy&quot; column is selected as &quot;yes&quot; which half works, but for anytime where there is more than 1 row with the same &quot;relevant department&quot; the sheet stays hidden unless all of these rows are selected yes.</p>\n<pre><code>Private Sub Worksheet_Change(ByVal Target As Range)\n    If [D24] = &quot;Yes&quot; Then\n        Sheets(&quot;3-PSSR&quot;).Visible = True\n    Else\n        Sheets(&quot;3-PSSR&quot;).Visible = False\n    End If\n    If [D25] = &quot;Yes&quot; Then\n        Sheets(&quot;3-PSSR&quot;).Visible = True\n    Else\n        Sheets(&quot;3-PSSR&quot;).Visible = False\n    End If\n    If [D26] = &quot;Yes&quot; Then\n        Sheets(&quot;6-Procurement&quot;).Visible = True\n    Else\n        Sheets(&quot;6-Procurement&quot;).Visible = False\n    End If\n    If [D28] = &quot;Yes&quot; Then\n        Sheets(&quot;5-Engineering&quot;).Visible = True\n    Else\n        Sheets(&quot;5-Engineering&quot;).Visible = False\n    End If\n    If [D29] = &quot;Yes&quot; Then\n        Sheets(&quot;5-Engineering&quot;).Visible = True\n    Else\n        Sheets(&quot;5-Engineering&quot;).Visible = False\n    End If\n    If [D30] = &quot;Yes&quot; Then\n        Sheets(&quot;5-Engineering&quot;).Visible = True\n    Else\n        Sheets(&quot;5-Engineering&quot;).Visible = False\n    End If\n    If [D27] = &quot;Yes&quot; Then\n        Sheets(&quot;8-HSE&quot;).Visible = True\n    Else\n        Sheets(&quot;8-HSE&quot;).Visible = False\n    End If\n    If [D31] = &quot;Yes&quot; Then\n        Sheets(&quot;8-HSE&quot;).Visible = True\n    Else\n        Sheets(&quot;8-HSE&quot;).Visible = False\n    End If\n    If [D32] = &quot;Yes&quot; Then\n        Sheets(&quot;8-HSE&quot;).Visible = True\n    Else\n        Sheets(&quot;8-HSE&quot;).Visible = False\n    End If\n    If [D33] = &quot;Yes&quot; Then\n        Sheets(&quot;2-Equipment&quot;).Visible = True\n    Else\n        Sheets(&quot;2-Equipment&quot;).Visible = False\n    End If\n    If [D34] = &quot;Yes&quot; Then\n        Sheets(&quot;2-Equipment&quot;).Visible = True\n    Else\n        Sheets(&quot;2-Equipment&quot;).Visible = False\n    End If\n    If [D35] = &quot;Yes&quot; Then\n        Sheets(&quot;4-Quality&quot;).Visible = True\n    Else\n        Sheets(&quot;4-Quality&quot;).Visible = False\n    End If\n    If [D36] = &quot;Yes&quot; Then\n        Sheets(&quot;7-Organisation&quot;).Visible = True\n    Else\n        Sheets(&quot;7-Organisation&quot;).Visible = False\n    End If\nEnd Sub\n</code></pre>\n<p>I would like it to be possible for the sheets to unhide if any of the cells with that department relevancy are selected if whether that's 1,2 or all rows.</p>\n<p>Any help would be greatly appreciated.</p>\n<p><a href=\"https://i.sstatic.net/2fIx9RhM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/2fIx9RhM.png\" alt=\"Picture\" /></a></p>\n"
    },
    {
        "tags": [
            "python"
        ],
        "owner": {
            "account_id": 26447832,
            "reputation": 171,
            "user_id": 20741694,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9179098c6e5698df04af89c7c0cba0c2?s=256&d=identicon&r=PG",
            "display_name": "HMPtwo",
            "link": "https://stackoverflow.com/users/20741694/hmptwo"
        },
        "is_answered": true,
        "view_count": 101,
        "accepted_answer_id": 79604846,
        "answer_count": 4,
        "score": 2,
        "last_activity_date": 1746306499,
        "creation_date": 1746283465,
        "last_edit_date": 1746284343,
        "question_id": 79604815,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604815/creating-a-list-of-integer-lists-that-have-a-fixed-length-and-contain-integers-t",
        "title": "Creating a list of integer lists that have a fixed length and contain integers that increase by one or remain the same in python",
        "body": "<p>I am trying to write some code that will generate all lists of a fixed length that have the property that the next integer in each list will either be same or an increment of the previous integer. All lists should start with 0.</p>\n<p>I can write code that does this for size 4 BUT it uses 3 nested loops. If I want to continue down this path I will have to have n - 1 nested loops.</p>\n<p>Just to be clear I will give some examples for length 5:</p>\n<pre><code>[0, 0, 0, 0, 0]\n[0, 0, 1, 1, 1]\n[0, 1, 2, 2, 2]\n[0, 1, 2, 3 ,3]\n</code></pre>\n<p>The code will return all such lists of length 5. Instead of down voting, could you help me improve my question?</p>\n<p>Here is my (really bad but working) code:</p>\n<pre><code>import math\n\ndef index_list(x):\n    IL = []\n    for i in [0,1]:\n        for j in [0,1,2]:\n            for k in [0,1,2,3]:\n                if i &lt;= j and j &lt;= k and abs(i-j) &lt; 2 and abs(j-k) &lt; 2:\n                    IL.append([x, x + i, x + j, x + k])\n    return IL\n\nprint(index_list(0))\n</code></pre>\n<p>this produces:</p>\n<pre><code>[[0, 0, 0, 0], [0, 0, 0, 1], [0, 0, 1, 1], [0, 0, 1, 2], [0, 1, 1, 1], [0, 1, 1, 2], [0, 1, 2, 2], [0, 1, 2, 3]]\n</code></pre>\n<p>I have included a argument x as i wish to have the code to sometimes do the same thing but with a different starting index.</p>\n"
    },
    {
        "tags": [
            "python-3.x",
            "variables",
            "transform",
            "f-string",
            "octal"
        ],
        "owner": {
            "account_id": 41760297,
            "reputation": 33,
            "user_id": 30437719,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/0be0034d083b3b4836ad362c1648b922?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "K4zo",
            "link": "https://stackoverflow.com/users/30437719/k4zo"
        },
        "is_answered": true,
        "view_count": 43,
        "accepted_answer_id": 79604890,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1746296347,
        "creation_date": 1746285983,
        "last_edit_date": 1746290338,
        "question_id": 79604844,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604844/why-is-transforming-a-string-to-octal-value-ooo-isnt-working-when-i-use-an-f-st",
        "title": "why is transforming a string to octal value \\ooo isnt working when i use an f-string and a variable inside {}?",
        "body": "<p>When using a backslash followed by three integers, Python interprets them as an octal value:</p>\n<pre class=\"lang-py prettyprint-override\"><code># A backslash followed by three integers will result in an octal value:\ntxt = &quot;\\110\\145\\154\\154\\157&quot;\nprint(txt)  # Output: Hello\n</code></pre>\n<p>However, when I try to replace the octal sequence with a variable inside <code>{}</code> using an f-string, like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code># Attempting to use a variable inside an f-string:\nx = 110\ntxt = f&quot;\\\\{x}\\145\\154\\154\\157&quot;\nprint(txt)\n</code></pre>\n<p>The output is <code>\\110ello</code> instead of <code>Hello</code>.</p>\n<p>Why does Python treat the variable <code>x</code> differently inside the f-string? How can I correctly substitute a variable into an octal escape sequence?</p>\n"
    },
    {
        "tags": [
            "c",
            "multithreading",
            "openmp"
        ],
        "owner": {
            "account_id": 23146288,
            "reputation": 55,
            "user_id": 17249007,
            "user_type": "registered",
            "profile_image": "https://i.sstatic.net/yIYsf.jpg?s=256",
            "display_name": "GabrijelOkorn",
            "link": "https://stackoverflow.com/users/17249007/gabrijelokorn"
        },
        "is_answered": false,
        "view_count": 59,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1746286405,
        "creation_date": 1746286405,
        "question_id": 79604852,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604852/openmp-vs-openmp-api",
        "title": "OpenMP vs OpenMP API",
        "body": "<p>For a school assignment I need a precise definition of OpenMP. I find the Wikipedia and other sources defective.\nSpecificaly I need to understand what is the difference between OpenMP and OpenMP API.\nAs far as I have read, OpenMP API is a collection of directives, library routines and environment variables.\nAre the two used interchangably perhaps?</p>\n"
    },
    {
        "tags": [
            "shell",
            "inotifywait"
        ],
        "owner": {
            "account_id": 3006738,
            "reputation": 51,
            "user_id": 16536307,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/6b781eda566c65b1d9573e84c69bbec9?s=256&d=identicon&r=PG",
            "display_name": "Paulo",
            "link": "https://stackoverflow.com/users/16536307/paulo"
        },
        "is_answered": true,
        "view_count": 32,
        "accepted_answer_id": 79605007,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1746297934,
        "creation_date": 1746288107,
        "last_edit_date": 1746289128,
        "question_id": 79604871,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604871/how-to-refresh-inotifywait-or-something-similar",
        "title": "How to refresh inotifywait (or something similar)?",
        "body": "<p>So, first let me give some background.</p>\n<p>I have some security cameras that trigger on motion detection and dump an .avi file via ftp to my server.</p>\n<p>I currently have a cron job, running every minute, to find all .avi files and then convert them to .mp4 and an animated .gif to show in an html gallery.</p>\n<p>I wanted something more immediate, without having to scan all the directories for missing .avi files, so I tried to use inotifywait.... and found a problem. Each new day, on the first motion detected, a new folder is created with the current date, and inotifywait doesn't watch it. I have no idea when the folder is created, since it depends when (or if) there is motion captured by the camera.</p>\n<p>So, my question, is there a way to refresh inotifywait and add missing folders or the only way to do this is to kill the process and restart it?\nOr, is there another way to achieve what I want, something more immediate than a find every minute?</p>\n<p>EDIT: just a quick note, the reason why I wanted something faster is because with all the folders, find takes almost 30s just to scan the directories</p>\n"
    },
    {
        "tags": [
            "python",
            "flask",
            "session",
            "flask-session"
        ],
        "owner": {
            "account_id": 33127781,
            "reputation": 23,
            "user_id": 25676423,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/b705e03cdc1b60834e11fa2130b84d8c?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "Ananthu N",
            "link": "https://stackoverflow.com/users/25676423/ananthu-n"
        },
        "is_answered": true,
        "view_count": 45,
        "accepted_answer_id": 79604926,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1746357676,
        "creation_date": 1746288674,
        "question_id": 79604883,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604883/is-there-anything-i-need-to-do-to-make-session-data-persistent-across-routes-in",
        "title": "Is there anything I need to do to make session data persistent across routes in Flask",
        "body": "<p>I am working with a Flask project with React as front-end. I just completed the authentication work. When i tried to access the user_id which i stored in session as 'user_data' from another route via an 'axios' request, I wasn't able to access it as it said 'No data found in session'. I have encountered some like these before which will resolve if I add 'withCredentials: true' along my 'axios' request. I tried it too but nothing worked. So i even made a custom flask route that just gets the session and if there is no data it prints something like 'No_data'. As i expected it printed 'No_data'. Now I tried to print the session data in the login route itself right after creating it and it works there but it won't in other route. So the session is being created and stored but not shared across routes... I will also share my required code.</p>\n<pre><code>from flask import Flask, request, jsonify, session\nfrom datetime import datetime, timedelta\nfrom flask_cors import CORS\nimport threading\nimport uuid\nimport firebase_admin\nfrom firebase_admin import credentials, firestore\n\napp = Flask(__name__)\n\n\napp.secret_key = &quot;HelloWorld&quot;\napp.config[&quot;SESSION_PERMANENT&quot;] = True\napp.config[&quot;PERMANENT_SESSION_LIFETIMT&quot;] = timedelta(days = 1)\n\nCORS(app,supports_credentials=True, resources={r&quot;/*&quot;: {&quot;origins&quot;:&quot;http://localhost:5173&quot;}})\n\n@app.after_request\ndef apply_cors_headers(response):\n    response.headers[&quot;Access-Control-Allow-Origin&quot;] = &quot;http://localhost:5173&quot;  # Allow your React app's origin\n    response.headers[&quot;Access-Control-Allow-Credentials&quot;] = &quot;true&quot;  # Allow cookies (sessions)\n    response.headers[&quot;Access-Control-Allow-Headers&quot;] = &quot;Content-Type&quot;  # Allow content-type headers\n    response.headers[&quot;Access-Control-Allow-Methods&quot;] = &quot;POST, GET, OPTIONS&quot;  # Allow specific methods\n    return response\n\n\n#Route for axios\n@app.route('/login', methods=['POST'])\ndef login():\n    data = request.get_json()\n    usermail = data.get(&quot;usermail&quot;)\n    password = data.get(&quot;password&quot;)\n\n    email_query = user_collection.where(&quot;usermail&quot;, &quot;==&quot;, usermail).stream()\n    user_doc = next(email_query, None)\n\n    if user_doc is None:\n        return jsonify({&quot;message&quot;: &quot;User not registered&quot;}), 404\n\n    user_data = user_doc.to_dict()\n\n    if user_data.get(&quot;password&quot;) != password:\n        return jsonify({&quot;message&quot;: &quot;Invalid credentials&quot;}), 401\n\n    telegram_id = user_data.get(&quot;telegramID&quot;, &quot;&quot;)\n    first_login = telegram_id.strip() == &quot;&quot;\n\n    # Store user data in session\n    session.permanent = True\n    session[&quot;user_data&quot;] = user_data\n    session.modified = True\n    print(session[&quot;user_data&quot;]) #This prints the session as it is\n\n    return jsonify({\n        &quot;message&quot;: &quot;Login successful&quot;,\n        &quot;first_login&quot;: first_login\n    }), 200\n\n@app.route('/addTelegramID', methods=['POST'])\ndef add_telegram_id():\n\n    if 'user_data' not in session: #This gets executes showing it clearly session is not accessible\n        print(&quot;Error&quot;)\n\n\n    data = request.get_json()\n    \n    user_data = session.get('user_data')\n    print(user_data)\n\n\n    if user_data:\n        user_id = user_data[&quot;user_id&quot;]\n\n    if not user_data:\n        print(&quot;NO data&quot;)\n        return jsonify({&quot;message&quot;: &quot;Unauthorized&quot;}), 401\n\n    telegram_id = data.get(&quot;telegramID&quot;)\n    if not telegram_id:\n        return jsonify({&quot;message&quot;: &quot;Telegram ID is required&quot;}), 400\n\n    user_query = user_collection.where(&quot;user_id&quot;, &quot;==&quot;, user_id).stream()\n    user_doc = next(user_query, None)\n\n    if user_doc is None:\n        return jsonify({&quot;message&quot;: &quot;User not found&quot;}), 404\n\n    user_collection.document(user_doc.id).update({&quot;telegramID&quot;: telegram_id})\n\n    return jsonify({&quot;message&quot;: &quot;Telegram ID added successfully&quot;}), 200\n\n\n#Testing route\n@app.route('/test')\ndef test():\n    user_data = session.get('user_data')\n    if user_data:\n        return user_data\n    \n    else:\n        return jsonify({&quot;message&quot;:&quot;No data&quot;}) #Again this gets executed showing there is no data accessible\n\n\nif __name__ == '__main__':\n    from scheduler import start_scheduler\n    threading.Thread(target=start_scheduler, args=(reminders,), daemon=True).start()\n    app.run(debug=True)\n</code></pre>\n<p>Is there anything I am missing ??</p>\n"
    },
    {
        "tags": [
            "python",
            "regex",
            "windows",
            "sed"
        ],
        "owner": {
            "account_id": 28897559,
            "reputation": 23,
            "user_id": 22133250,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtfHnw6t97jVinDNxjCkPDMES-8qwiQa9nW4MoEf=k-s256",
            "display_name": "Signor Pizza",
            "link": "https://stackoverflow.com/users/22133250/signor-pizza"
        },
        "is_answered": true,
        "view_count": 85,
        "answer_count": 4,
        "score": 2,
        "last_activity_date": 1746436793,
        "creation_date": 1746290077,
        "last_edit_date": 1746294680,
        "question_id": 79604901,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604901/surrounding-whitespace-separated-urls-with-quotes-using-sed",
        "title": "Surrounding whitespace-separated URLs with quotes using sed",
        "body": "<h1>Problem</h1>\n<p>I was trying to get <code>sed</code> command to do the same thing I could do with Python regex flavour, but I encountered some problems</p>\n<p>Python regex example: (tested it on regex101 and it was working fine)</p>\n<p>find: <code>(https.*?) </code></p>\n<p>replace: <code>&quot;\\1&quot;</code></p>\n<p>Unsuccessful code:</p>\n<pre><code>sed 's/\\(https.*?\\)[:space:]/\\&quot;\\1\\&quot;/g' .\\elenco.txt\n</code></pre>\n<p>elenco.txt file:</p>\n<pre><code>https://www.youtube.com/watch?app=desktop&amp;v=Ot34P0yyQqI&amp;t=984s https://www.youtube.com/watch?v=vviniZjvDQs  https://www.youtube.com/watch?v=Ih7qgkyo_oo  https://www.youtube.com/watch?v=X6UEDpwI3HI  https://www.youtube.com/watch?v=nShgaRMNlLw  https://www.youtube.com/watch?v=nd_jN-C_Juw  https://www.youtube.com/watch?v=aOtqox2uB3Y\n</code></pre>\n<p>Expected output:</p>\n<pre><code>&quot;https://www.youtube.com/watch?app=desktop&amp;v=Ot34P0yyQqI&amp;t=984s&quot; &quot;https://www.youtube.com/watch?v=vviniZjvDQs&quot;  &quot;https://www.youtube.com/watch?v=Ih7qgkyo_oo&quot;  &quot;https://www.youtube.com/watch?v=X6UEDpwI3HI&quot;  &quot;https://www.youtube.com/watch?v=nShgaRMNlLw&quot;  &quot;https://www.youtube.com/watch?v=nd_jN-C_Juw&quot;  &quot;https://www.youtube.com/watch?v=aOtqox2uB3Y&quot;\n</code></pre>\n<p>Actual output:</p>\n<pre><code>&quot;https://www.youtube.com/watch?&quot;pp=desktop&amp;v=Ot34P0yyQqI&amp;t=984s https://www.youtube.com/watch?v=vviniZjvDQs  https://www.youtube.com/watch?v=Ih7qgkyo_oo  https://www.youtube.com/watch?v=X6UEDpwI3HI  https://www.youtube.com/watch?v=nShgaRMNlLw  https://www.youtube.com/watch?v=nd_jN-C_Juw  https://www.youtube.com/watch?v=aOtqox2uB3Y\n</code></pre>\n<h1>Info</h1>\n<h3>OS</h3>\n<p>Name: <code>Microsoft Windows 11 Home</code>\nVersion: <code>10.0.26100 N/D build 26100</code></p>\n<p>installed <code>sed</code> through <code>winget install bmatzelle.Gow</code></p>\n<p>I've always avoided using POSIX regex etc, as I found it unnecessarily complicated / limited compared to using perl/python etc. and the regex flavour available there.</p>\n<p>Any other options than to install Perl/Python? 200MB for StrawberryPerl (Perl on Windows) seems to be quite overkill and useless bloat just to have access to perl flavour regex, and <code>sed</code> unlike <code>perl</code> doen't support 'easy' regex...</p>\n<p><a href=\"https://askubuntu.com/questions/1050693/sed-with-pcre-like-grep-p\">https://askubuntu.com/questions/1050693/sed-with-pcre-like-grep-p</a></p>\n"
    },
    {
        "tags": [
            "javascript",
            "reactjs"
        ],
        "owner": {
            "account_id": 30390579,
            "reputation": 113,
            "user_id": 23289384,
            "user_type": "registered",
            "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocLL0RX03n_pva2R145DQiYmQMn1rvqEORX5XjFhQrGM4g=k-s256",
            "display_name": "big_noob",
            "link": "https://stackoverflow.com/users/23289384/big-noob"
        },
        "is_answered": true,
        "view_count": 109,
        "accepted_answer_id": 79604987,
        "answer_count": 2,
        "score": 2,
        "last_activity_date": 1746306324,
        "creation_date": 1746291903,
        "last_edit_date": 1746294624,
        "question_id": 79604939,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604939/how-does-react-render-promises-within-returned-jsx",
        "title": "How does React render promises within returned JSX?",
        "body": "<p>I have this code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { useState } from &quot;react&quot;\n\nexport default function TestRoute() {\n  const [response, setResponse] = useState&lt;Promise&lt;string&gt;&gt;()\n\n  const sendRequest = async (): Promise&lt;string&gt; =&gt; {\n    const response = await fetch('http://localhost:9090/test/test_delayed')\n    const message = await response.json()\n    return message.message\n  }\n\n  const handleButtonClick = async () =&gt; {\n    const result = sendRequest()\n    setResponse(result)\n\n  }\n  return (\n    &lt;div&gt;\n      &lt;button onClick={handleButtonClick}&gt;Delayed response&lt;/button&gt;\n      &lt;p&gt;{response}&lt;/p&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>\n<p>The <code>test/test_delayed</code> endpoint sleeps 3 seconds, then returns. This is my FastAPI code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>@router.get(&quot;/test_delayed&quot;)\nasync def test_delayed():\n    await asyncio.sleep(3)\n    return {\n        &quot;message&quot;: &quot;Delayed response&quot;,\n    }\n</code></pre>\n<p>What surprises me is that the above TSX code works. As in, after I click the button, after a 3s delay the response text appears. I would have expected React to return an error (cannot render object of type Promise or something). How is React doing this? I am using React 19.</p>\n"
    },
    {
        "tags": [
            "c++",
            "inheritance",
            "polymorphism",
            "parameter-passing",
            "value-type"
        ],
        "owner": {
            "account_id": 514136,
            "reputation": 133511,
            "user_id": 1593077,
            "user_type": "registered",
            "accept_rate": 49,
            "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=256&d=identicon&r=PG",
            "display_name": "einpoklum",
            "link": "https://stackoverflow.com/users/1593077/einpoklum"
        },
        "is_answered": false,
        "view_count": 176,
        "answer_count": 0,
        "score": 2,
        "last_activity_date": 1746537522,
        "creation_date": 1746294103,
        "last_edit_date": 1746537522,
        "question_id": 79604963,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604963/can-i-have-my-cake-and-eat-it-w-r-t-sequences-of-polymorphic-value-types",
        "title": "Can I have my cake and eat it w.r.t sequences of polymorphic value types?",
        "body": "<p>I am designing a certain part of a library and considering whether or not to use polymorphic value types of some kind . If you don't know what those are and what the motivation for them might be, see the first several paragraphs of <a href=\"https://stackoverflow.com/q/57168868/1593077\">this question</a>, Sean Parent's <a href=\"https://youtu.be/QGcVXgEVMJg\" rel=\"nofollow noreferrer\">Runtime Polymorphism</a> talk, and perhaps Klaus Ingleberger's <a href=\"https://C++%20Design%20Patterns%20-%20The%20Most%20Common%20Misconceptions\" rel=\"nofollow noreferrer\">talk</a> about <code>std::variant</code>'s vs class hierarchy structures among other things.</p>\n<p>Anyway, here's my basic scenario: I have two prospective classes B and C, which share some commonality - prospective data members and methods - but not all of it. The code for B and C is not yet written. So, I can play with their layout, I can choose what they inherit, if anything, I can decide they'll have padding, or extra members etc.</p>\n<p>As for their use - I need pass a contiguous sequence of items each of which is either a B or a C, to some function <code>void f()</code>. Let's assume that sequence will be passed as an <code>std::span</code> to keep things simple.</p>\n<p>I could do that using <em>inheritance</em> and <em>reference types</em>: Define an A class for the commonality, have B and C inherit A, and pass a sequence of pointers: Have a <code>void f(std::span&lt;A*&gt; items)</code>. This will work, but I would need to construct a sequence of pointers - even if, for example, I have a vector of all-B's or all-C's. What's worse, my <em>users</em> will likely be tasked with this construction.</p>\n<p>Alternatively, I could use Sean-Parent-style <em>polymorphic value types</em>. But then, there's going to be a heap allocation for each and every object, and moreover, if you look at the raw memory the vector uses, you won't see B's or C's, you would be seeing pointer data and maybe deleter data. So, if I have, say, an <code>std::span&lt;C&gt;</code> somewhere - I can't pass it to <code>f()</code> (directly or by recasting/extracting its <code>data()</code> etc.) - I would have to construct a separate input for <code>f()</code></p>\n<p>A third alternative might be using an <code>std::variant&lt;B,C&gt;</code>. But - objects of this type aren't themselves polymorphic, so that the code of <code>f()</code> would not be able to treat the elements uniformly, and would need to unpack/peer within each value, and I'd rather avoid that.</p>\n<p>So, I want to eat my cake and have it. That is, I want to:</p>\n<ul>\n<li>pass <code>std::span&lt;Something&gt;</code> to <code>f()</code></li>\n<li><code>f()</code> does not become a template (i.e. <code>Something</code> must be concrete type)</li>\n<li>have the physical memory at the <code>items.data()</code> of the vector I'm passing contain the physical representations of the B's and C's.</li>\n<li>perform no per-element heap allocation</li>\n<li>Hopefully, be able to interpret a <code>std::span&lt;C&gt;</code> or a <code>std::span&lt;B&gt;</code> as <code>std::span&lt;Something&gt;</code></li>\n<li>No undefined behavior...</li>\n</ul>\n<p>Is this a pipe dream, or is it possible?</p>\n<p>Notes:</p>\n<ul>\n<li>I didn't specify the C++ standard version. If the answer is &quot;yes&quot;, try using the earliest standard version possible, in your opinion, and please say which version you're relying on.</li>\n<li><a href=\"https://stackoverflow.com/q/41045/1593077\">This question</a> asks for having-and-eating less cake than mine (and Sean Parent's approach is a valid answer in that case.)</li>\n</ul>\n"
    },
    {
        "tags": [
            "mysql"
        ],
        "owner": {
            "account_id": 1480184,
            "reputation": 33,
            "user_id": 1389759,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/9f42562d301bf30c37e08c56f07907af?s=256&d=identicon&r=PG",
            "display_name": "Zcast",
            "link": "https://stackoverflow.com/users/1389759/zcast"
        },
        "is_answered": true,
        "view_count": 42,
        "accepted_answer_id": 79604985,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1746304471,
        "creation_date": 1746295585,
        "last_edit_date": 1746301039,
        "question_id": 79604979,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604979/condensing-a-query-into-a-single-better-formatted-query",
        "title": "Condensing a query into a single better formatted query",
        "body": "<p>I have been trying to combine four separate queries into one query without success.  what I have:</p>\n<pre><code>   'SELECT SUM(students.Earned) AS Theory, QuizTitle from students WHERE students.QuizTitle LIKE 'THEORY%' and students.DriverLicense = 'D120001102' \nUNION SELECT SUM(students.Earned) AS Hazmat,QuizTitle from students WHERE students.QuizTitle LIKE 'HAZMAT%' and students.DriverLicense = 'D120001102'\nUNION SELECT SUM(students.Earned) AS Pass, QuizTitle from students WHERE students.QuizTitle LIKE 'PASS%' and students.DriverLicense = 'D120001102'\nUNION SELECT SUM(students.Earned) AS Bus, QuizTitle from students WHERE students.QuizTitle LIKE 'SCHOOL%' and students.DriverLicense = 'D120001102'\ngroup by DriverLicense'\n</code></pre>\n<p>How can I condense this into a better formatted query but get the same results??</p>\n"
    },
    {
        "tags": [
            "r",
            "ggplot2",
            "timeserieschart"
        ],
        "owner": {
            "account_id": 18361397,
            "reputation": 47,
            "user_id": 13373425,
            "user_type": "registered",
            "profile_image": "https://www.gravatar.com/avatar/8752dfc1db3790075d1043fc655e7c38?s=256&d=identicon&r=PG&f=y&so-version=2",
            "display_name": "AnneA",
            "link": "https://stackoverflow.com/users/13373425/annea"
        },
        "is_answered": true,
        "view_count": 52,
        "accepted_answer_id": 79605004,
        "answer_count": 1,
        "score": 2,
        "last_activity_date": 1746299989,
        "creation_date": 1746296069,
        "question_id": 79604983,
        "content_license": "CC BY-SA 4.0",
        "link": "https://stackoverflow.com/questions/79604983/x-axis-scale-over-night",
        "title": "X-axis scale over night",
        "body": "<p>I have data collected over night with timestamps. I would like to plot this so that the x-axis runs from 9pm to 5am, but I can't figure out how to do it.</p>\n<p>Here is some dummy data:</p>\n<pre><code>    library(tidyverse)\n    library(hms)\n     \ntest &lt;- data.frame(day = as.factor(rep(1:3, each = 8)),\n               time = rep(seq(from = as.POSIXct(&quot;2025-05-03 21:00&quot;, tz = &quot;UTC&quot;), \n                              to = as.POSIXct(&quot;2025-05-04 04:00&quot;, tz = &quot;UTC&quot;), \n                              by = &quot;hour&quot;), 3),\n               count = sample(1:50, 24, replace = TRUE)) %&gt;%\n  mutate(time = as_hms(time))\n\ntest %&gt;%\n  ggplot(aes(x = time, y = count, fill = day)) +\n  geom_bar(position = &quot;dodge&quot;, stat = &quot;identity&quot;)\n</code></pre>\n<p>What I know to make:</p>\n<p><a href=\"https://i.sstatic.net/Z4FNutTm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Z4FNutTm.png\" alt=\"simple bar plot running from 00:00 to 24:00\" /></a></p>\n<p>A bad paint version of what I want:</p>\n<p><a href=\"https://i.sstatic.net/VCUPxhnt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/VCUPxhnt.png\" alt=\"simple bar plot running from 8pm to 4am\" /></a></p>\n"
    }
]